bin/run-generator-grid.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L2dlbmVyYXRvcnMvRmx1aWRHZW5lcmF0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0dlbmVyYXRvckdyaWRDb250cm9sLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GaWxlTG9hZGVyLmx1YSIpCgpsb2NhbCBjb25maWcgPSBGaWxlTG9hZGVyLmxvYWRDb25maWcoImNvbmZpZy5qc29uIikKCnJlZG5ldC5vcGVuKGNvbmZpZ1sicmVkbmV0Il0pCgpsb2NhbCBnZW5lcmF0b3JzID0ge30KCmZvciBfLCBwZXJpcGhlcmFsTmFtZSBpbiBwYWlycyhjb25maWdbImdlbmVyYXRvcnMiXSkgZG8KICBsb2NhbCBnZW5lcmF0b3IgPSBGbHVpZEdlbmVyYXRvcjpjcmVhdGUoCiAgICBwZXJpcGhlcmFsLndyYXAocGVyaXBoZXJhbE5hbWUpLAogICAgY29uZmlnWyJmdWVsIl0KICApCiAgdGFibGUuaW5zZXJ0KGdlbmVyYXRvcnMsIGdlbmVyYXRvcikKZW5kCgpsb2NhbCBtb25pdG9yID0gUmVtb3RlTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVtb3RlTW9uaXRvciJdKQoKbG9jYWwgc2l6ZXMgPSB7fQpzaXplc1sxXSA9IHsKICBiaWcgPSA3OSwKICBtZWRpdW0gPSA1Nwp9CnNpemVzWzJdID0gewogIGJpZyA9IDUxLAogIG1lZGl1bSA9IDM3LAogIHNtYWxsID0gMjMKfQoKaWYgY29uZmlnWyJtb25pdG9yU2l6ZSJdWzFdID09ICJzbWFsbCIgdGhlbgogIGVycm9yKCJDYW4gbm90IHVzZSBzbWFsbCBmb3Igd2lkdGgsIG9ubHkgKG1lZGl1bXxiaWcpIikKZW5kCgpsb2NhbCBjb250cm9sID0gR2VuZXJhdG9yR3JpZENvbnRyb2w6Y3JlYXRlKAogIGNvbmZpZ1sibmFtZSJdLAogIHNpemVzWzFdW2NvbmZpZ1sibW9uaXRvclNpemUiXVsxXV0sCiAgc2l6ZXNbMl1bY29uZmlnWyJtb25pdG9yU2l6ZSJdWzJdXSwKICBnZW5lcmF0b3JzLAogIG1vbml0b3IsCiAgY29uZmlnWyJmdWVsIl0KKQoKY29udHJvbDpydW4oKQoKcmVkbmV0LmNsb3NlKGNvbmZpZ1sicmVkbmV0Il0pCg==
bin/run-turtle.lua
ZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGUubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVIZWxwZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQoKbG9jYWwgY29uZmlnID0gRmlsZUxvYWRlci5sb2FkQ29uZmlnKCJjb25maWcuanNvbiIpCgpsb2NhbCByZWRuZXRDbGllbnQgPSBSZWRuZXRDbGllbnQ6Y3JlYXRlKGNvbmZpZ1sicmVkbmV0Il0pCgpUdXJ0bGUuaW5pdCgKICAgIGNvbmZpZ1sibmFtZSJdLAogICAgVHVydGxlSGVscGVyLmNyZWF0ZVZlY3RvckZyb21TdHJpbmcoY29uZmlnWyJzdGFydCJdKSwKICAgIFR1cnRsZUhlbHBlci5jcmVhdGVWZWN0b3JGcm9tU3RyaW5nKGNvbmZpZ1siZW5kIl0pLAogICAgVHVydGxlSGVscGVyLmNyZWF0ZVZlY3RvckZyb21TdHJpbmcoY29uZmlnWyJzdG9yYWdlIl0pLAogICAgVHVydGxlSGVscGVyLmNyZWF0ZVZlY3RvckZyb21TdHJpbmcoY29uZmlnWyJ0b3JjaFN0b3JhZ2UiXSksCiAgICBUdXJ0bGVIZWxwZXIuY3JlYXRlVmVjdG9yRnJvbVN0cmluZyhjb25maWdbInN0b25lU3RvcmFnZSJdKSwKICAgIGNvbmZpZ1sic3RvcmFnZVNpZGUiXSwKICAgIHJlZG5ldENsaWVudCwKICAgIHsuLi59CikK
bin/run-turbine.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvR2VuZXJhdG9yLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GbHVpZFRhbmsubHVhIikKZG9maWxlKCJsaWJyYXJ5L1R1cmJpbmVDb250cm9sLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GaWxlTG9hZGVyLmx1YSIpCgpsb2NhbCBjb25maWcgPSBGaWxlTG9hZGVyLmxvYWRDb25maWcoImNvbmZpZy5qc29uIikKCmxvY2FsIHJlZG5ldENsaWVudCA9IFJlZG5ldENsaWVudDpjcmVhdGUoY29uZmlnWyJyZWRuZXQiXSkKCmxvY2FsIG1vbml0b3IgPSBSZW1vdGVNb25pdG9yOmNyZWF0ZShjb25maWdbIm5hbWUiXSwgY29uZmlnWyJyZW1vdGVNb25pdG9yIl0pCgpsb2NhbCBnZW5lcmF0b3IxID0gR2VuZXJhdG9yOmNyZWF0ZShwZXJpcGhlcmFsLndyYXAoY29uZmlnWyJnZW5lcmF0b3IxIl0pKQpsb2NhbCBnZW5lcmF0b3IyID0gR2VuZXJhdG9yOmNyZWF0ZShwZXJpcGhlcmFsLndyYXAoY29uZmlnWyJnZW5lcmF0b3IyIl0pKQoKbG9jYWwgaGVhdEV4Y2hhbmdlciA9IEZsdWlkVGFuazpjcmVhdGUocGVyaXBoZXJhbC53cmFwKGNvbmZpZ1siaGVhdEV4Y2hhbmdlciJdKSkKbG9jYWwgc3RlYW1HZW5lcmF0b3IgPSBGbHVpZFRhbms6Y3JlYXRlKHBlcmlwaGVyYWwud3JhcChjb25maWdbInN0ZWFtR2VuZXJhdG9yIl0pKQoKbG9jYWwgY29udHJvbCA9IFR1cmJpbmVDb250cm9sOmNyZWF0ZSgKICBjb25maWdbIm5hbWUiXSwKICBtb25pdG9yLAogIGdlbmVyYXRvcjEsCiAgZ2VuZXJhdG9yMiwKICBoZWF0RXhjaGFuZ2VyLAogIHN0ZWFtR2VuZXJhdG9yLAogIHJlZG5ldENsaWVudAopCgpjb250cm9sOnJ1bigpCgpyZWRuZXRDbGllbnQuY2xvc2UoKQo=
bin/run-electro-meter.lua
ZG9maWxlKCJsaWJyYXJ5L0VsZWN0cm9NZXRlci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvUmVtb3RlTW9uaXRvci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRW5lcmd5U3RvcmFnZS5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvUmVkc3RvbmVJbnRlZ3JhdG9yLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GaWxlTG9hZGVyLmx1YSIpCgpsb2NhbCBjb25maWcgPSBGaWxlTG9hZGVyLmxvYWRDb25maWcoImNvbmZpZy5qc29uIikKCnJlZG5ldC5vcGVuKGNvbmZpZ1sicmVkbmV0Il0pCgpsb2NhbCBzdG9yYWdlID0gRW5lcmd5U3RvcmFnZTpjcmVhdGUocGVyaXBoZXJhbC53cmFwKGNvbmZpZ1sibWZzdSJdKSkKCmxvY2FsIGlucHV0SW50ZWdyYXRvciA9IFJlZHN0b25lSW50ZWdyYXRvcjpjcmVhdGUocGVyaXBoZXJhbC53cmFwKGNvbmZpZ1siaW5wdXRJbnRlZ3JhdG9yIl1bMV0pLCBjb25maWdbImlucHV0SW50ZWdyYXRvciJdWzJdKQoKbG9jYWwgb3V0cHV0SW50ZWdyYXRvciA9IFJlZHN0b25lSW50ZWdyYXRvcjpjcmVhdGUocGVyaXBoZXJhbC53cmFwKGNvbmZpZ1sib3V0cHV0SW50ZWdyYXRvciJdWzFdKSwgY29uZmlnWyJvdXRwdXRJbnRlZ3JhdG9yIl1bMl0pCgpsb2NhbCBtb25pdG9yID0gUmVtb3RlTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVtb3RlTW9uaXRvciJdKQoKbG9jYWwgbWV0ZXIgPSBFbGVjdHJvTWV0ZXI6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBtb25pdG9yLCBzdG9yYWdlLCBpbnB1dEludGVncmF0b3IsIG91dHB1dEludGVncmF0b3IsIGNvbmZpZ1siYXV0b01vZGUiXSkKCm1ldGVyOnJ1bigpCgpyZWRuZXQuY2xvc2UoY29uZmlnWyJyZWRuZXQiXSkK
bin/run-event-listener.lua
YXJncyA9IHsuLi59Cgpsb2NhbCBsaXN0ZW5lciA9IHRleHR1dGlscy51bnNlcmlhbGl6ZShhcmdzWzFdKQppZiBsaXN0ZW5lciA9PSBuaWwgdGhlbgogIGVycm9yKCJGaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBsaXN0ZW5lciBvYmplY3QiKQplbmQKCmRvZmlsZSgibGlicmFyeS9saXN0ZW5lcnMvIiAuLiBsaXN0ZW5lclsidHlwZSJdIC4uICIubHVhIikKCmxvY2FsIGxpc3RlbmVyID0gX0dbbGlzdGVuZXJbInR5cGUiXV0uZnJvbUFycmF5KGxpc3RlbmVyKQoKd2hpbGUgdHJ1ZSBkbwogIGV2ZW50LG1vbml0b3IseCx5ID0gb3MucHVsbEV2ZW50KGxpc3RlbmVyOmdldEV2ZW50KCkpCiAgbGlzdGVuZXI6dHJpZ2dlcihtb25pdG9yLCB4LCB5KQplbmQK
bin/run-reactor-monitor.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvUmVhY3Rvck1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKCmxvY2FsIGNvbmZpZyA9IEZpbGVMb2FkZXIubG9hZENvbmZpZygiY29uZmlnLmpzb24iKQoKbG9jYWwgZW52ID0gc2V0bWV0YXRhYmxlKHtzaGVsbCA9IHNoZWxsLCBtdWx0aXNoZWxsID0gbXVsdGlzaGVsbH0sIHtfX2luZGV4ID0gX0d9KQoKbG9jYWwgcmVkbmV0Q2xpZW50ID0gUmVkbmV0Q2xpZW50OmNyZWF0ZShjb25maWdbInJlZG5ldCJdKQoKbG9jYWwgbW9uaXRvciA9IFJlbW90ZU1vbml0b3I6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBjb25maWdbInJlbW90ZU1vbml0b3IiXSkKCmxvY2FsIGNvbnRyb2wgPSBSZWFjdG9yTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVhY3Rvck5hbWUiXSwgbW9uaXRvciwgcmVkbmV0Q2xpZW50LCBlbnYpCgpjb250cm9sOnJ1bigpCgpyZWRuZXRDbGllbnQuY2xvc2UoKQo=
bin/run-command-listener.lua
ZG9maWxlKCJsaWJyYXJ5L2xpc3RlbmVycy9Db21tYW5kTGlzdGVuZXIubHVhIikKCmFyZ3MgPSB7Li4ufQoKbG9jYWwgbmFtZSA9IGFyZ3NbMV0KaWYgbmFtZSA9PSBuaWwgdGhlbgogIGVycm9yKCJGaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBuYW1lIikKZW5kCgpsb2NhbCByZWRuZXRTaWRlID0gYXJnc1syXQppZiByZWRuZXRTaWRlID09IG5pbCB0aGVuCiAgZXJyb3IoIlNlY29uZCBwYXJhbWV0ZXIgbXVzdCBiZSByZWRuZXQgc2lkZSIpCmVuZAoKbG9jYWwgbGlzdGVuZXIgPSBDb21tYW5kTGlzdGVuZXI6Y3JlYXRlKG5hbWUsIHJlZG5ldFNpZGUpCmxpc3RlbmVyOmxpc3RlbigpCg==
bin/run-monitor.lua
ZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvTW9uaXRvci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvTW9uaXRvckNvbnRyb2wubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKCmxvY2FsIGNvbmZpZyA9IEZpbGVMb2FkZXIubG9hZENvbmZpZygiY29uZmlnLmpzb24iKQoKbG9jYWwgZW52ID0gc2V0bWV0YXRhYmxlKHtzaGVsbCA9IHNoZWxsLCBtdWx0aXNoZWxsID0gbXVsdGlzaGVsbH0sIHtfX2luZGV4ID0gX0d9KQoKbG9jYWwgcmVkbmV0Q2xpZW50ID0gUmVkbmV0Q2xpZW50OmNyZWF0ZShjb25maWdbInJlZG5ldCJdKQoKbG9jYWwgbW9uaXRvcnMgPSB7fQoKZm9yIG5hbWUsIG1vbml0b3JEZXZpY2UgaW4gcGFpcnMoY29uZmlnWyJtb25pdG9ycyJdKSBkbwogIG1vbml0b3IgPSBNb25pdG9yOmNyZWF0ZShwZXJpcGhlcmFsLndyYXAobW9uaXRvckRldmljZSkpCiAgbW9uaXRvcjpjbGVhcigpCiAgbW9uaXRvcnNbbmFtZV0gPSB7IG5hbWUgPSBtb25pdG9yRGV2aWNlLCBtb25pdG9yID0gbW9uaXRvciB9CmVuZAoKbG9jYWwgY29udHJvbCA9IE1vbml0b3JDb250cm9sOmNyZWF0ZShjb25maWdbIm5hbWUiXSwgcmVkbmV0Q2xpZW50LCBtb25pdG9ycywgZW52KQoKY29udHJvbDpydW4oKQoKcmVkbmV0Q2xpZW50LmNsb3NlKCkK
bin/manage.lua
ZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQoKYXJncyA9IHsuLi59Cgpsb2NhbCByZWRuZXRDbGllbnQgPSBSZWRuZXRDbGllbnQ6Y3JlYXRlKCJiYWNrIikKCmxvY2FsIHBsdWdpbiA9IGFyZ3NbMV0KbG9jYWwgY29tbWFuZCA9IGFyZ3NbMl0KCmlmIHBsdWdpbiA9PSBuaWwgb3IgY29tbWFuZCA9PSBuaWwgdGhlbgogIHByaW50KCJFUlJPUjogUmVxdWlyZWQgcGFyYW1ldGVycyA8cGx1Z2luPiA8Y29tbWFuZD4iKQogIHJldHVybgplbmQKCmxvY2FsIHBsdWdpbnMgPSB7CiAgZWxlY3Ryb01ldGVyID0gewogICAgZW5hYmxlSW5wdXQgPSBmdW5jdGlvbiAoZWxlY3Ryb01ldGVyTmFtZSkKICAgICAgcmVkbmV0LmJyb2FkY2FzdCgiZW5hYmxlSW5wdXQiLCBlbGVjdHJvTWV0ZXJOYW1lKQogICAgICByZXR1cm4gdHJ1ZQogICAgZW5kLAogICAgZGlzYWJsZUlucHV0ID0gZnVuY3Rpb24gKGVsZWN0cm9NZXRlck5hbWUpCiAgICAgIHJlZG5ldC5icm9hZGNhc3QoImRpc2FibGVJbnB1dCIsIGVsZWN0cm9NZXRlck5hbWUpCiAgICAgIHJldHVybiB0cnVlCiAgICBlbmQsCiAgICBlbmFibGVPdXRwdXQgPSBmdW5jdGlvbiAoZWxlY3Ryb01ldGVyTmFtZSkKICAgICAgcmVkbmV0LmJyb2FkY2FzdCgiZW5hYmxlT3V0cHV0IiwgZWxlY3Ryb01ldGVyTmFtZSkKICAgICAgcmV0dXJuIHRydWUKICAgIGVuZCwKICAgIGRpc2FibGVPdXRwdXQgPSBmdW5jdGlvbiAoZWxlY3Ryb01ldGVyTmFtZSkKICAgICAgcmVkbmV0LmJyb2FkY2FzdCgiZGlzYWJsZU91dHB1dCIsIGVsZWN0cm9NZXRlck5hbWUpCiAgICAgIHJldHVybiB0cnVlCiAgICBlbmQsCiAgICBzdGF0dXMgPSBmdW5jdGlvbiAoZWxlY3Ryb01ldGVyTmFtZSkKICAgICAgaWQsIG1lc3NhZ2UgPSByZWRuZXRDbGllbnQ6cmVjZWl2ZShlbGVjdHJvTWV0ZXJOYW1lLCAic3RhdHVzIiwgNCkKCiAgICAgIGlmIG1lc3NhZ2Ugfj0gbmlsIHRoZW4KICAgICAgICBtZXNzYWdlID0gdGV4dHV0aWxzLnVuc2VyaWFsaXplKG1lc3NhZ2UpCgogICAgICAgIGxvY2FsIG1vZGUgPSBtZXNzYWdlWyJtb2RlIl0KCiAgICAgICAgaWYgbWVzc2FnZVsiaW5wdXQiXSB0aGVuCiAgICAgICAgICBpbnB1dCA9ICJPTiIKICAgICAgICBlbHNlCiAgICAgICAgICBpbnB1dCA9ICJPRkYiCiAgICAgICAgZW5kCgogICAgICAgIGlmIG1lc3NhZ2VbIm91dHB1dCJdIHRoZW4KICAgICAgICAgIG91dHB1dCA9ICJPTiIKICAgICAgICBlbHNlCiAgICAgICAgICBvdXRwdXQgPSAiT0ZGIgogICAgICAgIGVuZAoKICAgICAgICBwcmludCgiWyIgLi4gZWxlY3Ryb01ldGVyTmFtZSAuLiAiXSAoIiAuLiBtb2RlIC4uICIpIikKICAgICAgICBwcmludCgiICBJbnB1dCA6ICIgLi4gaW5wdXQpCiAgICAgICAgcHJpbnQoIiAgT3V0cHV0OiAiIC4uIG91dHB1dCkKICAgICAgZWxzZQogICAgICAgIHByaW50KCJFcnJvcjogTm8gcmVzcG9uc2UgZnJvbSBlbGVjdHJvIG1ldGVyIikKICAgICAgZW5kCgogICAgICByZXR1cm4gdHJ1ZQogICAgZW5kCiAgfSwKICByZWFjdG9yID0gewogICAgc2h1dGRvd24gPSBmdW5jdGlvbiAocmVhY3Rvck5hbWUpCiAgICAgIHJlZG5ldC5icm9hZGNhc3QoInNodXRkb3duIiwgcmVhY3Rvck5hbWUpCiAgICAgIGlkLCBtZXNzYWdlID0gcmVkbmV0Q2xpZW50OnJlY2VpdmUocmVhY3Rvck5hbWUsICJzdGF0dXMiLCAwLjQpCgogICAgICBpZiBtZXNzYWdlIH49IG5pbCB0aGVuCiAgICAgICAgbWVzc2FnZSA9IHRleHR1dGlscy51bnNlcmlhbGl6ZShtZXNzYWdlKQoKICAgICAgICBpZiBtZXNzYWdlWyJhY3RpdmUiXSA9PSBmYWxzZSB0aGVuCiAgICAgICAgICBwcmludCgiU3VjY2Vzc2Z1bHkgc3RvcHBlZCByZWFjdG9yOiAiIC4uIHJlYWN0b3JOYW1lKQogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKCiAgICAgIGVuZAoKICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQsCiAgICBydW4gPSBmdW5jdGlvbiAocmVhY3Rvck5hbWUpCiAgICAgIHJlZG5ldC5icm9hZGNhc3QoImNvbnRpbnVlIiwgcmVhY3Rvck5hbWUpCiAgICAgIGlkLCBtZXNzYWdlID0gcmVkbmV0Q2xpZW50OnJlY2VpdmUocmVhY3Rvck5hbWUsICJzdGF0dXMiLCAwLjQpCgogICAgICBpZiBtZXNzYWdlIH49IG5pbCB0aGVuCiAgICAgICAgbWVzc2FnZSA9IHRleHR1dGlscy51bnNlcmlhbGl6ZShtZXNzYWdlKQoKICAgICAgICBpZiBtZXNzYWdlWyJhY3RpdmUiXSA9PSBmYWxzZSB0aGVuCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICBlbmQKCiAgICAgICAgcHJpbnQoIlN1Y2Nlc3NmdWx5IHN0YXJ0ZWQgcmVhY3RvcjogIiAuLiByZWFjdG9yTmFtZSkKICAgICAgZWxzZQogICAgICAgIHByaW50KCJFcnJvcjogTm8gcmVzcG9uc2UgZnJvbSByZWFjdG9yIikKICAgICAgZW5kCgogICAgICByZXR1cm4gdHJ1ZQogICAgZW5kLAogICAgc3RhdHVzID0gZnVuY3Rpb24gKHJlYWN0b3JOYW1lKQogICAgICBpZCwgbWVzc2FnZSA9IHJlZG5ldENsaWVudDpyZWNlaXZlKHJlYWN0b3JOYW1lLCAic3RhdHVzIiwgMikKCiAgICAgIGlmIG1lc3NhZ2Ugfj0gbmlsIHRoZW4KICAgICAgICBtZXNzYWdlID0gdGV4dHV0aWxzLnVuc2VyaWFsaXplKG1lc3NhZ2UpCgogICAgICAgIGxvY2FsIHBlcmNlbnRhZ2UgPSBtZXNzYWdlWyJoZWF0Il0gLyBtZXNzYWdlWyJtYXhIZWF0Il0gKiAxMDAKCiAgICAgICAgaWYgbWVzc2FnZVsiYWN0aXZlIl0gdGhlbgogICAgICAgICAgc3RhdGUgPSAicnVubmluZyIKICAgICAgICBlbHNlCiAgICAgICAgICBzdGF0ZSA9ICJ3YWl0aW5nIgogICAgICAgIGVuZAoKICAgICAgICBpZiBwZXJjZW50YWdlID49IDIwIHRoZW4KICAgICAgICAgIHN0YXR1cyA9ICJIT1QiCiAgICAgICAgZWxzZQogICAgICAgICAgc3RhdHVzID0gIk9LIgogICAgICAgIGVuZAoKICAgICAgICBwcmludCgiWyIgLi4gcmVhY3Rvck5hbWUgLi4gIl0gKCIgLi4gc3RhdGUgLi4gIikiKQogICAgICAgIHByaW50KCIgIEhlYXQ6ICIgLi4gbWVzc2FnZVsiaGVhdCJdIC4uICIvIiAuLiBtZXNzYWdlWyJtYXhIZWF0Il0gLi4gIiAtICIgLi4gcGVyY2VudGFnZSAuLiAiJSIpCiAgICAgICAgcHJpbnQoIiAgT3V0cHV0OiAiIC4uIG1lc3NhZ2VbIm91dHB1dCJdIC4uICIgRVUvdCIpCiAgICAgICAgcHJpbnQoIiAgU3RhdHVzOiAiIC4uIHN0YXR1cykKICAgICAgZWxzZQogICAgICAgIHByaW50KCJFcnJvcjogTm8gcmVzcG9uc2UgZnJvbSByZWFjdG9yIikKICAgICAgZW5kCgogICAgICByZXR1cm4gdHJ1ZQogICAgZW5kCiAgfQp9CgppZiBwbHVnaW5zW3BsdWdpbl0gPT0gbmlsIG9yIHBsdWdpbnNbcGx1Z2luXVtjb21tYW5kXSA9PSBuaWwgdGhlbgogIHByaW50KCJFUlJPUjogVW5rbm93biBwbHVnaW4gb3IgY29tbWFuZCIpCiAgcmV0dXJuCmVuZAoKY29udGludWUgPSB0cnVlCndoaWxlIGNvbnRpbnVlCmRvCiAgY29udGludWUgPSBub3QgcGx1Z2luc1twbHVnaW5dW2NvbW1hbmRdKGFyZ3NbM10pCiAgc2xlZXAoMSkKZW5kCg==
bin/manager.lua
ZG9maWxlKCJsaWJyYXJ5L01hbmFnZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvbWFuYWdlclBsdWdpbnMvUmVhY3RvclBsdWdpbi5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvbWFuYWdlclBsdWdpbnMvRXVTdG9yYWdlUGx1Z2luLmx1YSIpCmRvZmlsZSgibGlicmFyeS9tYW5hZ2VyUGx1Z2lucy9UdXJ0bGVQbHVnaW4ubHVhIikKCmxvY2FsIHJlZG5ldENsaWVudCA9IFJlZG5ldENsaWVudDpjcmVhdGUoImJhY2siKQoKbG9jYWwgcGx1Z2lucyA9IHt9CnBsdWdpbnNbInJlYWN0b3IiXSA9IFJlYWN0b3JQbHVnaW46Y3JlYXRlKHJlZG5ldENsaWVudCkKcGx1Z2luc1siZXUtc3RvcmFnZSJdID0gRXVTdG9yYWdlUGx1Z2luOmNyZWF0ZShyZWRuZXRDbGllbnQpCnBsdWdpbnNbInR1cnRsZSJdID0gVHVydGxlUGx1Z2luOmNyZWF0ZShyZWRuZXRDbGllbnQpCgpsb2NhbCBtYW5hZ2VyID0gTWFuYWdlcjpjcmVhdGUocGx1Z2lucywgey4uLn0pCm1hbmFnZXI6cnVuKCk=
bin/run-energy-storage.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0VuZXJneVN0b3JhZ2UubHVhIikKZG9maWxlKCJsaWJyYXJ5L1N0b3JhZ2VDb250cm9sLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GaWxlTG9hZGVyLmx1YSIpCgpsb2NhbCBjb25maWcgPSBGaWxlTG9hZGVyLmxvYWRDb25maWcoImNvbmZpZy5qc29uIikKCnJlZG5ldC5vcGVuKGNvbmZpZ1sicmVkbmV0Il0pCgpsb2NhbCBzdG9yYWdlID0gRW5lcmd5U3RvcmFnZTpjcmVhdGUocGVyaXBoZXJhbC53cmFwKGNvbmZpZ1sic3RvcmFnZSJdKSkKCmxvY2FsIG1vbml0b3IgPSBSZW1vdGVNb25pdG9yOmNyZWF0ZShjb25maWdbIm5hbWUiXSwgY29uZmlnWyJyZW1vdGVNb25pdG9yIl0pCgpsb2NhbCBjb250cm9sID0gU3RvcmFnZUNvbnRyb2w6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBzdG9yYWdlLCBtb25pdG9yKQoKY29udHJvbDpydW4oKQoKcmVkbmV0LmNsb3NlKGNvbmZpZ1sicmVkbmV0Il0pCg==
bin/run-fluid-tank.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZsdWlkVGFuay5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRmx1aWRUYW5rQ29udHJvbC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRmlsZUxvYWRlci5sdWEiKQoKbG9jYWwgY29uZmlnID0gRmlsZUxvYWRlci5sb2FkQ29uZmlnKCJjb25maWcuanNvbiIpCgpyZWRuZXQub3Blbihjb25maWdbInJlZG5ldCJdKQoKbG9jYWwgZmx1aWRUYW5rID0gRmx1aWRUYW5rOmNyZWF0ZShwZXJpcGhlcmFsLndyYXAoY29uZmlnWyJ0YW5rIl0pKQoKbG9jYWwgbW9uaXRvciA9IFJlbW90ZU1vbml0b3I6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBjb25maWdbInJlbW90ZU1vbml0b3IiXSkKCmxvY2FsIGNvbnRyb2wgPSBGbHVpZFRhbmtDb250cm9sOmNyZWF0ZShjb25maWdbIm5hbWUiXSwgZmx1aWRUYW5rLCBtb25pdG9yKQoKY29udHJvbDpydW4oKQoKcmVkbmV0LmNsb3NlKGNvbmZpZ1sicmVkbmV0Il0pCg==
bin/run-energy-storage-grid.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0VuZXJneVN0b3JhZ2UubHVhIikKZG9maWxlKCJsaWJyYXJ5L1N0b3JhZ2VHcmlkQ29udHJvbC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRmlsZUxvYWRlci5sdWEiKQoKbG9jYWwgY29uZmlnID0gRmlsZUxvYWRlci5sb2FkQ29uZmlnKCJjb25maWcuanNvbiIpCgpyZWRuZXQub3Blbihjb25maWdbInJlZG5ldCJdKQoKbG9jYWwgc3RvcmFnZXMgPSB7fQoKZm9yIF8sIHBlcmlwaGVyYWxOYW1lIGluIHBhaXJzKGNvbmZpZ1sic3RvcmFnZXMiXSkgZG8KICBsb2NhbCBzdG9yYWdlID0gRW5lcmd5U3RvcmFnZTpjcmVhdGUocGVyaXBoZXJhbC53cmFwKHBlcmlwaGVyYWxOYW1lKSkKICB0YWJsZS5pbnNlcnQoc3RvcmFnZXMsIHN0b3JhZ2UpCmVuZAoKbG9jYWwgbW9uaXRvciA9IFJlbW90ZU1vbml0b3I6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBjb25maWdbInJlbW90ZU1vbml0b3IiXSkKCmxvY2FsIHNpemVzID0ge30Kc2l6ZXNbMV0gPSB7CiAgYmlnID0gNzksCiAgbWVkaXVtID0gNTcKfQpzaXplc1syXSA9IHsKICBiaWcgPSA1MSwKICBtZWRpdW0gPSAzNywKICBzbWFsbCA9IDIzCn0KCmlmIGNvbmZpZ1sibW9uaXRvclNpemUiXVsxXSA9PSAic21hbGwiIHRoZW4KICBlcnJvcigiQ2FuIG5vdCB1c2Ugc21hbGwgZm9yIHdpZHRoLCBvbmx5IChtZWRpdW18YmlnKSIpCmVuZAoKbG9jYWwgY29udHJvbCA9IFN0b3JhZ2VHcmlkQ29udHJvbDpjcmVhdGUoCiAgY29uZmlnWyJuYW1lIl0sCiAgc3RvcmFnZXMsCiAgbW9uaXRvciwKICBzaXplc1sxXVtjb25maWdbIm1vbml0b3JTaXplIl1bMV1dLAogIHNpemVzWzJdW2NvbmZpZ1sibW9uaXRvclNpemUiXVsyXV0KKQoKY29udHJvbDpydW4oKQoKcmVkbmV0LmNsb3NlKGNvbmZpZ1sicmVkbmV0Il0pCg==
bin/run-turtle-monitor.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvVHVydGxlTW9uaXRvci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRmlsZUxvYWRlci5sdWEiKQoKbG9jYWwgY29uZmlnID0gRmlsZUxvYWRlci5sb2FkQ29uZmlnKCJjb25maWcuanNvbiIpCgpsb2NhbCBlbnYgPSBzZXRtZXRhdGFibGUoe3NoZWxsID0gc2hlbGwsIG11bHRpc2hlbGwgPSBtdWx0aXNoZWxsfSwge19faW5kZXggPSBfR30pCgpsb2NhbCByZWRuZXRDbGllbnQgPSBSZWRuZXRDbGllbnQ6Y3JlYXRlKGNvbmZpZ1sicmVkbmV0Il0pCgpsb2NhbCBtb25pdG9yID0gUmVtb3RlTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVtb3RlTW9uaXRvciJdKQoKbG9jYWwgY29udHJvbCA9IFR1cnRsZU1vbml0b3I6Y3JlYXRlKGNvbmZpZ1sibmFtZSJdLCBjb25maWdbInR1cnRsZU5hbWUiXSwgbW9uaXRvciwgcmVkbmV0Q2xpZW50LCBlbnYpCgpjb250cm9sOnJ1bigpCgpyZWRuZXRDbGllbnQuY2xvc2UoKQo=
bin/run-reactor.lua
ZG9maWxlKCJsaWJyYXJ5L1JlYWN0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L01vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L1JlYWN0b3JDb250cm9sLmx1YSIpCmRvZmlsZSgibGlicmFyeS9SZWRzdG9uZUludGVncmF0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKCmxvY2FsIGNvbmZpZyA9IEZpbGVMb2FkZXIubG9hZENvbmZpZygiY29uZmlnLmpzb24iKQoKbG9jYWwgZW52ID0gc2V0bWV0YXRhYmxlKHtzaGVsbCA9IHNoZWxsLCBtdWx0aXNoZWxsID0gbXVsdGlzaGVsbH0sIHtfX2luZGV4ID0gX0d9KQoKbG9jYWwgcmVkbmV0Q2xpZW50ID0gUmVkbmV0Q2xpZW50OmNyZWF0ZShjb25maWdbInJlZG5ldCJdKQoKbG9jYWwgcmVhY3RvciA9IFJlYWN0b3I6Y3JlYXRlKHBlcmlwaGVyYWwud3JhcChjb25maWdbInJlYWN0b3IiXSksIGNvbmZpZ1sidHlwZSJdIG9yICJFVSIpCgpsb2NhbCBpbnRlZ3JhdG9yID0gUmVkc3RvbmVJbnRlZ3JhdG9yOmNyZWF0ZShwZXJpcGhlcmFsLndyYXAoY29uZmlnWyJpbnRlZ3JhdG9yIl1bMV0pLCBjb25maWdbImludGVncmF0b3IiXVsyXSkKCmxvY2FsIG1vbml0b3IKaWYgY29uZmlnWyJyZW1vdGVNb25pdG9yIl0gfj0gbmlsIHRoZW4KICBtb25pdG9yID0gUmVtb3RlTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVtb3RlTW9uaXRvciJdKQplbHNlCiAgbW9uaXRvciA9IE1vbml0b3I6Y3JlYXRlKHBlcmlwaGVyYWwud3JhcChjb25maWdbIm1vbml0b3IiXSkpCmVuZAoKbG9jYWwgY29udHJvbCA9IFJlYWN0b3JDb250cm9sOmNyZWF0ZShjb25maWdbIm5hbWUiXSwgcmVhY3RvciwgbW9uaXRvciwgaW50ZWdyYXRvciwgcmVkbmV0Q2xpZW50LCBlbnYpCgpjb250cm9sOnJ1bigpCgpyZWRuZXRDbGllbnQuY2xvc2UoKQo=
bin/terminate-reactor.lua
ZG9maWxlKCJsaWJyYXJ5L1JlbW90ZU1vbml0b3IubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKCmxvY2FsIGNvbmZpZyA9IEZpbGVMb2FkZXIubG9hZENvbmZpZygiY29uZmlnLmpzb24iKQoKbG9jYWwgaW50ZWdyYXRvciA9IHBlcmlwaGVyYWwud3JhcChjb25maWdbImludGVncmF0b3IiXVsxXSkKaW50ZWdyYXRvci5zZXRBbmFsb2dPdXRwdXQoY29uZmlnWyJpbnRlZ3JhdG9yIl1bMl0sIDApCgpsb2NhbCBtb25pdG9yID0gUmVtb3RlTW9uaXRvcjpjcmVhdGUoY29uZmlnWyJuYW1lIl0sIGNvbmZpZ1sicmVtb3RlTW9uaXRvciJdKQptb25pdG9yOmNsZWFyKCkKCm1vbml0b3I6d3JpdGVsbigiTnVjbGVhciByZWFjdG9yOiAiIC4uIGNvbmZpZ1sibmFtZSJdKQptb25pdG9yOndyaXRlbG4oc3RyaW5nLnJlcCgiLSIsIDI5KSkKbW9uaXRvcjp3cml0ZWxuKCJUZXJtaW5hdGVkIGJ5IGNvbW1hbmQuLi4iKQptb25pdG9yOnB1c2goKQo=
config/electro-meter-config.json
ewogICJuYW1lIjogImVtMSIsCiAgInJlZG5ldCI6ICJsZWZ0IiwKICAicmVtb3RlTW9uaXRvciI6ICJtMSIsCiAgIm1mc3UiOiAiaWMyOm1mc3VfMCIsCiAgImlucHV0SW50ZWdyYXRvciI6IFsicmVkc3RvbmVfaW50ZWdyYXRvcl8xIiwgIndlc3QiXSwKICAib3V0cHV0SW50ZWdyYXRvciI6IFsicmVkc3RvbmVfaW50ZWdyYXRvcl8yIiwgIm5vcnRoIl0sCiAgImF1dG9Nb2RlIjogdHJ1ZQp9Cg==
config/fluid-tank-config.json
ewogICJuYW1lIjogImZ0MSIsCiAgInJlZG5ldCI6ICJsZWZ0IiwKICAicmVtb3RlTW9uaXRvciI6ICJtMSIsCiAgInRhbmsiOiAiaWMyOmlyaWRpdW1fdGFua18xIgp9Cg==
config/generator-grid-config.json
ewogICJuYW1lIjogImdnMSIsCiAgInJlZG5ldCI6ICJyaWdodCIsCiAgInJlbW90ZU1vbml0b3IiOiAibTEiLAogICJmdWVsIjogIm1pbmVjcmFmdDpsYXZhIiwKICAibW9uaXRvclNpemUiOiBbIm1lZGl1bSIsICJzbWFsbCJdLAogICJnZW5lcmF0b3JzIjogWwogICAgImljMjpnZW9fZ2VuZXJhdG9yXzAiLAogIF0KfQo=
config/turtle-monitor-config.json
ewogICJuYW1lIjogInRtMSIsCiAgInJlZG5ldCI6ICJyaWdodCIsCiAgInJlbW90ZU1vbml0b3IiOiAibTEiLAogICJ0dXJ0bGVOYW1lIjogInQxIgp9Cg==
config/reactor-config.json
ewogICJuYW1lIjogInIxIiwKICAicmVkbmV0IjogImxlZnQiLAogICJyZW1vdGVNb25pdG9yIjogIm0xIiwKICAicmVhY3RvciI6ICJpYzI6cmVhY3Rvcl9jaGFtYmVyXzAiLAogICJpbnRlZ3JhdG9yIjogWyJyZWRzdG9uZV9pbnRlZ3JhdG9yXzAiLCAic291dGgiXQp9Cg==
config/monitor-config.json
ewogICJuYW1lIjogIm0xIiwKICAicmVkbmV0IjogInJpZ2h0IiwKICAibW9uaXRvcnMiOiB7CiAgICAicjEiOiAibW9uaXRvcl8xIgogIH0KfQo=
config/turbine-config.json
ewogICJuYW1lIjogImxnMSIsCiAgInJlZG5ldCI6ICJsZWZ0IiwKICAicmVtb3RlTW9uaXRvciI6ICJtMiIsCiAgImdlbmVyYXRvcjEiOiAiaWMyOmtpbmV0aWNfZ2VuZXJhdG9yXzIiLAogICJnZW5lcmF0b3IyIjogImljMjpraW5ldGljX2dlbmVyYXRvcl8zIiwKICAiaGVhdEV4Y2hhbmdlciI6ICJpYzI6bGlxdWlkX2hlYXRfZXhjaGFuZ2VyXzAiLAogICJzdGVhbUdlbmVyYXRvciI6ICJpYzI6c3RlYW1fZ2VuZXJhdG9yXzEiLAp9Cg==
config/reactor-monitor-config.json
ewogICJuYW1lIjogInJtMSIsCiAgInJlZG5ldCI6ICJsZWZ0IiwKICAicmVtb3RlTW9uaXRvciI6ICJtMSIsCiAgInJlYWN0b3JOYW1lIjogInIxIgp9Cg==
config/energy-storage-grid-config.json
ewogICJuYW1lIjogInNnMSIsCiAgInJlZG5ldCI6ICJsZWZ0IiwKICAicmVtb3RlTW9uaXRvciI6ICJtMSIsCiAgIm1vbml0b3JTaXplIjogWyJtZWRpdW0iLCAic21hbGwiXSwKICAic3RvcmFnZXMiOiBbCiAgICAiaWMyOm1mc3VfMSIsCiAgICAiaWMyOm1mc3VfMiIsCiAgICAiaWMyOm1mc3VfMyIsCiAgICAiaWMyOm1mc3VfNCIsCiAgICAiaWMyOm1mc3VfNSIsCiAgICAiaWMyOm1mc3VfNiIsCiAgICAiaWMyOm1mc3VfNyIsCiAgICAiaWMyOm1mc3VfOCIsCiAgICAiaWMyOm1mc3VfOSIsCiAgXQp9Cg==
config/turtle-config.json
ewogICJuYW1lIjogInQxIiwKICAicmVkbmV0IjogInJpZ2h0IiwKICAic3RhcnQiOiAiLTM2LCAyNiwgNSIsCiAgImVuZCI6ICItNDUsIDE4LCA4IiwKICAic3RvcmFnZSI6ICItMzYsIDIxLCA1IiwKICAic3RvbmVTdG9yYWdlIjogIi0zNSwgMjEsIDUiLAogICJ0b3JjaFN0b3JhZ2UiOiAiLTM0LCAxOSwgNSIsCiAgInN0b3JhZ2VTaWRlIjogImVhc3QiCn0K
config/energy-storage-config.json
ewogICJuYW1lIjogInMxIiwKICAicmVkbmV0IjogImxlZnQiLAogICJyZW1vdGVNb25pdG9yIjogIm0xIiwKICAic3RvcmFnZSI6ICJpYzI6bWZzdV8wIgp9Cg==
library/Reactor.lua
ZG9maWxlKCJsaWJyYXJ5L0Z1ZWxSb2QubHVhIikKZG9maWxlKCJsaWJyYXJ5L0ZsdWlkVGFuay5sdWEiKQoKUmVhY3RvciA9IHt9ClJlYWN0b3IuX19pbmRleCA9IFJlYWN0b3IKCmZ1bmN0aW9uIFJlYWN0b3I6Y3JlYXRlKHJlYWN0b3IsIHR5cGUpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5yZWFjdG9yID0gcmVhY3RvcgogIG9iai50eXBlID0gdHlwZQogIG9iai50YW5rID0gbmlsCiAgb2JqLmZ1ZWwgPSB7fQogIG9iai5jcml0aWNhbEhlYXRQZXJjZW50ID0gMjAuMAogIG9iai5taW5Db2xkQ29sYW50UGVyY2VudCA9IDYwLjAKICBvYmoubWF4SG90Q29sYW50UGVyY2VudCA9IDQwLjAKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gUmVhY3RvcjpyZWZyZXNoKCkKICBsb2NhbCBjb3JlID0gc2VsZi5yZWFjdG9yLmdldFJlYWN0b3JDb3JlKCkKICBzZWxmLm9mZmVyZWRFbmVyZ3kgPSBjb3JlLmdldE9mZmVyZWRFbmVyZ3koKQogIGxvY2FsIHJlYWN0b3JEYXRhID0gY29yZS5nZXRNZXRhZGF0YSgpWyJyZWFjdG9yIl0KCiAgc2VsZi5oZWF0ID0gcmVhY3RvckRhdGFbImhlYXQiXQogIHNlbGYuYWN0aXZlID0gcmVhY3RvckRhdGFbImFjdGl2ZSJdCiAgc2VsZi5tYXhIZWF0ID0gcmVhY3RvckRhdGFbIm1heEhlYXQiXQogIHNlbGYuZnVlbCA9IHt9CgogIHNlbGY6cmVmcmVzaEZ1ZWwoKQplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6cmVmcmVzaEZ1ZWwoKQogIGZvciBrZXksdmFsdWUgaW4gcGFpcnMoc2VsZi5yZWFjdG9yLmxpc3QoKSkgZG8KICAgIGZvciBzdWJLZXksaWQgaW4gcGFpcnMoezExLCAxNCwgMTcsIDM4LCA0MSwgNDR9KSBkbwogICAgICBpZiBpZCA9PSBrZXkgdGhlbgogICAgICAgIHNlbGYuZnVlbFtzdWJLZXldID0gRnVlbFJvZDpjcmVhdGUodmFsdWVbIm5hbWUiXSwgdmFsdWVbImRhbWFnZSJdKQogICAgICBlbmQKICAgIGVuZAogIGVuZAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6aXNGbHVpZCgpCiAgcmV0dXJuIHNlbGYudHlwZSA9PSAiZmx1aWQiCmVuZAoKZnVuY3Rpb24gUmVhY3RvcjpnZXRUeXBlKCkKICByZXR1cm4gc2VsZi50eXBlCmVuZAoKZnVuY3Rpb24gUmVhY3RvcjpnZXRDb2xkQ29vbGFudEFtb3VudCgpCiAgcmV0dXJuIHNlbGY6Z2V0Q29vbGFudFRhbmsoKTpnZXRBbW91bnQoMSkKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldENvbGRDb29sYW50Q2FwYWNpdHkoKQogIHJldHVybiBzZWxmOmdldENvb2xhbnRUYW5rKCk6Z2V0Q2FwYWNpdHkoMSkKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldEhvdENvb2xhbnRBbW91bnQoKQogIHJldHVybiBzZWxmOmdldENvb2xhbnRUYW5rKCk6Z2V0QW1vdW50KDIpCmVuZAoKZnVuY3Rpb24gUmVhY3RvcjpnZXRIb3RDb29sYW50Q2FwYWNpdHkoKQogIHJldHVybiBzZWxmOmdldENvb2xhbnRUYW5rKCk6Z2V0Q2FwYWNpdHkoMikKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldENvb2xhbnRUYW5rKCkKICBpZiBzZWxmLnR5cGUgfj0gImZsdWlkIiB0aGVuCiAgICBlcnJvcigiUmVhY3RvciBtdXN0IGJlIHR5cGU9Zmx1aWQgZm9yIHVzZSB0YW5rcyIpCiAgZW5kCiAgcmV0dXJuIHNlbGY6Z2V0T3JDcmVhdGVUYW5rKCkKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldE9yQ3JlYXRlVGFuaygpCiAgaWYgc2VsZi50YW5rID09IG5pbCB0aGVuCiAgICBzZWxmLnRhbmsgPSBGbHVpZFRhbms6Y3JlYXRlKHNlbGYucmVhY3Rvci5nZXRSZWFjdG9yQ29yZSgpKQogIGVuZAogIHJldHVybiBzZWxmLnRhbmsKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldE9mZmVyZWRFbmVyZ3koKQogIHJldHVybiBzZWxmLm9mZmVyZWRFbmVyZ3kKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldE1heEhlYXQoKQogIHJldHVybiBzZWxmLm1heEhlYXQKZW5kCgpmdW5jdGlvbiBSZWFjdG9yOmdldEhlYXRQZXJjZW50KCkKICByZXR1cm4gc2VsZjpnZXRIZWF0KCkgLyBzZWxmOmdldE1heEhlYXQoKSAqIDEwMAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0RnVlbCgpCiAgcmV0dXJuIHNlbGYuZnVlbAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0RnVlbEFycmF5KCkKICBsb2NhbCBvdXQgPSB7fQogIGZvciBrZXksZnVlbFJvZCBpbiBwYWlycyhzZWxmLmZ1ZWwpIGRvCiAgICBvdXRba2V5XSA9IGZ1ZWxSb2Q6dG9BcnJheSgpCiAgZW5kCiAgcmV0dXJuIG91dAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0RnVlbFJlbWFpbmluZ1BlcmNlbnQoKQogIGxvY2FsIG91dCA9IHt9CiAgbG9jYWwgbWF4ID0gMAogIGxvY2FsIHJlbWFpbmluZyA9IDAKCiAgZm9yIGtleSxmdWVsUm9kIGluIHBhaXJzKHNlbGYuZnVlbCkgZG8KICAgIGlmIG5vdCBmdWVsUm9kOmlzRGVwbGV0ZWQoKSB0aGVuCiAgICAgIG1heCA9IG1heCArIGZ1ZWxSb2Q6Z2V0TWF4RGFtYWdlKCkKICAgICAgcmVtYWluaW5nID0gcmVtYWluaW5nICsgZnVlbFJvZDpnZXRSZW1haW5pbmcoKQogICAgZW5kCiAgZW5kCiAgcmV0dXJuIHJlbWFpbmluZyAvIG1heCAqIDEwMAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0Q29vbGFudEFycmF5KCkKICBsb2NhbCBvdXQgPSB7fQoKICBpZiBub3Qgc2VsZjppc0ZsdWlkKCkgdGhlbgogICAgcmV0dXJuIG91dAogIGVuZAogIG91dFsiY29sZCJdID0gewogICAgYW1vdW50ID0gc2VsZjpnZXRDb2xkQ29vbGFudEFtb3VudCgpLAogICAgY2FwYWNpdHkgPSBzZWxmOmdldENvbGRDb29sYW50Q2FwYWNpdHkoKQogIH0KICBvdXRbImhvdCJdID0gewogICAgYW1vdW50ID0gc2VsZjpnZXRIb3RDb29sYW50QW1vdW50KCksCiAgICBjYXBhY2l0eSA9IHNlbGY6Z2V0SG90Q29vbGFudENhcGFjaXR5KCkKICB9CiAgcmV0dXJuIG91dAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0SGVhdCgpCiAgcmV0dXJuIHNlbGYuaGVhdAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0U3RhdGUoY3JpdGljYWxTdGF0ZSkKICBpZiBzZWxmOmlzQWN0aXZlKCkgdGhlbgogICAgcmV0dXJuICJydW5uaW5nIgogIGVsc2UKICAgIHJldHVybiBjcml0aWNhbFN0YXRlIG9yICJ3YWl0aW5nIgogIGVuZAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0Q3JpdGljYWxTdGF0ZSgpCiAgaWYgc2VsZjpnZXRIZWF0UGVyY2VudCgpID49IHNlbGYuY3JpdGljYWxIZWF0UGVyY2VudCB0aGVuCiAgICByZXR1cm4gImNyaXRpY2FsLWhlYXQiCiAgZW5kCgogIGlmIHNlbGY6aXNGbHVpZCgpIHRoZW4KICAgIGxvY2FsIGNvbGRBbW91bnQgPSBzZWxmOmdldENvbGRDb29sYW50QW1vdW50KCkKICAgIGxvY2FsIGNvbGRDYXBhY2l0eSA9IHNlbGY6Z2V0Q29sZENvb2xhbnRDYXBhY2l0eSgpCgogICAgaWYgKGNvbGRBbW91bnQgLyBjb2xkQ2FwYWNpdHkgKiAxMDApIDwgc2VsZi5taW5Db2xkQ29sYW50UGVyY2VudCB0aGVuCiAgICAgIHJldHVybiAibG93LWNvbGQtY29vbGFudCIKICAgIGVuZAoKICAgIGxvY2FsIGhvdEFtb3VudCA9IHNlbGY6Z2V0SG90Q29vbGFudEFtb3VudCgpCiAgICBsb2NhbCBob3RDYXBhY2l0eSA9IHNlbGY6Z2V0SG90Q29vbGFudENhcGFjaXR5KCkKCiAgICBpZiAoaG90QW1vdW50IC8gaG90Q2FwYWNpdHkgKiAxMDApID4gc2VsZi5tYXhIb3RDb2xhbnRQZXJjZW50IHRoZW4KICAgICAgcmV0dXJuICJsb3Qtb2YtaG90LWNvb2xhbnQiCiAgICBlbmQKICBlbmQKCiAgcmV0dXJuIG5pbAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6aXNBY3RpdmUoKQogIHJldHVybiBzZWxmLmFjdGl2ZQplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6Z2V0U3RhdHVzVGV4dCgpCiAgc3RhdHVzVGV4dCA9IHNlbGY6Z2V0Q3JpdGljYWxTdGF0ZSgpIG9yICJPRkYiCiAgaWYgc2VsZjppc0FjdGl2ZSgpIGFuZCBzZWxmOmdldE9mZmVyZWRFbmVyZ3koKSA9PSAzNjAgdGhlbgogICAgc3RhdHVzVGV4dCA9ICJPSyIKICBlbHNlaWYgc2VsZjppc0FjdGl2ZSgpIHRoZW4KICAgIHN0YXR1c1RleHQgPSAiTEVTUyBQT1dFUiIKICBlbmQKICByZXR1cm4gc3RhdHVzVGV4dAplbmQKCmZ1bmN0aW9uIFJlYWN0b3I6dG9TdHJpbmcoKQogIHJldHVybiB0ZXh0dXRpbHMuc2VyaWFsaXplKHsKICAgIGhlYXQgPSBzZWxmLmhlYXQsCiAgICBhY3RpdmUgPSBzZWxmLmFjdGl2ZSwKICAgIGNyaXRpY2FsU3RhdGUgPSBzZWxmOmdldENyaXRpY2FsU3RhdGUoKSwKICAgIHN0YXR1cyA9IHNlbGY6Z2V0U3RhdHVzVGV4dCgpLAogICAgb3V0cHV0ID0gc2VsZi5vZmZlcmVkRW5lcmd5LAogICAgbWF4SGVhdCA9IHNlbGYubWF4SGVhdCwKICAgIHR5cGUgPSBzZWxmLnR5cGUsCiAgICBmdWVsID0gc2VsZjpnZXRGdWVsQXJyYXkoKSwKICAgIGZ1ZWxSZW1haW5pbmdQZXJjZW50ID0gc2VsZjpnZXRGdWVsUmVtYWluaW5nUGVyY2VudCgpLAogICAgY29vbGFudCA9IHNlbGY6Z2V0Q29vbGFudEFycmF5KCkKICB9KQplbmQKCnJldHVybiBSZWFjdG9yCg==
library/ReactorControl.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCmRvZmlsZSgibGlicmFyeS9oYW5kbGVycy9Db21tYW5kSGFuZGxlci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvbGlzdGVuZXJzL0NvbW1hbmRMaXN0ZW5lci5sdWEiKQoKUmVhY3RvckNvbnRyb2wgPSB7fQpSZWFjdG9yQ29udHJvbC5fX2luZGV4ID0gUmVhY3RvckNvbnRyb2wKCmZ1bmN0aW9uIFJlYWN0b3JDb250cm9sOmNyZWF0ZShuYW1lLCByZWFjdG9yLCBtb25pdG9yLCBpbnRlZ3JhdG9yLCByZWRuZXRDbGllbnQsIGVudikKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgb2JqLnJlYWN0b3IgPSByZWFjdG9yCiAgb2JqLnJlZG5ldENsaWVudCA9IHJlZG5ldENsaWVudAogIG9iai5lbnYgPSBlbnYKICBvYmouYWN0aXZlID0gdHJ1ZQogIG9iai5pbnRlZ3JhdG9yID0gaW50ZWdyYXRvcgogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBSZWFjdG9yQ29udHJvbDpydW4oKQogIHNlbGYucmVhY3RvcjpyZWZyZXNoKCkKICBpZiBzZWxmLnJlYWN0b3I6Z2V0Q3JpdGljYWxTdGF0ZSgpID09IG5pbCB0aGVuCiAgICBzZWxmLmludGVncmF0b3I6ZW5hYmxlKCkKICBlbmQKCiAgc2VsZi5tb25pdG9yOmNsZWFyKCkKCiAgc2VsZjpvcGVuQ29tbWFuZExpc3RlbmVyKCkKCiAgbG9jYWwgaGFuZGxlciA9IENvbW1hbmRIYW5kbGVyOmNyZWF0ZSgpCgogIHdoaWxlIHRydWUKICBkbwogICAgQ29tbWFuZExpc3RlbmVyLnRyeUhhbmRsZShoYW5kbGVyKQogICAgaGFuZGxlcjpyZXNldCgpCgogICAgc2VsZi5tb25pdG9yOnNldFRleHRTY2FsZSguNSkKICAgIHNlbGYubW9uaXRvcjpzZXRCYWNrZ3JvdW5kQ29sb3IoImIiKQoKICAgIHNlbGYucmVhY3RvcjpyZWZyZXNoKCkKCiAgICByZWRuZXQuYnJvYWRjYXN0KHNlbGYucmVhY3Rvcjp0b1N0cmluZygpLCBzZWxmLm5hbWUgLi4gIi1zdGF0dXMiKQogICAgcmVkbmV0LmJyb2FkY2FzdChzZWxmLm5hbWUsICJwaW5nLXJlYWN0b3IiKQoKICAgIGhhbmRsZXI6c2V0RGVmYXVsdEhhbmRsZXIoc2VsZikKCiAgICBzZWxmOmNvbnRyb2woKQogIGVuZAplbmQKCmZ1bmN0aW9uIFJlYWN0b3JDb250cm9sOmhhbmRsZShjb21tYW5kLCBwYXJhbWV0ZXJzKQogIGlmIGNvbW1hbmQgPT0gImVuYWJsZSIgdGhlbgogICAgc2VsZi5pbnRlZ3JhdG9yOmVuYWJsZSgpCiAgZWxzZWlmIGNvbW1hbmQgPT0gImRpc2FibGUiIHRoZW4KICAgIHNlbGYuaW50ZWdyYXRvcjpkaXNhYmxlKCkKICBlbmQKZW5kCgpmdW5jdGlvbiBSZWFjdG9yQ29udHJvbDpvcGVuQ29tbWFuZExpc3RlbmVyKCkKICBsb2NhbCBuZXdUYWJJRCA9IHNlbGYuZW52Lm11bHRpc2hlbGwubGF1bmNoKAogICAgc2VsZi5lbnYsCiAgICAicnVuLWNvbW1hbmQtbGlzdGVuZXIubHVhIiwKICAgIHNlbGYubmFtZSwKICAgIHNlbGYucmVkbmV0Q2xpZW50OmdldFNpZGUoKQogICkKICBzZWxmLmVudi5tdWx0aXNoZWxsLnNldFRpdGxlKG5ld1RhYklELCAiQ29tbWFuZExpc3RlbmVyIikKZW5kCgpmdW5jdGlvbiBSZWFjdG9yQ29udHJvbDpjb250cm9sKCkKICBpZCxtZXNzYWdlID0gcmVkbmV0LnJlY2VpdmUoc2VsZi5uYW1lLCAwLjUpCgogIGlmIG5vdCBzZWxmLm1vbml0b3I6aXNMb2NhbCgpIHRoZW4KICAgIHNlbGYubW9uaXRvcjpjbGVhcigpCiAgZW5kCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIk51Y2xlYXIgcmVhY3RvcjogIiAuLiBzZWxmLm5hbWUsICIwIiwgImIiLCAxLCAxKQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHN0cmluZy5yZXAoIi0iLCAzNiksICIwIiwgImIiLCAxLCAyKQoKICBsb2NhbCBjcml0aWNhbFN0YXRlID0gc2VsZi5yZWFjdG9yOmdldENyaXRpY2FsU3RhdGUoKQogIGlmIHNlbGYucmVhY3Rvcjppc0FjdGl2ZSgpIGFuZCAobWVzc2FnZSA9PSAic2h1dGRvd24iIG9yIGNyaXRpY2FsU3RhdGUgfj0gbmlsKSB0aGVuCiAgICBzZWxmLmludGVncmF0b3I6ZGlzYWJsZSgpCiAgZW5kCgogIHNsZWVwKDAuNSkKCiAgdmFsdWUgPSAiIEhlYXQ6ICAgIiAuLiBzZWxmLnJlYWN0b3I6Z2V0SGVhdCgpIC4uICIgLyAiIC4uIHNlbGYucmVhY3RvcjpnZXRNYXhIZWF0KCkgLi4gIiAtICIgLi4gc2VsZi5yZWFjdG9yOmdldEhlYXRQZXJjZW50KCkgLi4gIiUgICAgICAgICAiCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24odmFsdWUsICIwIiwgImIiLCAxLCA0KQoKICBpZiBzZWxmLnJlYWN0b3I6aXNGbHVpZCgpIHRoZW4KICAgIHZhbHVlID0gIiBPdXRwdXQ6ICIgLi4gKChzZWxmLnJlYWN0b3I6Z2V0T2ZmZXJlZEVuZXJneSgpIC8gNjApICogMzg2MCkgLi4gIiBIVS90ICAgICAgICAgIgogIGVsc2UKICAgIHZhbHVlID0gIiBPdXRwdXQ6ICIgLi4gc2VsZi5yZWFjdG9yOmdldE9mZmVyZWRFbmVyZ3koKSAuLiAiIEVVL3QgICAgICAgICAiCiAgZW5kCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24odmFsdWUsICIwIiwgImIiLCAxLCA1KQoKICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiIFN0YXRlOiAgIiwgIjAiLCAiYiIsIDEsIDYpCgogIHN0YXRlID0gc2VsZi5yZWFjdG9yOmdldFN0YXRlKGNyaXRpY2FsU3RhdGUpCiAgaWYgc3RhdGUgPT0gInJ1bm5pbmciIHRoZW4KICAgIGZnQ29sb3IgPSAiNSIKICAgIGJnQ29sb3IgPSAiYiIKICBlbHNlaWYgc3RhdGUgPT0gIndhaXRpbmciIHRoZW4KICAgIGZnQ29sb3IgPSAiZiIKICAgIGJnQ29sb3IgPSAiMSIKICBlbHNlCiAgICBmZ0NvbG9yID0gIjAiCiAgICBiZ0NvbG9yID0gImUiCiAgZW5kCgogIHN0YXQgPSAiWyIgLi4gc3RhdGUgLi4gIl0iCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oc3RhdCwgZmdDb2xvciwgYmdDb2xvciwgMTAsIDYpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIiAgICAgICAgIiwgIjAiLCAiYiIsIDEwICsgc3RyaW5nLmxlbihzdGF0KSwgNikKCiAgdmFsdWUgPSAiIFR5cGU6ICAgIiAuLiAoc2VsZi5yZWFjdG9yOmdldFR5cGUoKSA9PSAiZmx1aWQiIGFuZCAiSFUiIG9yICJFVSIpIC4uICIgICAgICAgICAiCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24odmFsdWUsICIwIiwgImIiLCAxLCA3KQoKICBpZiBzZWxmLnJlYWN0b3I6aXNGbHVpZCgpIHRoZW4KICAgIGxvY2FsIGNvbGRBbW91bnQgPSBzZWxmLnJlYWN0b3I6Z2V0Q29sZENvb2xhbnRBbW91bnQoKQogICAgbG9jYWwgY29sZENhcGFjaXR5ID0gc2VsZi5yZWFjdG9yOmdldENvbGRDb29sYW50Q2FwYWNpdHkoKQoKICAgIHBlcmNlbnQgPSBVdGlscy5yb3VuZChjb2xkQW1vdW50IC8gY29sZENhcGFjaXR5ICogMTAwKQogICAgdmFsdWUgPSAiIENvbGQ6ICAgIiAuLiBjb2xkQW1vdW50IC4uICIgLyAiIC4uIFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKGNvbGRDYXBhY2l0eSkgLi4gIiAtICIgLi4gcGVyY2VudCAuLiAiJSAgICAgICAgICIKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHZhbHVlLCAiMCIsICJiIiwgMSwgOCkKCiAgICBsb2NhbCBob3RBbW91bnQgPSBzZWxmLnJlYWN0b3I6Z2V0SG90Q29vbGFudEFtb3VudCgpCiAgICBsb2NhbCBob3RDYXBhY2l0eSA9IHNlbGYucmVhY3RvcjpnZXRIb3RDb29sYW50Q2FwYWNpdHkoKQoKICAgIHBlcmNlbnQgPSBVdGlscy5yb3VuZChob3RBbW91bnQgLyBob3RDYXBhY2l0eSAqIDEwMCkKCiAgICB2YWx1ZSA9ICIgSG90OiAgICAiIC4uIGhvdEFtb3VudCAuLiAiIC8gIiAuLiBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihob3RDYXBhY2l0eSkgLi4gIiAtICIgLi4gcGVyY2VudCAuLiAiJSAgICAgICAgICIKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHZhbHVlLCAiMCIsICJiIiwgMSwgOSkKICBlbmQKCiAgc2VsZi5tb25pdG9yOnB1c2goKQplbmQKCnJldHVybiBSZWFjdG9yQ29udHJvbAo=
library/TurtleMonitor.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yQnV0dG9uLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvQ2hhcnRJdGVtLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0Lmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvUmVuZGVySGVscGVyLmx1YSIpCmRvZmlsZSgibGlicmFyeS9VdGlscy5sdWEiKQoKVHVydGxlTW9uaXRvciA9IHt9ClR1cnRsZU1vbml0b3IuX19pbmRleCA9IFR1cnRsZU1vbml0b3IKCmZ1bmN0aW9uIFR1cnRsZU1vbml0b3I6Y3JlYXRlKG5hbWUsIHR1cnRsZU5hbWUsIG1vbml0b3IsIHJlZG5ldENsaWVudCwgZW52KQogICAgbG9jYWwgb2JqID0ge30KICAgIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgICBvYmoubmFtZSA9IG5hbWUKICAgIG9iai50dXJ0bGVOYW1lID0gdHVydGxlTmFtZQogICAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgICBvYmoucmVkbmV0Q2xpZW50ID0gcmVkbmV0Q2xpZW50CiAgICBvYmouZW52ID0gZW52CiAgICBvYmoueCA9IDIKICAgIG9iai55ID0gNwogICAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vbml0b3I6cnVuKCkKICAgIHdoaWxlIHRydWUKICAgIGRvCiAgICAgICAgaWQsbWVzc2FnZSA9IHNlbGYucmVkbmV0Q2xpZW50OnJlY2VpdmUoc2VsZi50dXJ0bGVOYW1lLCAic3RhdHVzIikKCiAgICAgICAgaWYgbWVzc2FnZSB+PSBuaWwgdGhlbgogICAgICAgICAgICBsb2NhbCBkYXRhID0gdGV4dHV0aWxzLnVuc2VyaWFsaXNlKG1lc3NhZ2UpCiAgICAgICAgICAgIHNlbGY6cHJpbnRUb01vbml0b3IodGV4dHV0aWxzLnVuc2VyaWFsaXNlKGRhdGEpKQogICAgICAgIGVuZAoKICAgICAgICBzbGVlcCgxKQogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlTW9uaXRvcjpwcmludFRvTW9uaXRvcihkYXRhKQogICAgbG9jYWwgc3RhdGUgPSBkYXRhWyJzdGF0ZSJdCiAgICBsb2NhbCBoYXNUb3JjaGVzID0gZGF0YVsiaGFzVG9yY2hlcyJdCiAgICBsb2NhbCBjdXJyZW50RnVlbCA9IGRhdGFbImZ1ZWxMZXZlbCJdCiAgICBsb2NhbCBtYXhGdWVsID0gZGF0YVsiZnVlbExpbWl0Il0KICAgIGxvY2FsIGZ1bGxJbnZlbnRvcnkgPSBkYXRhWyJmdWxsSW52ZW50b3J5Il0KICAgIGxvY2FsIG5lZWRSZWZ1ZWwgPSBkYXRhWyJuZWVkUmVmdWVsIl0KICAgIGxvY2FsIHJvdyA9IG1hdGgubWF4KGRhdGFbInJvdyJdLCAwKQogICAgbG9jYWwgcG9zaXRpb24gPSBtYXRoLm1heChkYXRhWyJwb3NpdGlvbiJdLCAwKQogICAgbG9jYWwgZmxvb3IgPSBtYXRoLmNlaWwoZGF0YVsiZmxvb3IiXSAvIDMpICsgMQogICAgbG9jYWwgbG9jYXRpb24gPSBkYXRhWyJsb2NhdGlvbiJdCiAgICBsb2NhbCByb3dMZW5ndGggPSBkYXRhWyJyb3dMZW5ndGgiXQogICAgbG9jYWwgcm93Q291bnQgPSBkYXRhWyJyb3dDb3VudCJdCiAgICBsb2NhbCBmbG9vckNvdW50ID0gbWF0aC5jZWlsKGRhdGFbImZsb29yQ291bnQiXSAvIDMpCiAgICBsb2NhbCBzdGFydFNpZGUgPSBkYXRhWyJzdGFydFNpZGUiXQogICAgbG9jYWwgbWF4U2xvdHMgPSAxNiAtIGRhdGFbIm1pbkVtcHR5U2xvdHMiXQogICAgbG9jYWwgZnVsbFNsb3RzID0gbWF4U2xvdHMgLSBkYXRhWyJlbXB0eVNsb3RzIl0gKyAxCgogICAgc2VsZi5tb25pdG9yOmNsZWFyKCkKCiAgICBzZWxmLm1vbml0b3I6c2V0VGV4dFNjYWxlKC41KQoKICAgIC0tIEZJRUxEU0VUCiAgICBsb2NhbCBmaWVsZHNldCA9IE1vbml0b3JGaWVsZHNldDpjcmVhdGUoc2VsZi5tb25pdG9yKQoKICAgIGZpZWxkc2V0OndyaXRlKCJUdXJ0bGU6ICIgLi4gc2VsZi5uYW1lLCAyLCAyLCAyNywgMTkpCgogICAgZmllbGRzZXQ6d3JpdGUoIklORk8iLCBzZWxmLngsIHNlbGYueSArIDE2LCAyNywgMTQpCgogICAgZmllbGRzZXQ6d3JpdGUoIlBST0dSRVNTIiwgc2VsZi54ICsgMjgsIDIsIHJvd0NvdW50ICsgOSwgcm93TGVuZ3RoICsgNCkKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiU3RhdHVzIiwgIjAiLCAiZiIsIDQsIDQpCgogICAgbG9jYWwgYnV0dG9uID0gTW9uaXRvckJ1dHRvbjpjcmVhdGUoc2VsZi5tb25pdG9yKQogICAgdGV4dENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IgPSBzZWxmOmdldFN0YXR1c0NvbG9ycyhzdGF0ZSkKICAgIGJ1dHRvbjpzZXRDb2xvcih0ZXh0Q29sb3IsIGJhY2tncm91bmRDb2xvcikKICAgIGJ1dHRvbjp3cml0ZShzdGF0ZSwgNCwgNCwgMjMpCgogICAgbG9jYWwgY29sb3IgPSBSZW5kZXJIZWxwZXIuZ2V0Q29sb3JCeVBlcmNlbnRSZXZlcnNlZChmdWxsU2xvdHMgLyBtYXhTbG90cyAqIDEwMCkKICAgIHNlbGY6aW5zZXJ0Q2hhcnQoc2VsZi54ICsgMiwgc2VsZi55ICsgNiwgIkNoZXN0IiwgZnVsbFNsb3RzLCBtYXhTbG90cywgY29sb3IpCgogICAgY29sb3IgPSBSZW5kZXJIZWxwZXIuZ2V0Q29sb3JCeVBlcmNlbnQoY3VycmVudEZ1ZWwgLyBtYXhGdWVsICogMTAwKQogICAgc2VsZjppbnNlcnRDaGFydChzZWxmLnggKyAyLCBzZWxmLnkgKyAxMCwgIkZ1ZWwiLCBjdXJyZW50RnVlbCwgbWF4RnVlbCwgY29sb3IpCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkdQUzogeDoiLCAiMCIsICJmIiwgNCwgc2VsZi55ICsgMikKICAgIHMgPSB0b3N0cmluZyhsb2NhdGlvblsieCJdKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE2KSAuLiBzLCAiMCIsICJmIiwgMTEsIHNlbGYueSArIDIpCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIiAgICAgeToiLCAiMCIsICJmIiwgNCwgc2VsZi55ICsgMykKICAgIHMgPSB0b3N0cmluZyhsb2NhdGlvblsieSJdKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE2KSAuLiBzLCAiMCIsICJmIiwgMTEsIHNlbGYueSArIDMpCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIiAgICAgejoiLCAiMCIsICJmIiwgNCwgc2VsZi55ICsgNCkKICAgIHMgPSB0b3N0cmluZyhsb2NhdGlvblsieiJdKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE2KSAuLiBzLCAiMCIsICJmIiwgMTEsIHNlbGYueSArIDQpCgogICAgcyA9IFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKGN1cnJlbnRGdWVsKSAuLiAiIC8gIiAuLiBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihtYXhGdWVsKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkZ1ZWw6IiwgIjAiLCAiZiIsIDQsIDI1KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE1KSAuLiBzLCAiMCIsICJmIiwgMTIsIDI1KQoKICAgIHMgPSBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihmdWxsU2xvdHMpIC4uICIgLyAiIC4uIFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKG1heFNsb3RzKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkNoZXN0OiIsICIwIiwgImYiLCA0LCAyNikKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxNSkgLi4gcywgIjAiLCAiZiIsIDEyLCAyNikKCiAgICBzID0gcm93IC4uICIgLyAiIC4uIHJvd0NvdW50CiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiUm93OiIsICIwIiwgImYiLCA0LCAyOCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxMikgLi4gcywgIjAiLCAiZiIsIDE1LCAyOCkKCiAgICBzID0gbWF0aC5taW4oZmxvb3IsIGZsb29yQ291bnQpIC4uICIgLyAiIC4uIGZsb29yQ291bnQKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJGbG9vcjoiLCAiMCIsICJmIiwgNCwgMjkpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8ocywgMTIpIC4uIHMsICIwIiwgImYiLCAxNSwgMjkpCgogICAgcyA9IHRvc3RyaW5nKHBvc2l0aW9uKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlBvc2l0aW9uOiIsICIwIiwgImYiLCA0LCAzMCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxMikgLi4gcywgIjAiLCAiZiIsIDE1LCAzMCkKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiU3RhcnQgc2lkZToiLCAiMCIsICJmIiwgNCwgMzEpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8oc3RhcnRTaWRlLCAxMikgLi4gc3RhcnRTaWRlLCAiMCIsICJmIiwgMTUsIDMxKQoKICAgIGl0ZW0gPSBSZW5kZXJIZWxwZXIuZ2V0WWVzQW5kTm8oaGFzVG9yY2hlcykKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJIYXMgdG9yY2g6IiwgIjAiLCAiZiIsIDQsIDMzKQogICAgcyA9IHNlbGVjdCgxLCBpdGVtKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDEzKSAuLiBzLCAiMCIsIHNlbGVjdCgyLCBpdGVtKSwgMTQsIDMzKQoKICAgIGl0ZW0gPSBSZW5kZXJIZWxwZXIuZ2V0WWVzQW5kTm8oZnVsbEludmVudG9yeSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJGdWxsIGNoZXN0OiIsICIwIiwgImYiLCA0LCAzNCkKICAgIHMgPSBzZWxlY3QoMSwgaXRlbSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxMikgLi4gcywgIjAiLCBzZWxlY3QoMiwgaXRlbSksIDE1LCAzNCkKCiAgICBpdGVtID0gUmVuZGVySGVscGVyLmdldFllc0FuZE5vKG5lZWRSZWZ1ZWwpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiTmVlZCBmdWVsOiIsICIwIiwgImYiLCA0LCAzNSkKICAgIHMgPSBzZWxlY3QoMSwgaXRlbSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxMykgLi4gcywgIjAiLCBzZWxlY3QoMiwgaXRlbSksIDE0LCAzNSkKCiAgICBsb2NhbCBmbG9vckNvbG9ycyA9IHsiMCIsICIxIiwgIjIiLCAiMyIsICI0IiwgIjUiLCAiNiIsICI3IiwgIjgiLCAiOSIsICJhIiwgImIiLCAiYyIsICJkIiwgImQifQoKICAgIGZvciB6UG9pbnQgPSBmbG9vckNvdW50LCAxLCAtMSBkbwogICAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJ8IiwgZmxvb3JDb2xvcnNbelBvaW50XSwgZmxvb3JDb2xvcnNbelBvaW50XSwgMzIsIDQgKyBmbG9vckNvdW50IC0gelBvaW50KQogICAgZW5kCgogICAgbG9jYWwgY3VycmVudEZsb29yID0gbWF0aC5taW4oZmxvb3IgKyAxLCBmbG9vckNvdW50ICsgMSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCI8IiwgIjAiLCAiZiIsIDMzLCA0ICsgZmxvb3JDb3VudCAtIGN1cnJlbnRGbG9vciArIDEpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiLSIsICIwIiwgImYiLCAzNCwgNCArIGZsb29yQ291bnQgLSBjdXJyZW50Rmxvb3IgKyAxKQoKICAgIGZvciB4UG9pbnQgPSAwLCByb3dDb3VudCwgMSBkbwogICAgICAgIGZvciB5UG9pbnQgPSAwLCByb3dMZW5ndGgsIDEgZG8KICAgICAgICAgICAgbG9jYWwgY3VycmVudENvbG9yCiAgICAgICAgICAgIGlmIGZsb29yID4gZmxvb3JDb3VudCB0aGVuCiAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSAiZiIKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgY3VycmVudENvbG9yID0gZmxvb3JDb2xvcnNbZmxvb3JdCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgaWYgcm93ID09IHhQb2ludCBhbmQgcG9zaXRpb24gPT0geVBvaW50IGFuZCBzdGF0ZSB+PSAiY29tcGxldGUiIHRoZW4KICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvciA9ICJlIiAtLSB0dXJ0bGUgY29sb3IgKHJlZCkKICAgICAgICAgICAgZWxzZWlmIHhQb2ludCA8IHJvdyBvciAoeFBvaW50ID09IHJvdyBhbmQgKChyb3cgJSAyID09IDAgYW5kIHlQb2ludCA8IHBvc2l0aW9uKSBvciAocm93ICUgMiB+PSAwIGFuZCB5UG9pbnQgPiBwb3NpdGlvbikpKSB0aGVuCiAgICAgICAgICAgICAgICBpZiBjdXJyZW50Rmxvb3IgPiBmbG9vckNvdW50IHRoZW4KICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSAiZiIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSBmbG9vckNvbG9yc1tjdXJyZW50Rmxvb3JdCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJ8IiwgY3VycmVudENvbG9yLCBjdXJyZW50Q29sb3IsIDM2ICsgeFBvaW50LCA0ICsgeVBvaW50KQogICAgICAgIGVuZAogICAgZW5kCgogICAgaWYgc3RhdGUgPT0gImNvbXBsZXRlIiB0aGVuCiAgICAgICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oInwiLCAiZSIsICJlIiwgMzYsIDQpCiAgICBlbmQKCiAgICBzZWxmLm1vbml0b3I6cHVzaCgpCmVuZAoKZnVuY3Rpb24gVHVydGxlTW9uaXRvcjpnZXRTdGF0dXNDb2xvcnMoc3RhdGUpCiAgICB0ZXh0Q29sb3IgPSAiZiIKICAgIGlmIHN0YXRlID09ICJtaW5pbmciIG9yIHN0YXRlID09ICJjb21wbGV0ZSIgb3Igc3RhdGUgfj0gInN0YXJ0aW5nIiBhbmQgc3RhdGUgfj0gInRvLXN0YXJ0IiB0aGVuCiAgICAgICAgdGV4dENvbG9yID0gIjAiCiAgICBlbmQKCiAgICBiYWNrZ3JvdW5kQ29sb3IgPSAiZSIKICAgIGlmIHN0YXRlID09ICJtaW5pbmciIG9yIHN0YXRlID09ICJjb21wbGV0ZSIgdGhlbgogICAgICAgIGJhY2tncm91bmRDb2xvciA9ICJkIgogICAgZWxzZWlmIHN0YXRlID09ICJzdGFydGluZyIgdGhlbgogICAgICAgIGJhY2tncm91bmRDb2xvciA9ICIxIgogICAgZW5kCgogICAgcmV0dXJuIHRleHRDb2xvciwgYmFja2dyb3VuZENvbG9yCmVuZAoKZnVuY3Rpb24gVHVydGxlTW9uaXRvcjppbnNlcnRDaGFydCh4LCB5LCBuYW1lLCBjdXJyZW50LCBtYXgsIGNvbG9yKQogICAgbG9jYWwgY2hhcnRJdGVtID0gQ2hhcnRJdGVtOmNyZWF0ZShzZWxmLm1vbml0b3IsICJob3Jpem9udGFsIiwgMjMsIDAsIG1heCkKICAgIGNoYXJ0SXRlbTpzZXRTaXplKDIpCiAgICBjaGFydEl0ZW06c2V0Q29sb3IoY29sb3IpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihuYW1lLCAiMCIsICJmIiwgeCwgeSkKCiAgICBzID0gVXRpbHMucm91bmQoY3VycmVudCAvIG1heCAqIDEwMCkgLi4gIiUiCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8ocywgMTApIC4uIHMsICIwIiwgImYiLCB4ICsgMTMsIHkpCiAgICBjaGFydEl0ZW06d3JpdGUoY3VycmVudCwgeCwgeSArIDEpCmVuZAoKcmV0dXJuIFR1cnRsZU1vbml0b3IK
library/RednetClient.lua
UmVkbmV0Q2xpZW50ID0ge30KUmVkbmV0Q2xpZW50Ll9faW5kZXggPSBSZWRuZXRDbGllbnQKCmZ1bmN0aW9uIFJlZG5ldENsaWVudDpjcmVhdGUoc2lkZSkKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgc2VsZi5zaWRlID0gc2lkZQogIHJlZG5ldC5vcGVuKHNpZGUpCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFJlZG5ldENsaWVudDpicm9hZGNhc3QoZGV2aWNlLCBwcm90b2NvbCwgcGFyYW1ldGVycykKICByZWRuZXQuYnJvYWRjYXN0KHRleHR1dGlscy5zZXJpYWxpemUocGFyYW1ldGVycyksIHNlbGYuY3JlYXRlUHJvdG9jb2woZGV2aWNlLCBwcm90b2NvbCkpCmVuZAoKZnVuY3Rpb24gUmVkbmV0Q2xpZW50OnJlY2VpdmUoZGV2aWNlLCBwcm90b2NvbCwgdGltZW91dCkKICBpZiBkZXZpY2UgPT0gbmlsIHRoZW4KICAgIHJldHVybiByZWRuZXQucmVjZWl2ZShuaWwsIHByb3RvY29sKQogIGVuZAogIHJldHVybiByZWRuZXQucmVjZWl2ZShzZWxmLmNyZWF0ZVByb3RvY29sKGRldmljZSwgcHJvdG9jb2wpLCB0aW1lb3V0KQplbmQKCmZ1bmN0aW9uIFJlZG5ldENsaWVudDpjbG9zZSgpCiAgcmVkbmV0LmNsb3NlKHNlbGYuc2lkZSkKZW5kCgpmdW5jdGlvbiBSZWRuZXRDbGllbnQ6Y2FsbENvbW1hbmQoZGV2aWNlLCBjb21tYW5kLCBwYXJhbWV0ZXJzKQogIHNlbGY6YnJvYWRjYXN0KGRldmljZSwgImNvbW1hbmQiLCB7CiAgICBjb21tYW5kID0gY29tbWFuZCwKICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIG9yIHt9CiAgfSkKZW5kCgpmdW5jdGlvbiBSZWRuZXRDbGllbnQ6cmVjZWl2ZUNvbW1hbmQoZGV2aWNlLCB0aW1lb3V0KQogIHJldHVybiBzZWxmOnJlY2VpdmUoZGV2aWNlLCAiY29tbWFuZCIsIHRpbWVvdXQpCmVuZAoKZnVuY3Rpb24gUmVkbmV0Q2xpZW50OmdldFNpZGUoKQogIHJldHVybiBzZWxmLnNpZGUKZW5kCgpmdW5jdGlvbiBSZWRuZXRDbGllbnQ6cmVmcmVzaCgpCiAgcmVkbmV0LmNsb3NlKHNlbGYuc2lkZSkKICByZWRuZXQub3BlbihzZWxmLnNpZGUpCmVuZAoKZnVuY3Rpb24gUmVkbmV0Q2xpZW50LmNyZWF0ZVByb3RvY29sKGRldmljZSwgcHJvdG9jb2wpCiAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiVzLSVzIiwgZGV2aWNlLCBwcm90b2NvbCkKZW5kCgpyZXR1cm4gUmVkbmV0Q2xpZW50Cg==
library/GeneratorGridControl.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9DaGFydEl0ZW0ubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yQnV0dG9uLmx1YSIpCmRvZmlsZSgibGlicmFyeS9GbHVpZC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvVXRpbHMubHVhIikKCkdlbmVyYXRvckdyaWRDb250cm9sID0ge30KR2VuZXJhdG9yR3JpZENvbnRyb2wuX19pbmRleCA9IEdlbmVyYXRvckdyaWRDb250cm9sCgpmdW5jdGlvbiBHZW5lcmF0b3JHcmlkQ29udHJvbDpjcmVhdGUobmFtZSwgbW9uaXRvcldpZHRoLCBtb25pdG9ySGVpZ2h0LCBnZW5lcmF0b3JzLCBtb25pdG9yLCBmbHVpZElkKQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmoubmFtZSA9IG5hbWUKICBvYmoubW9uaXRvciA9IG1vbml0b3IKICBvYmoubW9uaXRvcldpZHRoID0gbW9uaXRvcldpZHRoCiAgb2JqLm1vbml0b3JIZWlnaHQgPSBtb25pdG9ySGVpZ2h0CiAgb2JqLmdlbmVyYXRvcnMgPSBnZW5lcmF0b3JzCiAgb2JqLmZsdWlkSWQgPSBmbHVpZElkCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEdlbmVyYXRvckdyaWRDb250cm9sOnJ1bigpCiAgd2hpbGUgdHJ1ZQogIGRvCiAgICBzZWxmLm1vbml0b3I6Y2xlYXIoKQoKICAgIHNlbGYubW9uaXRvcjpzZXRUZXh0U2NhbGUoLjUpCgogICAgLS0gRklFTERTRVQKICAgIGxvY2FsIGZpZWxkc2V0ID0gTW9uaXRvckZpZWxkc2V0OmNyZWF0ZShzZWxmLm1vbml0b3IpCgogICAgZmllbGRzZXQ6d3JpdGUoIkdlbmVyYXRvcjogIiAuLiBzZWxmLm5hbWUsIDIsIDIsIHNlbGYubW9uaXRvcldpZHRoIC0gMiwgc2VsZi5tb25pdG9ySGVpZ2h0IC0gMikKCiAgICBpZiA1NyA8IHNlbGYubW9uaXRvcldpZHRoIHRoZW4KICAgICAgYSA9IDUKICAgICAgYiA9IDE1CiAgICBlbHNlaWYgMzAgPCBzZWxmLm1vbml0b3JXaWR0aCB0aGVuCiAgICAgIGEgPSAzCiAgICAgIGIgPSAxNwogICAgZW5kCgogICAgbG9jYWwgc29tZUFjdGl2ZSA9IGZhbHNlCiAgICBsb2NhbCBhbGxDYXBhY2l0eSA9IDAKICAgIGxvY2FsIGFsbEFtb3VudCA9IDAKICAgIGxvY2FsIGFsbE9mZmVyZWRFbmVyZ3kgPSAwCiAgICBsb2NhbCBtYXhPZmZlcmVkRW5lcmd5ID0gMAoKICAgIGxvY2FsIGxpbmUgPSAwCiAgICBsb2NhbCBhYm91dCA9IDAKICAgIGZvciBrZXksZ2VuZXJhdG9yIGluIHBhaXJzKHNlbGYuZ2VuZXJhdG9ycykgZG8KICAgICAgbG9jYWwgYWJvdXRMaW5lID0gKDYgKiBsaW5lKQoKICAgICAgaWYga2V5ID4gMSBhbmQgKGtleSAtIDEpICUgYSA9PSAwIHRoZW4KICAgICAgICBhYm91dCA9IDAKICAgICAgZW5kCgogICAgICBsb2NhbCB0YW5rID0gZ2VuZXJhdG9yOmdldFRhbmsoKQoKICAgICAgbG9jYWwgZmx1aWQgPSBnZW5lcmF0b3I6Z2V0Rmx1aWQoKQogICAgICBsb2NhbCBhbW91bnQgPSB0YW5rIGFuZCB0YW5rOmdldEFtb3VudCgpIG9yIDAKICAgICAgbG9jYWwgY2FwYWNpdHkgPSB0YW5rIGFuZCB0YW5rOmdldENhcGFjaXR5KDEsIDgwMDApIG9yIDgwMDAKCiAgICAgIGFsbENhcGFjaXR5ID0gYWxsQ2FwYWNpdHkgKyBjYXBhY2l0eQogICAgICBhbGxBbW91bnQgPSBhbGxBbW91bnQgKyBhbW91bnQKICAgICAgbWF4T2ZmZXJlZEVuZXJneSA9IG1heE9mZmVyZWRFbmVyZ3kgKyBmbHVpZFsiZW5lcmd5Il0KCiAgICAgIGxvY2FsIGFjdGl2ZSA9IGFtb3VudCA+IDUKCiAgICAgIGlmIGFjdGl2ZSB0aGVuCiAgICAgICAgc29tZUFjdGl2ZSA9IHRydWUKICAgICAgICBhbGxPZmZlcmVkRW5lcmd5ID0gYWxsT2ZmZXJlZEVuZXJneSArIGdlbmVyYXRvcjpnZXRPZmZlcmVkRW5lcmd5KCkKICAgICAgZW5kCgogICAgICBsb2NhbCBjaGFydENvbG9yID0gZmx1aWRbImNvbG9yIl0gb3IgIjUiCiAgICAgIHNlbGY6cmVuZGVyQ2hhcnQoY2hhcnRDb2xvciwgYW1vdW50LCBjYXBhY2l0eSwgNCArIGFib3V0LCAxMCArIGFib3V0TGluZSkKCiAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJbIiAuLiBrZXkgLi4gIl0iLCAiMCIsICJmIiwgMTAgKyBhYm91dCwgMTIgKyBhYm91dExpbmUpCiAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJbIiAuLiAoYWN0aXZlIGFuZCAiT04iIG9yICJPRkYiKSAuLiAiXSIsIGFjdGl2ZSBhbmQgImQiIG9yICJlIiwgImYiLCAxMCArIGFib3V0LCAxMyArIGFib3V0TGluZSkKICAgICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oZ2VuZXJhdG9yOmdldE9mZmVyZWRFbmVyZ3koKSAuLiAiIEVVL3QiLCAiMCIsICJmIiwgMTAgKyBhYm91dCwgMTQgKyBhYm91dExpbmUpCgogICAgICBpZiBrZXkgPiAxIGFuZCBrZXkgJSBhID09IDAgdGhlbgogICAgICAgIGxpbmUgPSBsaW5lICsgMQogICAgICBlbmQKCiAgICAgIGFib3V0ID0gYWJvdXQgKyBiCiAgICBlbmQKCiAgICBsb2NhbCBoYXNNYXggPSBzb21lQWN0aXZlIGFuZCBhbGxPZmZlcmVkRW5lcmd5ID09IG1heE9mZmVyZWRFbmVyZ3kKICAgIGxvY2FsIGxpZ2h0VGV4dCA9IGFsbE9mZmVyZWRFbmVyZ3kgPT0gbWF4T2ZmZXJlZEVuZXJneSBvciBub3Qgc29tZUFjdGl2ZQogICAgbG9jYWwgYnV0dG9uID0gTW9uaXRvckJ1dHRvbjpjcmVhdGUoc2VsZi5tb25pdG9yLCA1KQogICAgYnV0dG9uOnNldENvbG9yKGxpZ2h0VGV4dCBhbmQgIjAiIG9yICJmIiwgaGFzTWF4IGFuZCAiZCIgb3Igc29tZUFjdGl2ZSBhbmQgIjEiIG9yICJlIikKICAgIGJ1dHRvbjp3cml0ZShoYXNNYXggYW5kICJPSyIgb3Igc29tZUFjdGl2ZSBhbmQgIkxFU1MgUE9XRVIiIG9yICJPRkYiLCA0LCAzLCAxNCkKCiAgICBsb2NhbCBjb2xvciA9IFJlbmRlckhlbHBlci5nZXRDb2xvckJ5UGVyY2VudChhbGxPZmZlcmVkRW5lcmd5IC8gbWF4T2ZmZXJlZEVuZXJneSAqIDEwMCkKICAgIHNlbGY6aW5zZXJ0SG9yaXpvbnRhbENoYXJ0KDE5LCA0LCAiUG93ZXIiLCBhbGxPZmZlcmVkRW5lcmd5LCBtYXhPZmZlcmVkRW5lcmd5LCBjb2xvcikKCiAgICBzID0gYWxsT2ZmZXJlZEVuZXJneSAuLiAiIEVVL3QiCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8ocyAuLiAiIiwgMTEpIC4uIHMsICIwIiwgImYiLCAyNCwgNCkKCiAgICBsb2NhbCBjb2xvciA9IFJlbmRlckhlbHBlci5nZXRDb2xvckJ5UGVyY2VudChhbGxBbW91bnQgLyBhbGxDYXBhY2l0eSAqIDEwMCkKICAgIHNlbGY6aW5zZXJ0SG9yaXpvbnRhbENoYXJ0KDE5LCA3LCAiRnVlbCIsIGFsbEFtb3VudCwgYWxsQ2FwYWNpdHksIGNvbG9yKQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oCiAgICAgIFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhhbGxBbW91bnQgLi4gIiIsIDkpIC4uIGFsbEFtb3VudCAuLiAiIG1iIiwKICAgICAgIjAiLCAiZiIsIDIzLCA3CiAgICApCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkZsdWlkOiAgICAiIC4uIHNlbGY6Z2V0Rmx1aWROYW1lKCksICIwIiwgImYiLCAzNiwgNCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJDYXBhY2l0eTogIiAuLiBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihhbGxDYXBhY2l0eSkgLi4gIiBtYiIsICIwIiwgImYiLCAzNiwgNSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJNYXggb3V0OiAgIiAuLiBtYXhPZmZlcmVkRW5lcmd5IC4uICIgRVUvdCIsICIwIiwgImYiLCAzNiwgNikKCiAgICBzZWxmLm1vbml0b3I6cHVzaCgpCgogICAgc2xlZXAoMC4zKQogIGVuZAplbmQKCmZ1bmN0aW9uIEdlbmVyYXRvckdyaWRDb250cm9sOmdldEZsdWlkTmFtZSgpCiAgaWYgRmx1aWQudHlwZXNbc2VsZi5mbHVpZElkXSB+PSBuaWwgdGhlbgogICAgcmV0dXJuIEZsdWlkLnR5cGVzW3NlbGYuZmx1aWRJZF1bIm5hbWUiXQogIGVuZAogIHJldHVybiAiVU5LTk9XTiIKZW5kCgpmdW5jdGlvbiBHZW5lcmF0b3JHcmlkQ29udHJvbDpyZW5kZXJDaGFydChjb2xvciwgYW1vdW50LCBjYXBhY2l0eSwgeCwgeSkKICBsb2NhbCBjaGFydEl0ZW0gPSBDaGFydEl0ZW06Y3JlYXRlKHNlbGYubW9uaXRvciwgInZlcnRpY2FsIiwgNSwgMCwgY2FwYWNpdHkpCiAgY2hhcnRJdGVtOnNldFNob3dQZXJjZW50KCkKICBjaGFydEl0ZW06c2V0U2l6ZSg1KQogIGNoYXJ0SXRlbTpzZXRDb2xvcihjb2xvcikKICBjaGFydEl0ZW06d3JpdGUoYW1vdW50LCB4LCB5KQplbmQKCmZ1bmN0aW9uIEdlbmVyYXRvckdyaWRDb250cm9sOmluc2VydEhvcml6b250YWxDaGFydCh4LCB5LCBuYW1lLCBjdXJyZW50LCBtYXgsIGNvbG9yKQogIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAiaG9yaXpvbnRhbCIsIDE2LCAwLCBtYXgpCiAgY2hhcnRJdGVtOnNldFNpemUoMSkKICBjaGFydEl0ZW06c2V0Q29sb3IoY29sb3IpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24obmFtZSwgIjAiLCAiZiIsIHgsIHkpCiAgY2hhcnRJdGVtOndyaXRlKGN1cnJlbnQsIHgsIHkgKyAxKQplbmQKCnJldHVybiBHZW5lcmF0b3JHcmlkQ29udHJvbAo=
library/EnergyStorage.lua
RW5lcmd5U3RvcmFnZSA9IHt9CkVuZXJneVN0b3JhZ2UuX19pbmRleCA9IEVuZXJneVN0b3JhZ2UKCmZ1bmN0aW9uIEVuZXJneVN0b3JhZ2U6Y3JlYXRlKGVuZXJneVN0b3JhZ2UpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5zdG9yYWdlID0gZW5lcmd5U3RvcmFnZQogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBFbmVyZ3lTdG9yYWdlOmdldEVVU3RvcmVkKCkKICByZXR1cm4gc2VsZi5zdG9yYWdlLmdldEVVU3RvcmVkKCkKZW5kCgpmdW5jdGlvbiBFbmVyZ3lTdG9yYWdlOmdldEVVQ2FwYWNpdHkoKQogIHJldHVybiBzZWxmLnN0b3JhZ2UuZ2V0RVVDYXBhY2l0eSgpCmVuZAoKZnVuY3Rpb24gRW5lcmd5U3RvcmFnZTp0b1N0cmluZygpCiAgcmV0dXJuIHRleHR1dGlscy5zZXJpYWxpemUoewogICAgY2FwYWNpdHkgPSBzZWxmOmdldEVVQ2FwYWNpdHkoKSwKICAgIHN0b3JlZCA9IHNlbGY6Z2V0RVVTdG9yZWQoKQogIH0pCmVuZAoKZnVuY3Rpb24gRW5lcmd5U3RvcmFnZTpnZXRSZWFkYWJsZUNhcGFjaXR5KCkKICBsb2NhbCBjYXBhY2l0eSA9IHNlbGY6Z2V0RVVDYXBhY2l0eSgpCiAgbG9jYWwgbSA9IDk5OTk5OQoKICBpZiBjYXBhY2l0eSA+IG0gdGhlbgogICAgcmV0dXJuIG1hdGguZmxvb3IoY2FwYWNpdHkgLyAxMDAwMDAwKSAuLiAiTSIKICBlbHNlaWYgY2FwYWNpdHkgPiA5OTkgdGhlbgogICAgcmV0dXJuIG1hdGguZmxvb3IoY2FwYWNpdHkgLyAxMDAwKSAuLiAiayIKICBlbmQKCiAgcmV0dXJuIGNhcGFjaXR5CmVuZAoKZnVuY3Rpb24gRW5lcmd5U3RvcmFnZTpnZXRFVU91dHB1dCgpCiAgcmV0dXJuIHNlbGYuc3RvcmFnZS5nZXRFVU91dHB1dCgpCmVuZAoKZnVuY3Rpb24gRW5lcmd5U3RvcmFnZTpnZXRFdVBlcmNlbnQoKQogIHJldHVybiBzZWxmOmdldEVVU3RvcmVkKCkgLyBzZWxmOmdldEVVQ2FwYWNpdHkoKSAqIDEwMAplbmQKCnJldHVybiBFbmVyZ3lTdG9yYWdlCg==
library/PackagerServer.lua
ZG9maWxlKCJsaWJyYXJ5L0ZpbGVMb2FkZXIubHVhIikKClBhY2thZ2VyU2VydmVyID0ge30KUGFja2FnZXJTZXJ2ZXIuX19pbmRleCA9IFBhY2thZ2VyU2VydmVyCgpmdW5jdGlvbiBQYWNrYWdlclNlcnZlcjpjcmVhdGUobmFtZSwgY29uZmlnRmlsZSwgcmVkbmV0Q2xpZW50KQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLmNvbmZpZ0ZpbGUgPSBjb25maWdGaWxlCiAgb2JqLnJlZG5ldENsaWVudCA9IHJlZG5ldENsaWVudAoKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gUGFja2FnZXJTZXJ2ZXI6cnVuKCkKICBwcmludCgiUGFja2FnZXIgc2VydmVyIG5hbWU6ICIgLi4gc2VsZi5uYW1lKQoKICB3aGlsZSB0cnVlCiAgZG8KICAgIGlkLG1lc3NhZ2UgPSBzZWxmLnJlZG5ldENsaWVudDpyZWNlaXZlKHNlbGYubmFtZSwgInVwZGF0ZSIpCgogICAgbG9jYWwgZGF0YSA9IHRleHR1dGlscy51bnNlcmlhbGl6ZShtZXNzYWdlKQoKICAgIGxvY2FsIGlkID0gZGF0YVsiaWQiXQogICAgbG9jYWwgbGlicmFyeSA9IGRhdGFbImxpYnJhcnkiXQogICAgbG9jYWwgcmVxdWlyZWQgPSBkYXRhWyJyZXF1aXJlZCJdCgogICAgbG9jYWwgbG9hZGVyID0gRmlsZUxvYWRlcjpjcmVhdGUoRmlsZUxvYWRlci5sb2FkQ29uZmlnKHNlbGYuY29uZmlnRmlsZSksIHJlcXVpcmVkLCBsaWJyYXJ5KQoKICAgIHNlbGY6c2VuZEZpbGVzKGlkLCBsb2FkZXI6Z2V0TGlicmFyaWVzKCkpCgogIGVuZAplbmQKCmZ1bmN0aW9uIFBhY2thZ2VyU2VydmVyOnNlbmRGaWxlcyhpZCwgbGlicmFyaWVzKQogIGxvY2FsIHdhaXRpbmcgPSBmYWxzZQoKICB3aGlsZSB0cnVlCiAgZG8KICAgIGlmIHdhaXRpbmcgdGhlbgogICAgICBwcmludCgnLSBzZW5kIGZpbGVzIHRvOiAnIC4uIGlkKQogICAgICBicmVhawogICAgZWxzZQogICAgICBzZWxmLnJlZG5ldENsaWVudDpicm9hZGNhc3QoaWQsICJzZW5kIiwgbGlicmFyaWVzKQogICAgICB3YWl0aW5nID0gdHJ1ZQogICAgZW5kCgogIGVuZAplbmQKCnJldHVybiBQYWNrYWdlclNlcnZlcgo=
library/turtle/TurtleFuel.lua
VHVydGxlRnVlbCA9IHt9ClR1cnRsZUZ1ZWwuX19pbmRleCA9IFR1cnRsZUZ1ZWwKCmZ1bmN0aW9uIFR1cnRsZUZ1ZWw6Y3JlYXRlKCkKICAgIGxvY2FsIG9iaiA9IHt9CiAgICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogICAgb2JqLnJlc2VydmVkRm9yRm91bmRMYXZhID0gNjAwMDAKICAgIG9iai5taW5pbXVtRnVlbCA9IDIwMDAwCiAgICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gVHVydGxlRnVlbDplbXB0eUZ1ZWwoKQogICAgcmV0dXJuIHNlbGY6Z2V0RnVlbExldmVsKCkgPT0gMAplbmQKCmZ1bmN0aW9uIFR1cnRsZUZ1ZWw6Z2V0RnVlbExldmVsKCkKICAgIHJldHVybiB0dXJ0bGUuZ2V0RnVlbExldmVsKCkKZW5kCgpmdW5jdGlvbiBUdXJ0bGVGdWVsOmdldEZ1ZWxMaW1pdCgpCiAgICByZXR1cm4gdHVydGxlLmdldEZ1ZWxMaW1pdCgpCmVuZAoKZnVuY3Rpb24gVHVydGxlRnVlbDpuZWVkRnVlbCgpCiAgICByZXR1cm4gc2VsZjpnZXRGdWVsTGV2ZWwoKSA8IHNlbGYubWluaW11bUZ1ZWwKZW5kCgpmdW5jdGlvbiBUdXJ0bGVGdWVsOmhhc0Z1bGxGdWVsKCkKICAgIGxvY2FsIGRlbHRhID0gdHVydGxlLmdldEZ1ZWxMaW1pdCgpIC0gc2VsZi5yZXNlcnZlZEZvckZvdW5kTGF2YQogICAgcmV0dXJuIHNlbGY6Z2V0RnVlbExldmVsKCkgPiBkZWx0YQplbmQKCmZ1bmN0aW9uIFR1cnRsZUZ1ZWw6cmVmdWVsKCkKICAgIHdoaWxlIHNlbGY6aGFzRnVsbEZ1ZWwoKSA9PSBmYWxzZQogICAgZG8KICAgICAgICB0dXJ0bGUuc2VsZWN0KDE2KQogICAgICAgIHR1cnRsZS5kcm9wRG93bigpCiAgICAgICAgaWYgdHVydGxlLnN1Y2soKSA9PSBmYWxzZSB0aGVuCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVuZAogICAgICAgIHR1cnRsZS5yZWZ1ZWwoKQogICAgICAgIHR1cnRsZS5kcm9wRG93bigpCiAgICBlbmQKICAgIHJldHVybiB0cnVlCmVuZAoKZnVuY3Rpb24gVHVydGxlRnVlbDpmaW5kQW5kVXNlRnVlbCgpCiAgICBpZiBzZWxmOmhhc0Z1bGxGdWVsKCkgdGhlbgogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKCiAgICBzdWNjZXNzID0gZmFsc2UKICAgIGZvciBpID0gMSwgMTYgZG8KICAgICAgICBpZiBpIH49IDE1IHRoZW4KICAgICAgICAgICAgdHVydGxlLnNlbGVjdChpKQogICAgICAgICAgICBpZiB0dXJ0bGUucmVmdWVsKCkgdGhlbgogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWUKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBzdWNjZXNzCmVuZAoKcmV0dXJuIFR1cnRsZUZ1ZWwK
library/turtle/Turtle.lua
ZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVJbnZlbnRvcnkubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVGdWVsLmx1YSIpCmRvZmlsZSgibGlicmFyeS90dXJ0bGUvVHVydGxlSW5zcGVjdG9yLmx1YSIpCmRvZmlsZSgibGlicmFyeS90dXJ0bGUvVHVydGxlTW92ZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVIZWxwZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVMb2dnZXIubHVhIikKClR1cnRsZSA9IHt9ClR1cnRsZS5fX2luZGV4ID0gVHVydGxlCgpmdW5jdGlvbiBUdXJ0bGUuaW5pdChuYW1lLCBzdGFydCwgZmluaXNoLCBzdG9yYWdlLCB0b3JjaFN0b3JhZ2UsIHN0b25lU3RvcmFnZSwgc3RvcmFnZVNpZGUsIHJlZG5ldENsaWVudCwgYXJncykKICAgIGlmIGFyZ3NbMV0gPT0gbmlsIG9yIGFyZ3NbMV0gPT0gInNldHVwIiB0aGVuCiAgICAgICAgbG9jYWwgdHVydGxlSGVscGVyID0gVHVydGxlOmNyZWF0ZShuYW1lLCBzdGFydCwgZmluaXNoLCBzdG9yYWdlLCB0b3JjaFN0b3JhZ2UsIHN0b25lU3RvcmFnZSwgc3RvcmFnZVNpZGUsIHJlZG5ldENsaWVudCkKICAgICAgICBpZiBhcmdzWzFdID09ICJzZXR1cCIgdGhlbgogICAgICAgICAgICB0dXJ0bGVIZWxwZXI6c2V0dXAoKQogICAgICAgIGVsc2UKICAgICAgICAgICAgdHVydGxlSGVscGVyOnJ1bigpCiAgICAgICAgZW5kCgogICAgZWxzZWlmIGFyZ3NbMV0gPT0gInN0YXRlIiB0aGVuCiAgICAgICAgVHVydGxlLnNob3dTdGF0ZSgpCiAgICBlbHNlaWYgYXJnc1sxXSA9PSAicmVzZXQiIHRoZW4KICAgICAgICBUdXJ0bGUucmVzZXRTZXR0aW5ncygpCiAgICBlbHNlCiAgICAgICAgZXJyb3IoIlVua25vd24gc2lnbmFsICIgLi4gYXJnc1sxXSkKICAgIGVuZAoKICAgIHJlZG5ldENsaWVudDpjbG9zZSgpCmVuZAoKZnVuY3Rpb24gVHVydGxlOmNyZWF0ZShuYW1lLCBzdGFydCwgZmluaXNoLCBzdG9yYWdlLCB0b3JjaFN0b3JhZ2UsIHN0b25lU3RvcmFnZSwgc3RvcmFnZVNpZGUsIHJlZG5ldENsaWVudCkKICAgIGxvY2FsIG9iaiA9IHt9CiAgICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQoKICAgIGxvY2FsIHJvdyA9IFR1cnRsZS5pbml0Um93KCkKICAgIGxvY2FsIHN0YXJ0U2lkZSA9IFR1cnRsZUhlbHBlci5kZXRlY3RTdGFydFNpZGUoc3RhcnQsIGZpbmlzaCkKICAgIGxvY2FsIHJvd0xlbmd0aCwgcm93Q291bnQsIGZsb29yQ291bnQgPSBUdXJ0bGVIZWxwZXIuZ2V0U2l6ZShzdGFydCwgZmluaXNoLCBzdGFydFNpZGUpCgogICAgb2JqLm5hbWUgPSBuYW1lCiAgICBvYmoucmVkbmV0Q2xpZW50ID0gcmVkbmV0Q2xpZW50CiAgICBvYmoucm93TGVuZ3RoID0gcm93TGVuZ3RoCiAgICBvYmoucm93Q291bnQgPSByb3dDb3VudAogICAgb2JqLmZsb29yQ291bnQgPSBmbG9vckNvdW50CiAgICBvYmouc3RvcmFnZVN0YXRpb24gPSBzdG9yYWdlCiAgICBvYmoudG9yY2hTdG9yYWdlU3RhdGlvbiA9IHRvcmNoU3RvcmFnZQogICAgb2JqLnN0b25lU3RvcmFnZVN0YXRpb24gPSBzdG9uZVN0b3JhZ2UKICAgIG9iai5zdG9yYWdlU2lkZSA9IHN0b3JhZ2VTaWRlCiAgICBvYmouZmxvb3IgPSBUdXJ0bGUuaW5pdEZsb29yKCkKICAgIG9iai5yb3cgPSByb3cKICAgIG9iai5wb3NpdGlvbiA9IDAKCiAgICBvYmo6aW5pdFBvc2l0aW9uKCkKCiAgICBpbnNwZWN0b3IgPSBUdXJ0bGVJbnNwZWN0b3I6Y3JlYXRlKCkKICAgIG9iai5pbnNwZWN0b3IgPSBpbnNwZWN0b3IKCiAgICBvYmoubW92ZXIgPSBUdXJ0bGVNb3ZlcjpjcmVhdGUoaW5zcGVjdG9yLCBmdW5jdGlvbiAoKQogICAgICAgIG9iajpwdXNoU3RhdGUoKQogICAgZW5kKQoKICAgIG9iai5mdWVsID0gVHVydGxlRnVlbDpjcmVhdGUoKQogICAgb2JqLmludmVudG9yeSA9IFR1cnRsZUludmVudG9yeTpjcmVhdGUoKQogICAgb2JqLnN0YXJ0U2lkZSA9IHN0YXJ0U2lkZQogICAgb2JqLnN0YXJ0U3RhdGlvbiA9IHN0YXJ0CiAgICBvYmouZW5kU3RhdGlvbiA9IGZpbmlzaAoKICAgIG9iai5zdGF0ZSA9ICJzdGFydGluZyIKCiAgICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gVHVydGxlOnNldHVwKCkKICAgIGxvY2FsIG9rID0gdHJ1ZQogICAgaWYgc2VsZi5mdWVsOmVtcHR5RnVlbCgpIHRoZW4KICAgICAgICBwcmludCgiRW1wdHkgZnVlbCEgVHJ5aW5nIGZpbmQgYW5kIHVzZSBmdWVsLi4uIikKICAgICAgICBpZiBzZWxmLmZ1ZWw6ZmluZEFuZFVzZUZ1ZWwoKSB0aGVuCiAgICAgICAgICAgIHByaW50KCItIEZ1ZWwgZm91bmQiKQogICAgICAgIGVsc2UKICAgICAgICAgICAgcHJpbnQoIiEgTk8gZnVlbCBmb3VuZCIpCiAgICAgICAgICAgIG9rID0gZmFsc2UKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICBwcmludCgiLSBGdWVsIE9LIikKICAgIGVuZAoKICAgIGlmIHNlbGYuaW52ZW50b3J5OmVxdWlwTGVmdCgxNiwgIm1pbmVjcmFmdDpkaWFtb25kX3BpY2theGUiKSB0aGVuCiAgICAgICAgcHJpbnQoIi0gUGlja2F4ZSBhdCBwb3NpdGlvbiAxNiB3YXMgZXF1aXBwZWQgdG8gbGVmdCBzaWRlIikKICAgIGVuZAoKICAgIHByaW50KCJXYWl0aW5nIGZvciByZWNlaXZpbmcgc2V0dXAgZmlsZSBmcm9tIG1hbmFnZXIiKQogICAgd2hpbGUgdHJ1ZQogICAgZG8KICAgICAgICBzZWxmLnJlZG5ldENsaWVudDpicm9hZGNhc3Qoc2VsZi5uYW1lLCAic2V0dXAtZmlsZSIsICIxIikKICAgICAgICBpZCwgZmlsZUNvbnRlbnQgPSBzZWxmLnJlZG5ldENsaWVudDpyZWNlaXZlKCJtYW5hZ2VyIiwgInNldHVwLWZpbGUiLCAyKQogICAgICAgIGlmIGZpbGVDb250ZW50IH49IG5pbCB0aGVuCiAgICAgICAgICAgIGZpbGVDb250ZW50ID0gdGV4dHV0aWxzLnVuc2VyaWFsaXplKGZpbGVDb250ZW50KQoKICAgICAgICAgICAgcHJpbnQoKQogICAgICAgICAgICBwcmludCgiUmVjZWl2ZWQgY29uZmlndXJhdGlvbiBvcHRpb24iKQoKICAgICAgICAgICAgbG9jYWwgY29udGVudCA9ICJ7XG4iCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50IC4uICJcIm5hbWVcIjogXCIiIC4uIGZpbGVDb250ZW50Lm5hbWUgLi4gIlwiLFxuIgogICAgICAgICAgICBjb250ZW50ID0gY29udGVudCAuLiAiXCJyZWRuZXRcIjogXCIiIC4uIGZpbGVDb250ZW50LnJlZG5ldCAuLiAiXCIsXG4iCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50IC4uICJcInN0YXJ0XCI6IFwiIiAuLiBmaWxlQ29udGVudC5zdGFydC54IC4uICIsICIgLi4gZmlsZUNvbnRlbnQuc3RhcnQueSAuLiAiLCAiIC4uIGZpbGVDb250ZW50LnN0YXJ0LnogLi4gIlwiLFxuIgogICAgICAgICAgICBjb250ZW50ID0gY29udGVudCAuLiAiXCJlbmRcIjogXCIiIC4uIGZpbGVDb250ZW50LmZpbmlzaC54IC4uICIsICIgLi4gZmlsZUNvbnRlbnQuZmluaXNoLnkgLi4gIiwgIiAuLiBmaWxlQ29udGVudC5maW5pc2gueiAuLiAiXCIsXG4iCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50IC4uICJcInN0b3JhZ2VcIjogXCIiIC4uIGZpbGVDb250ZW50LnN0b3JhZ2UueCAuLiAiLCAiIC4uIGZpbGVDb250ZW50LnN0b3JhZ2UueSAuLiAiLCAiIC4uIGZpbGVDb250ZW50LnN0b3JhZ2UueiAuLiAiXCIsXG4iCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50IC4uICJcInN0b25lU3RvcmFnZVwiOiBcIiIgLi4gZmlsZUNvbnRlbnQuc3RvbmUueCAuLiAiLCAiIC4uIGZpbGVDb250ZW50LnN0b25lLnkgLi4gIiwgIiAuLiBmaWxlQ29udGVudC5zdG9uZS56IC4uICJcIixcbiIKICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgLi4gIlwidG9yY2hTdG9yYWdlXCI6IFwiIiAuLiBmaWxlQ29udGVudC50b3JjaC54IC4uICIsICIgLi4gZmlsZUNvbnRlbnQudG9yY2gueSAuLiAiLCAiIC4uIGZpbGVDb250ZW50LnRvcmNoLnogLi4gIlwiLFxuIgogICAgICAgICAgICBjb250ZW50ID0gY29udGVudCAuLiAiXCJzdG9yYWdlU2lkZVwiOiBcIiIgLi4gZmlsZUNvbnRlbnQuc3RvcmFnZVNpZGUgLi4gIlwiXG4iCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50IC4uICJ9IgoKICAgICAgICAgICAgcHJpbnQoY29udGVudCkKCiAgICAgICAgICAgIGxvY2FsIGNvbmZpZ0ZpbGUgPSBpby5vcGVuKCJjb25maWcuanNvbiIsICJ3IikKICAgICAgICAgICAgY29uZmlnRmlsZS53cml0ZShjb25maWdGaWxlLCBjb250ZW50KQogICAgICAgICAgICBjb25maWdGaWxlLmNsb3NlKGNvbmZpZ0ZpbGUpCgogICAgICAgICAgICBwcmludCgiTmV3IGNvbmZpZyBmaWxlIHdhcyBzdWNjZXNzZnVsbHkgc2F2ZWQiKQoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbmQKICAgICAgICB0ZXJtLndyaXRlKCIuIikKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZTpydW4oKQogICAgaWYgc2VsZi5mdWVsOmVtcHR5RnVlbCgpIHRoZW4KICAgICAgICBUdXJ0bGVMb2dnZXIuZXJyb3IoIkVtcHR5IGZ1ZWwhIE5lZWQgbWFudWFsIHJlZnVlbC4iKQogICAgICAgIHJldHVybiBuaWwKICAgIGVuZAoKICAgIHNlbGYubW92ZXI6c3RhcnQoKQoKICAgIHdoaWxlIHRydWUKICAgIGRvCiAgICAgICAgaWYgc2VsZi5mdWVsOmVtcHR5RnVlbCgpIHRoZW4KICAgICAgICAgICAgVHVydGxlTG9nZ2VyLmVycm9yKCJFbXB0eSBmdWVsISBOZWVkIG1hbnVhbCByZWZ1ZWwuIikKICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgZWxzZWlmIHNlbGYuZnVlbDpuZWVkRnVlbCgpIHRoZW4KICAgICAgICAgICAgc2VsZjpzZXRTdGF0ZSgibmVlZC1mdWVsIikKICAgICAgICAgICAgaWYgc2VsZi5tb3Zlcjpnb1RvVmVjdG9yKHNlbGYuc3RvcmFnZVN0YXRpb24sIHNlbGYuc3RvcmFnZVNpZGUpIHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmZ1ZWw6cmVmdWVsKCkgdGhlbgogICAgICAgICAgICAgICAgICAgIFR1cnRsZUxvZ2dlci5lcnJvcigiRW1wdHkgZnVlbCBzdG9yYWdlISBNYW51YWwgaW50ZXJ2ZW50aW9uIGlzIHJlcXVpcmVkLiAob3IgbWF5YmUgYmFkIHN0b3JhZ2Ugc2lkZSBpbiBzZXR0aW5ncz8pIikKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgc2VsZjpzZXRTdGF0ZSgic3RhcnRpbmciKQogICAgICAgICAgICBlbmQKCiAgICAgICAgZWxzZWlmIHNlbGYuaW52ZW50b3J5Omhhc0Z1bGwoKSB0aGVuCiAgICAgICAgICAgIHNlbGY6c2V0U3RhdGUoImZ1bGwtaW52ZW50b3J5IikKICAgICAgICAgICAgaWYgc2VsZi5tb3Zlcjpnb1RvVmVjdG9yKHNlbGYuc3RvcmFnZVN0YXRpb24sIHNlbGYuc3RvcmFnZVNpZGUpIHRoZW4KICAgICAgICAgICAgICAgIHNlbGYuaW52ZW50b3J5OmZsdXNoV2l0aElnbm9yZSgibWluZWNyYWZ0OmNvYmJsZXN0b25lIiwgIm1pbmVjcmFmdDpjb2JibGVkX2RlZXBzbGF0ZSIsICJtaW5lY3JhZnQ6dHVmZiIpCiAgICAgICAgICAgICAgICBpZiBzZWxmLm1vdmVyOmdvVG9WZWN0b3Ioc2VsZi5zdG9uZVN0b3JhZ2VTdGF0aW9uLCBzZWxmLnN0b3JhZ2VTaWRlKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbnZlbnRvcnk6Zmx1c2hTcGVjaWZpYygibWluZWNyYWZ0OmNvYmJsZXN0b25lIiwgIm1pbmVjcmFmdDpjb2JibGVkX2RlZXBzbGF0ZSIsICJtaW5lY3JhZnQ6dHVmZiIpCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBzZWxmOnNldFN0YXRlKCJzdGFydGluZyIpCiAgICAgICAgICAgIGVuZAoKICAgICAgICBlbHNlaWYgbm90IHNlbGYuaW52ZW50b3J5Omhhc1RvcmNoZXMoKSB0aGVuCiAgICAgICAgICAgIHNlbGY6c2V0U3RhdGUoIm5lZWQtdG9yY2hlcyIpCiAgICAgICAgICAgIGlmIHNlbGYubW92ZXI6Z29Ub1ZlY3RvcihzZWxmLnRvcmNoU3RvcmFnZVN0YXRpb24sIHNlbGYuc3RvcmFnZVNpZGUpIHRoZW4KICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmludmVudG9yeTp0YWtlVG9yY2hlcygpIHRoZW4KICAgICAgICAgICAgICAgICAgICBUdXJ0bGVMb2dnZXIuZXJyb3IoIkVtcHR5IHRvcmNoZXMgc3RvcmFnZSEgTWFudWFsIGludGVydmVudGlvbiBpcyByZXF1aXJlZC4gKG9yIG1heWJlIGJhZCBzdG9yYWdlIHNpZGUgaW4gc2V0dGluZ3M/KSIpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIHNlbGY6c2V0U3RhdGUoInN0YXJ0aW5nIikKICAgICAgICAgICAgZW5kCgogICAgICAgIGVsc2VpZiBzZWxmOmNvbnRpbnVlUGxhbigpID09IGZhbHNlIHRoZW4KICAgICAgICAgICAgc2VsZjpwdXNoU3RhdGUoKQogICAgICAgICAgICBicmVhawogICAgICAgIGVuZAoKICAgICAgICBzZWxmOnB1c2hTdGF0ZSgpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6Y29udGludWVQbGFuKCkKICAgIGxvY2FsIGN1cnJlbnRWZWN0b3IgPSBUdXJ0bGVNb3Zlci5nZXRMb2NhdGlvbigpCiAgICBpZiBjdXJyZW50VmVjdG9yID09IGZhbHNlIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIGxvY2FsIHRhcmdldFZlY3RvciA9IHNlbGY6ZmluZFRhcmdldFZlY3RvcigpCiAgICBpZiBzZWxmLnN0YXRlID09ICJzdGFydGluZyIgdGhlbgogICAgICAgIGxvY2FsIHNpZGUgPSBzZWxmOmdldEN1cnJlbnRTdGFydFNpZGUoKQogICAgICAgIGlmIHNlbGYubW92ZXI6Z29Ub1ZlY3Rvcih0YXJnZXRWZWN0b3IsIHNpZGUpID09IGZhbHNlIHRoZW4KICAgICAgICAgICAgcHJpbnQoImNhbiBub3QgbW92ZSB0byBzdGFydCBwb3NpdGlvbiEiKQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICBlbmQKICAgICAgICBzZWxmOnVwZGF0ZVBvc2l0aW9uKCkKICAgICAgICBzZWxmOnNldFN0YXRlKCJydW5uaW5nIikKICAgICAgICByZXR1cm4gdHJ1ZQogICAgZW5kCgogICAgaWYgY3VycmVudFZlY3Rvci56IDwgdGFyZ2V0VmVjdG9yLnogdGhlbgogICAgICAgIHNlbGYubW92ZXI6dXAoKQogICAgICAgIHNlbGY6c2V0U3RhdGUoInRvLXN0YXJ0IikKICAgICAgICBpZiBzZWxmLm1vdmVyOmdvVG9WZWN0b3IodGFyZ2V0VmVjdG9yLCBzZWxmLnN0YXJ0U2lkZSkgPT0gZmFsc2UgdGhlbgogICAgICAgICAgICBwcmludCgiY2FuIG5vdCBtb3ZlIHRvIHN0YXJ0IHBvc2l0aW9uISIpCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVuZAoKICAgIGVsc2VpZiBjdXJyZW50VmVjdG9yLnogPiB0YXJnZXRWZWN0b3IueiB0aGVuCiAgICAgICAgc2VsZi5tb3Zlcjpkb3duKCkKCiAgICBlbHNlaWYgc2VsZi5tb3Zlcjp0dXJuVG9OZWVkZWRTaWRlKGN1cnJlbnRWZWN0b3IsIHRhcmdldFZlY3RvcikgdGhlbgoKICAgIGVsc2VpZiBjdXJyZW50VmVjdG9yLnggPT0gdGFyZ2V0VmVjdG9yLnggYW5kIGN1cnJlbnRWZWN0b3IueSA9PSB0YXJnZXRWZWN0b3IueSBhbmQgY3VycmVudFZlY3Rvci56ID09IHRhcmdldFZlY3Rvci56IHRoZW4KICAgICAgICBpZiBzZWxmLnN0YXJ0U3RhdGlvbi54ID09IHRhcmdldFZlY3Rvci54IGFuZCBzZWxmLnN0YXJ0U3RhdGlvbi55ID09IHRhcmdldFZlY3Rvci55IGFuZCBzZWxmLnN0YXJ0U3RhdGlvbi56ID09IHRhcmdldFZlY3Rvci56IHRoZW4KICAgICAgICAgICAgc2VsZjpzZXRTdGF0ZSgiY29tcGxldGUiKQogICAgICAgICAgICBwcmludCgiQ09NUExFVEUiKQogICAgICAgICAgICBzZWxmOnB1c2hTdGF0ZSgpCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVsc2UKICAgICAgICAgICAgc2VsZi5wb3NpdGlvbiA9IDEKICAgICAgICBlbmQKCiAgICBlbHNlCiAgICAgICAgaWYgc2VsZi5zdGF0ZSB+PSAiY29tcGxldGUiIHRoZW4KICAgICAgICAgICAgc2VsZjpzZXRTdGF0ZSgibWluaW5nIikKICAgICAgICBlbmQKCiAgICAgICAgbG9jYWwgcmVtYWluaW5nRmxvb3JzID0gc2VsZjpnZXRSZW1haW5pbmdGbG9vcnMoKQogICAgICAgIGlmIHJlbWFpbmluZ0Zsb29ycyA+PSAzIHRoZW4KICAgICAgICAgICAgc2VsZjpkaWdVcCgpCiAgICAgICAgICAgIGlmIHNlbGYuaW5zcGVjdG9yOmlzTGF2YShUdXJ0bGVJbnNwZWN0b3IuVVApIHRoZW4KICAgICAgICAgICAgICAgIHNlbGYubW92ZXI6dXAoKQogICAgICAgICAgICAgICAgc2VsZi5tb3Zlcjpkb3duKCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgIHNlbGY6Zm9yd2FyZCgpCgogICAgICAgIGlmIHNlbGY6Z2V0UmVtYWluaW5nRmxvb3JzKCkgPiAxIHRoZW4KICAgICAgICAgICAgc2VsZjpkaWdEb3duKCkKICAgICAgICAgICAgaWYgc2VsZi5pbnNwZWN0b3I6aXNMYXZhKFR1cnRsZUluc3BlY3Rvci5ET1dOKSB0aGVuCiAgICAgICAgICAgICAgICBzZWxmLm1vdmVyOmRvd24oKQogICAgICAgICAgICAgICAgc2VsZi5tb3Zlcjp1cCgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAoKICAgICAgICBpZiBzZWxmOm5lZWRQbGFjZVRvcmNoKCkgdGhlbgogICAgICAgICAgICBzZWxmLmludmVudG9yeTpwbGFjZVRvcmNoKCkKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZTpkaWdVcCgpCiAgICBpZiBzZWxmLmluc3BlY3RvcjpkZXRlY3QoVHVydGxlSW5zcGVjdG9yLlVQKSB0aGVuCiAgICAgICAgdHVydGxlLmRpZ1VwKCkKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZTpkaWdEb3duKCkKICAgIGlmIHNlbGYuaW5zcGVjdG9yOmRldGVjdChUdXJ0bGVJbnNwZWN0b3IuRE9XTikgdGhlbgogICAgICAgIHR1cnRsZS5kaWdEb3duKCkKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZTpmb3J3YXJkKCkKICAgIGlmIHNlbGYuaW5zcGVjdG9yOmlzQ2hlc3QoKSB0aGVuCiAgICAgICAgVHVydGxlTG9nZ2VyLmVycm9yKCJDaGVzdCBpcyBpbiBmcm9udCBvZiBhIHR1cnRsZS4gVHVydGxlIHdhaXRpbmcgZm9yIG1hbnVhbCBkZXN0cm95IGNoZXN0IGFuZCByZXN0YXJ0IHR1cnRsZS4iKQogICAgICAgIGVycm9yKCJFcnJvcjogQ2hlc3QgaXMgaW4gZnJvbnQgb2YgYSB0dXJ0bGUuIikKICAgIGVuZAogICAgaWYgc2VsZi5tb3Zlcjpmb3J3YXJkKCkgdGhlbgogICAgICAgIHNlbGY6dXBkYXRlUG9zaXRpb24oKQogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlOnNldFN0YXRlKHN0YXRlKQogICAgc2VsZi5zdGF0ZSA9IHN0YXRlCiAgICBzZWxmOnB1c2hTdGF0ZSgpCmVuZAoKZnVuY3Rpb24gVHVydGxlOnB1c2hTdGF0ZSgpCiAgICBzZWxmLnJlZG5ldENsaWVudDpicm9hZGNhc3Qoc2VsZi5uYW1lLCAic3RhdHVzIiwgdGV4dHV0aWxzLnNlcmlhbGlzZShzZWxmOnRvQXJyYXkoKSkpCiAgICBzZWxmLnJlZG5ldENsaWVudDpicm9hZGNhc3QoInBpbmciLCAidHVydGxlIiwgc2VsZi5uYW1lKQplbmQKCmZ1bmN0aW9uIFR1cnRsZTpnZXRDdXJyZW50U3RhcnRTaWRlKCkKICAgIGlmIHNlbGYuc3RhcnRTaWRlID09IG5pbCB0aGVuCiAgICAgICAgZXJyb3IoIlN0YXJ0IHNpZGUgaXMgcmVxdWlyZWQiKQogICAgZW5kCgogICAgaWYgc2VsZjppc0luY3JlYXNpbmcoKSB0aGVuCiAgICAgICAgcmV0dXJuIHNlbGYuc3RhcnRTaWRlCiAgICBlbmQKICAgIHJldHVybiBzZWxmLm1vdmVyOmdldFJvdGF0ZWRTaWRlKHNlbGYuc3RhcnRTaWRlLCAyKQplbmQKCmZ1bmN0aW9uIFR1cnRsZTpnZXRSZW1haW5pbmdGbG9vcnMoKQogICAgcmV0dXJuIHNlbGYuZmxvb3JDb3VudCArIDEgLSBzZWxmLmZsb29yCmVuZAoKZnVuY3Rpb24gVHVydGxlOmZpbmRUYXJnZXRWZWN0b3IoKQogICAgaWYgKHNlbGY6aXNJbmNyZWFzaW5nKCkgYW5kIHNlbGYucG9zaXRpb24gPiBzZWxmLnJvd0xlbmd0aCkKICAgICAgICAgICAgb3IgKHNlbGY6aXNJbmNyZWFzaW5nKCkgPT0gZmFsc2UgYW5kIHNlbGYucG9zaXRpb24gPD0gLTEpIHRoZW4KICAgICAgICBzZWxmOmluY3JlYXNlUm93KCkKICAgICAgICBzZWxmOnJlc2V0UG9zaXRpb24oKQogICAgZW5kCgogICAgbG9jYWwgcmVtYWluaW5nRmxvb3JzID0gc2VsZi5mbG9vckNvdW50ICsgMSAtIHNlbGYuZmxvb3IKICAgIGlmIHNlbGYucm93ID49IHNlbGYucm93Q291bnQgKyAxIHRoZW4KICAgICAgICBzZWxmLnBvc2l0aW9uID0gMAogICAgICAgIHNlbGY6cmVzZXRSb3codHJ1ZSkKICAgICAgICBzZWxmOmluY3JlYXNlRmxvb3IobWF0aC5taW4oc2VsZjpnZXRSZW1haW5pbmdGbG9vcnMoKSwgMykpCiAgICBlbmQKCiAgICBpZiBzZWxmLmZsb29yID49IHNlbGYuZmxvb3JDb3VudCArIDEgdGhlbgogICAgICAgIHNlbGY6c2V0U3RhdGUoImNvbXBsZXRlIikKICAgICAgICByZXR1cm4gc2VsZi5zdGFydFN0YXRpb24KICAgIGVuZAoKICAgIHJlbWFpbmluZ0Zsb29ycyA9IHNlbGY6Z2V0UmVtYWluaW5nRmxvb3JzKCkKCiAgICBsb2NhbCB4LCB5CiAgICBsb2NhbCB6ID0gc2VsZi5zdGFydFN0YXRpb24ueiArIHNlbGYuZmxvb3IKCiAgICBpZiBzZWxmOmdldFJlbWFpbmluZ0Zsb29ycygpID4gMSB0aGVuCiAgICAgICAgeiA9IHogKyAxCiAgICBlbmQKCiAgICBpZiBzZWxmLnN0YXJ0U2lkZSA9PSAic291dGgiIHRoZW4KICAgICAgICB4ID0gc2VsZi5zdGFydFN0YXRpb24ueCAtIHNlbGYucm93CiAgICAgICAgeSA9IHNlbGYuc3RhcnRTdGF0aW9uLnkgKyBzZWxmLnBvc2l0aW9uCiAgICBlbHNlaWYgc2VsZi5zdGFydFNpZGUgPT0gIndlc3QiIHRoZW4KICAgICAgICB4ID0gc2VsZi5zdGFydFN0YXRpb24ueCAtIHNlbGYucG9zaXRpb24KICAgICAgICB5ID0gc2VsZi5zdGFydFN0YXRpb24ueSAtIHNlbGYucm93CiAgICBlbHNlaWYgc2VsZi5zdGFydFNpZGUgPT0gIm5vcnRoIiB0aGVuCiAgICAgICAgeCA9IHNlbGYuc3RhcnRTdGF0aW9uLnggKyBzZWxmLnJvdwogICAgICAgIHkgPSBzZWxmLnN0YXJ0U3RhdGlvbi55IC0gc2VsZi5wb3NpdGlvbgogICAgZWxzZWlmIHNlbGYuc3RhcnRTaWRlID09ICJlYXN0IiB0aGVuCiAgICAgICAgeCA9IHNlbGYuc3RhcnRTdGF0aW9uLnggKyBzZWxmLnBvc2l0aW9uCiAgICAgICAgeSA9IHNlbGYuc3RhcnRTdGF0aW9uLnkgKyBzZWxmLnJvdwogICAgZWxzZQogICAgICAgIGVycm9yKCJTdGFydCBzaWRlIGlzIHJlcXVpcmVkIikKICAgIGVuZAoKICAgIHJldHVybiB2ZWN0b3IubmV3KHgsIHksIHopCmVuZAoKZnVuY3Rpb24gVHVydGxlOm5lZWRQbGFjZVRvcmNoKCkKICAgIHJldHVybiBzZWxmLmZsb29yID09IDAKICAgICAgICAgICAgYW5kICgoc2VsZi5yb3dMZW5ndGggPiA5IGFuZCBzZWxmLnBvc2l0aW9uICUgNSA9PSAwKSBvciBtYXRoLmNlaWwoc2VsZi5yb3dMZW5ndGggLyAyKSA9PSBzZWxmLnBvc2l0aW9uKQogICAgICAgICAgICBhbmQgKHNlbGYucm93ICUgNSA9PSAwIG9yIG1hdGguY2VpbChzZWxmLnJvd0NvdW50IC8gMikgPT0gc2VsZi5yb3cpCmVuZAoKZnVuY3Rpb24gVHVydGxlOmlzSW5jcmVhc2luZygpCiAgICByZXR1cm4gc2VsZi5yb3cgJSAyID09IDAKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6c2F2ZVJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQogICAgc2V0dGluZ3Muc2V0KCJyb3ciLCBzZWxmLnJvdykKICAgIFR1cnRsZS5zYXZlU2V0dGluZ3MoZGlzYWJsZVNhdmVTZXR0aW5ncykKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6c2F2ZUZsb29yKGRpc2FibGVTYXZlU2V0dGluZ3MpCiAgICBzZXR0aW5ncy5zZXQoImZsb29yIiwgc2VsZi5mbG9vcikKICAgIFR1cnRsZS5zYXZlU2V0dGluZ3MoZGlzYWJsZVNhdmVTZXR0aW5ncykKZW5kCgpmdW5jdGlvbiBUdXJ0bGUuc2F2ZVNldHRpbmdzKGRpc2FibGVTYXZlU2V0dGluZ3MpCiAgICBpZiBub3QgZGlzYWJsZVNhdmVTZXR0aW5ncyB0aGVuCiAgICAgICAgc2V0dGluZ3Muc2F2ZSgiLnNldHRpbmdzIikKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZTpzYXZlUG9zaXRpb24oZGlzYWJsZVNhdmVTZXR0aW5ncykKICAgIGlmIHNlbGYucG9zaXRpb24gJSAxMCA9PSAwIHRoZW4KICAgICAgICBzZXR0aW5ncy5zZXQoInBvc2l0aW9uIiwgc2VsZi5wb3NpdGlvbikKICAgICAgICBUdXJ0bGUuc2F2ZVNldHRpbmdzKGRpc2FibGVTYXZlU2V0dGluZ3MpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGUuaW5pdFJvdygpCiAgICByZXR1cm4gc2V0dGluZ3MuZ2V0KCJyb3ciLCAwKQplbmQKCmZ1bmN0aW9uIFR1cnRsZS5pbml0Rmxvb3IoKQogICAgcmV0dXJuIHNldHRpbmdzLmdldCgiZmxvb3IiLCAwKQplbmQKCmZ1bmN0aW9uIFR1cnRsZS5zaG93U3RhdGUoKQogICAgcHJpbnQoIlJvdzogIiAuLiBUdXJ0bGUuaW5pdFJvdygpKQogICAgcHJpbnQoIkZsb29yOiAiIC4uIFR1cnRsZS5pbml0Rmxvb3IoKSkKCiAgICBsb2NhbCBmdWVsID0gVHVydGxlRnVlbDpjcmVhdGUoKQogICAgcHJpbnQoIkZ1ZWw6ICIgLi4gc2VsZi5mdWVsOmdldEZ1ZWxMZXZlbCgpIC4uICIvIiAuLiBzZWxmLmZ1ZWw6Z2V0RnVlbExpbWl0KCkpCiAgICBpZiBmdWVsOm5lZWRGdWVsKCkgdGhlbgogICAgICAgIHByaW50KCJOZWVkIHJlZnVlbDogeWVzIikKICAgIGVsc2UKICAgICAgICBwcmludCgiTmVlZCByZWZ1ZWw6IG5vIikKICAgIGVuZAogICAgbG9jYWwgaW52ZW50b3J5ID0gVHVydGxlSW52ZW50b3J5OmNyZWF0ZSgpCiAgICBpZiBpbnZlbnRvcnk6aGFzRnVsbCgpIHRoZW4KICAgICAgICBwcmludCgiRnVsbCBpbnZlbnRvcnk6IHllcyIpCiAgICBlbHNlCiAgICAgICAgcHJpbnQoIkZ1bGwgaW52ZW50b3J5OiBubyIpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6dG9BcnJheSgpCiAgICBsb2NhbCBvdXQgPSB7CiAgICAgICAgcG9zaXRpb24gPSBzZWxmLnBvc2l0aW9uLAogICAgICAgIHJvdyA9IHNlbGYucm93LAogICAgICAgIGZsb29yID0gc2VsZi5mbG9vciwKICAgICAgICByb3dMZW5ndGggPSBzZWxmLnJvd0xlbmd0aCwKICAgICAgICByb3dDb3VudCA9IHNlbGYucm93Q291bnQsCiAgICAgICAgZmxvb3JDb3VudCA9IHNlbGYuZmxvb3JDb3VudCwKICAgICAgICBzdGFydFNpZGUgPSBzZWxmLnN0YXJ0U2lkZSwKICAgICAgICBlbXB0eVNsb3RzID0gc2VsZi5pbnZlbnRvcnk6Z2V0RW1wdHlTbG90cygpLAogICAgICAgIG1pbkVtcHR5U2xvdHMgPSBzZWxmLmludmVudG9yeTpnZXRNaW5pbXVtRW1wdHlTbG90cygpCiAgICB9CgogICAgb3V0WyJmdWVsTGV2ZWwiXSA9IHNlbGYuZnVlbDpnZXRGdWVsTGV2ZWwoKQogICAgb3V0WyJmdWVsTGltaXQiXSA9IHNlbGYuZnVlbDpnZXRGdWVsTGltaXQoKQogICAgb3V0WyJuZWVkUmVmdWVsIl0gPSBzZWxmLmZ1ZWw6bmVlZEZ1ZWwoKQoKICAgIG91dFsiZnVsbEludmVudG9yeSJdID0gc2VsZi5pbnZlbnRvcnk6aGFzRnVsbCgpCiAgICBvdXRbImhhc1RvcmNoZXMiXSA9IHNlbGYuaW52ZW50b3J5Omhhc1RvcmNoZXMoKQogICAgb3V0WyJsb2NhdGlvbiJdID0gc2VsZi5tb3ZlcjpnZXRDdXJyZW50VmVjdG9yKCkKICAgIG91dFsic3RhdGUiXSA9IHNlbGYuc3RhdGUKCiAgICByZXR1cm4gb3V0CmVuZAoKZnVuY3Rpb24gVHVydGxlLnJlc2V0U2V0dGluZ3MoKQogICAgc2V0dGluZ3Muc2V0KCJyb3ciLCAwKQogICAgc2V0dGluZ3Muc2V0KCJmbG9vciIsIDApCiAgICBzZXR0aW5ncy5zZXQoInBvc2l0aW9uIiwgMCkKICAgIFR1cnRsZS5zYXZlU2V0dGluZ3MoKQogICAgcHJpbnQoIlJlc2V0IHdhcyBzdWNjZXNzZnVsIikKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6aW5jcmVhc2VGbG9vcihhYm91dCwgZGlzYWJsZVNhdmVTZXR0aW5ncykKICAgIGlmIGFib3V0IDw9IDAgdGhlbgogICAgICAgIGFib3V0ID0gMQogICAgZW5kCiAgICBzZWxmLmZsb29yID0gc2VsZi5mbG9vciArIGFib3V0CiAgICBzZWxmOnNhdmVGbG9vcihkaXNhYmxlU2F2ZVNldHRpbmdzKQplbmQKCmZ1bmN0aW9uIFR1cnRsZTppbmNyZWFzZVJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQogICAgc2VsZi5yb3cgPSBzZWxmLnJvdyArIDEKICAgIHNlbGY6c2F2ZVJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQplbmQKCmZ1bmN0aW9uIFR1cnRsZTpkZWNyZWFzZVJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQogICAgc2VsZi5yb3cgPSBzZWxmLnJvdyAtIDEKICAgIGlmIHNlbGYucm93IDwgMCB0aGVuCiAgICAgICAgc2VsZi5yb3cgPSAwCiAgICBlbmQKICAgIHNlbGY6c2F2ZVJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQplbmQKCmZ1bmN0aW9uIFR1cnRsZTpyZXNldFJvdyhkaXNhYmxlU2F2ZVNldHRpbmdzKQogICAgc2VsZi5yb3cgPSAwCiAgICBzZWxmOnNhdmVSb3coZGlzYWJsZVNhdmVTZXR0aW5ncykKZW5kCgpmdW5jdGlvbiBUdXJ0bGU6dXBkYXRlUG9zaXRpb24oZGlzYWJsZVNhdmVTZXR0aW5ncykKICAgIGlmIHNlbGY6aXNJbmNyZWFzaW5nKCkgdGhlbgogICAgICAgIHNlbGYucG9zaXRpb24gPSBzZWxmLnBvc2l0aW9uICsgMQogICAgZWxzZQogICAgICAgIHNlbGYucG9zaXRpb24gPSBzZWxmLnBvc2l0aW9uIC0gMQogICAgZW5kCiAgICBzZWxmLm1vdmVyOnJlZnJlc2hDdXJyZW50VmVjdG9yKCkKICAgIHNlbGY6c2F2ZVBvc2l0aW9uKGRpc2FibGVTYXZlU2V0dGluZ3MpCmVuZAoKZnVuY3Rpb24gVHVydGxlOmluaXRQb3NpdGlvbigpCiAgICBsb2NhbCBwb3NpdGlvbiA9IHNldHRpbmdzLmdldCgicG9zaXRpb24iLCAtMTApCiAgICBpZiBwb3NpdGlvbiA+IC0xMCB0aGVuCiAgICAgICAgcmV0dXJuIHBvc2l0aW9uCiAgICBlbmQKICAgIHNlbGY6cmVzZXRQb3NpdGlvbigpCmVuZAoKZnVuY3Rpb24gVHVydGxlOnJlc2V0UG9zaXRpb24oKQogICAgaWYgc2VsZjppc0luY3JlYXNpbmcoKSB0aGVuCiAgICAgICAgc2VsZi5wb3NpdGlvbiA9IDAKICAgIGVsc2UKICAgICAgICBzZWxmLnBvc2l0aW9uID0gc2VsZi5yb3dMZW5ndGgKICAgIGVuZAogICAgc2VsZjpzYXZlUG9zaXRpb24oKQplbmQKCnJldHVybiBUdXJ0bGUK
library/turtle/TurtleInventory.lua
VHVydGxlSW52ZW50b3J5ID0ge30KVHVydGxlSW52ZW50b3J5Ll9faW5kZXggPSBUdXJ0bGVJbnZlbnRvcnkKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpjcmVhdGUoKQogICAgbG9jYWwgb2JqID0ge30KICAgIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgICBvYmoubWluaW11bUVtcHR5U2xvdHMgPSAyCiAgICBvYmoudG9yY2hlc1BsYWNlID0gMTUKICAgIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBUdXJ0bGVJbnZlbnRvcnk6aGFzRnVsbCgpCiAgICByZXR1cm4gc2VsZjpnZXRFbXB0eVNsb3RzKCkgPD0gc2VsZi5taW5pbXVtRW1wdHlTbG90cwplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpnZXRFbXB0eVNsb3RzKCkKICAgIGxvY2FsIGVtcHR5Q291bnQgPSAwCiAgICBmb3IgaSA9IDEsIDE2IGRvCiAgICAgICAgaWYgdHVydGxlLmdldEl0ZW1Db3VudChpKSA9PSAwIHRoZW4KICAgICAgICAgICAgZW1wdHlDb3VudCA9IGVtcHR5Q291bnQgKyAxCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBlbXB0eUNvdW50CmVuZAoKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpnZXRNaW5pbXVtRW1wdHlTbG90cygpCiAgICByZXR1cm4gc2VsZi5taW5pbXVtRW1wdHlTbG90cwplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTplcXVpcExlZnQocG9zaXRpb24sIHRvb2wpCiAgICB0dXJ0bGUuc2VsZWN0KHBvc2l0aW9uKQogICAgaXRlbSA9IHR1cnRsZS5nZXRJdGVtRGV0YWlsKCkKICAgIGlmIGl0ZW0gPT0gbmlsIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVsc2VpZiB0b29sIH49IGl0ZW0ubmFtZSB0aGVuCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKICAgIHJldHVybiB0dXJ0bGUuZXF1aXBMZWZ0KCkKZW5kCgpmdW5jdGlvbiBUdXJ0bGVJbnZlbnRvcnk6Zmx1c2hXaXRoSWdub3JlKGlnbm9yZWQsIGlnbm9yZWQxLCBpZ25vcmVkMikKICAgIGZvciBpID0gMSwgMTYgZG8KICAgICAgICBpZiBpIH49IDE1IHRoZW4KICAgICAgICAgICAgdHVydGxlLnNlbGVjdChpKQogICAgICAgICAgICBsb2NhbCBkZXRhaWwgPSB0dXJ0bGUuZ2V0SXRlbURldGFpbCgpCiAgICAgICAgICAgIGlmIGRldGFpbCB+PSBuaWwgYW5kIGRldGFpbC5uYW1lIH49IGlnbm9yZWQgYW5kIGRldGFpbC5uYW1lIH49IGlnbm9yZWQxIGFuZCBkZXRhaWwubmFtZSB+PSBpZ25vcmVkMiB0aGVuCiAgICAgICAgICAgICAgICB0dXJ0bGUuZHJvcERvd24oKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpmbHVzaFNwZWNpZmljKHNwZWNpZmljLCBzcGVjaWZpYzEsIHNwZWNpZmljMikKICAgIGZvciBpID0gMSwgMTYgZG8KICAgICAgICBpZiBpIH49IDE1IHRoZW4KICAgICAgICAgICAgdHVydGxlLnNlbGVjdChpKQogICAgICAgICAgICBsb2NhbCBkZXRhaWwgPSB0dXJ0bGUuZ2V0SXRlbURldGFpbCgpCiAgICAgICAgICAgIGlmIGRldGFpbCB+PSBuaWwgYW5kIChkZXRhaWwubmFtZSA9PSBzcGVjaWZpYyBvciBkZXRhaWwubmFtZSA9PSBzcGVjaWZpYzEgb3IgZGV0YWlsLm5hbWUgPT0gc3BlY2lmaWMyKSB0aGVuCiAgICAgICAgICAgICAgICB0dXJ0bGUuZHJvcERvd24oKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpoYXNUb3JjaGVzKCkKICAgIHR1cnRsZS5zZWxlY3Qoc2VsZi50b3JjaGVzUGxhY2UpCiAgICBsb2NhbCBkZXRhaWwgPSB0dXJ0bGUuZ2V0SXRlbURldGFpbCgpCiAgICBpZiBkZXRhaWwgPT0gbmlsIHRoZW4KICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIHJldHVybiBkZXRhaWxbIm5hbWUiXSA9PSAibWluZWNyYWZ0OnRvcmNoIiBhbmQgZGV0YWlsWyJjb3VudCJdID4gMQplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTpwbGFjZVRvcmNoKCkKICAgIGlmIG5vdCBzZWxmOmhhc1RvcmNoZXMoKSB0aGVuCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICBlbmQKCiAgICB0dXJ0bGUuc2VsZWN0KHNlbGYudG9yY2hlc1BsYWNlKQogICAgcmV0dXJuIHR1cnRsZS5wbGFjZURvd24oKQplbmQKCmZ1bmN0aW9uIFR1cnRsZUludmVudG9yeTp0YWtlVG9yY2hlcygpCiAgICBpZiBzZWxmOmhhc1RvcmNoZXMoKSB0aGVuCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAoKICAgIHR1cnRsZS5zZWxlY3Qoc2VsZi50b3JjaGVzUGxhY2UpCiAgICB0dXJ0bGUuZHJvcERvd24oKQogICAgcmV0dXJuIHR1cnRsZS5zdWNrKCkKZW5kCgpyZXR1cm4gVHVydGxlSW52ZW50b3J5
library/turtle/TurtleHelper.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpUdXJ0bGVIZWxwZXIgPSB7fQpUdXJ0bGVIZWxwZXIuX19pbmRleCA9IFR1cnRsZUhlbHBlcgoKZnVuY3Rpb24gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGUoY3VycmVudFZlY3RvciwgdGFyZ2V0VmVjdG9yLCBzaWRlKQogICAgbG9jYWwgc2lkZVggPSBUdXJ0bGVIZWxwZXIuZ2V0TmVlZGVkU2lkZVgoY3VycmVudFZlY3RvciwgdGFyZ2V0VmVjdG9yKQogICAgaWYgc2lkZVggfj0gbmlsIHRoZW4KICAgICAgICByZXR1cm4gc2lkZVgKICAgIGVuZAogICAgcmV0dXJuIFR1cnRsZUhlbHBlci5nZXROZWVkZWRTaWRlWShjdXJyZW50VmVjdG9yLCB0YXJnZXRWZWN0b3IsIHNpZGUpOwplbmQKCmZ1bmN0aW9uIFR1cnRsZUhlbHBlci5nZXROZWVkZWRTaWRlRGVzYyhjdXJyZW50VmVjdG9yLCB0YXJnZXRWZWN0b3IsIHNpZGUpCiAgICBsb2NhbCBzaWRlWSA9IFR1cnRsZUhlbHBlci5nZXROZWVkZWRTaWRlWShjdXJyZW50VmVjdG9yLCB0YXJnZXRWZWN0b3IpCiAgICBpZiBzaWRlWSB+PSBuaWwgdGhlbgogICAgICAgIHJldHVybiBzaWRlWQogICAgZW5kCiAgICByZXR1cm4gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGVYKGN1cnJlbnRWZWN0b3IsIHRhcmdldFZlY3Rvciwgc2lkZSk7CmVuZAoKZnVuY3Rpb24gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGVYKGN1cnJlbnRWZWN0b3IsIHRhcmdldFZlY3Rvciwgc2lkZSkKICAgIGlmIHRhcmdldFZlY3Rvci54IDwgY3VycmVudFZlY3Rvci54IHRoZW4KICAgICAgICByZXR1cm4gIndlc3QiCiAgICBlbHNlaWYgdGFyZ2V0VmVjdG9yLnggPiBjdXJyZW50VmVjdG9yLnggdGhlbgogICAgICAgIHJldHVybiAiZWFzdCIKICAgIGVuZAogICAgcmV0dXJuIHNpZGUKZW5kCgpmdW5jdGlvbiBUdXJ0bGVIZWxwZXIuZ2V0TmVlZGVkU2lkZVkoY3VycmVudFZlY3RvciwgdGFyZ2V0VmVjdG9yLCBzaWRlKQogICAgaWYgdGFyZ2V0VmVjdG9yLnkgPCBjdXJyZW50VmVjdG9yLnkgdGhlbgogICAgICAgIHJldHVybiAibm9ydGgiCiAgICBlbHNlaWYgdGFyZ2V0VmVjdG9yLnkgPiBjdXJyZW50VmVjdG9yLnkgdGhlbgogICAgICAgIHJldHVybiAic291dGgiCiAgICBlbmQKICAgIHJldHVybiBzaWRlCmVuZAoKZnVuY3Rpb24gVHVydGxlSGVscGVyLmRldGVjdFN0YXJ0U2lkZShzdGFydFZlY3RvciwgZW5kVmVjdG9yKQogICAgbG9jYWwgYXNjID0gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGUoc3RhcnRWZWN0b3IsIGVuZFZlY3RvcikKICAgIGxvY2FsIGRlc2MgPSBUdXJ0bGVIZWxwZXIuZ2V0TmVlZGVkU2lkZURlc2Moc3RhcnRWZWN0b3IsIGVuZFZlY3RvcikKCiAgICBpZiBhc2MgPT0gIndlc3QiIGFuZCBkZXNjID09ICJzb3V0aCIgdGhlbgogICAgICAgIHJldHVybiAic291dGgiCiAgICBlbHNlaWYgYXNjID09ICJlYXN0IiBhbmQgZGVzYyA9PSAic291dGgiIHRoZW4KICAgICAgICByZXR1cm4gImVhc3QiCiAgICBlbHNlaWYgYXNjID09ICJ3ZXN0IiBhbmQgZGVzYyA9PSAibm9ydGgiIHRoZW4KICAgICAgICByZXR1cm4gIndlc3QiCiAgICBlbHNlaWYgYXNjID09ICJlYXN0IiBhbmQgZGVzYyA9PSAibm9ydGgiIHRoZW4KICAgICAgICByZXR1cm4gIm5vcnRoIgogICAgZW5kCiAgICByZXR1cm4gbmlsCmVuZAoKZnVuY3Rpb24gVHVydGxlSGVscGVyLmdldFNpemUoc3RhcnRTdGF0aW9uLCBlbmRTdGF0aW9uLCBzaWRlKQogICAgbG9jYWwgcyA9IHN0YXJ0U3RhdGlvbgogICAgbG9jYWwgZSA9IGVuZFN0YXRpb24KICAgIGxvY2FsIHhQYXJ0ID0gVHVydGxlSGVscGVyLmdldFNpemVQYXJ0KHMueCwgZS54KQogICAgbG9jYWwgeVBhcnQgPSBUdXJ0bGVIZWxwZXIuZ2V0U2l6ZVBhcnQocy55LCBlLnkpCiAgICBsb2NhbCB6UGFydCA9IFR1cnRsZUhlbHBlci5nZXRTaXplUGFydChzLnosIGUueikKCiAgICBpZiBzaWRlID09ICJub3J0aCIgb3Igc2lkZSA9PSAic291dGgiIHRoZW4KICAgICAgICByZXR1cm4geVBhcnQsIHhQYXJ0LCB6UGFydAogICAgZW5kCiAgICByZXR1cm4geFBhcnQsIHlQYXJ0LCB6UGFydAplbmQKCmZ1bmN0aW9uIFR1cnRsZUhlbHBlci5nZXRTaXplUGFydChzLCBlKQogICAgaWYgcyA8IGUgdGhlbgogICAgICAgIHJldHVybiBlIC0gcwogICAgZWxzZQogICAgICAgIHJldHVybiBzIC0gZQogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlSGVscGVyLmNyZWF0ZVZlY3RvckZyb21TdHJpbmcocykKICAgIGxvY2FsIHNwbGl0ZWQgPSBVdGlscy5zcGxpdChzLCAiLCAiKQogICAgcmV0dXJuIHZlY3Rvci5uZXcoc3BsaXRlZFsxXSwgc3BsaXRlZFsyXSwgc3BsaXRlZFszXSkKZW5kCgpyZXR1cm4gVHVydGxlSGVscGVyCg==
library/turtle/TurtleInspector.lua
VHVydGxlSW5zcGVjdG9yID0ge30KVHVydGxlSW5zcGVjdG9yLl9faW5kZXggPSBUdXJ0bGVJbnNwZWN0b3IKClR1cnRsZUluc3BlY3Rvci5VUCA9ICJ1cCIKVHVydGxlSW5zcGVjdG9yLkRPV04gPSAiZG93biIKVHVydGxlSW5zcGVjdG9yLkZST05UID0gImZyb250IgoKZnVuY3Rpb24gVHVydGxlSW5zcGVjdG9yOmNyZWF0ZSgpCiAgICBsb2NhbCBvYmogPSB7fQogICAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICAgIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBUdXJ0bGVJbnNwZWN0b3I6ZGV0ZWN0KHNpZGUpCiAgICBpZiBzaWRlID09IFR1cnRsZUluc3BlY3Rvci5VUCB0aGVuCiAgICAgICAgcmV0dXJuIHR1cnRsZS5kZXRlY3RVcCgpCiAgICBlbHNlaWYgc2lkZSA9PSBUdXJ0bGVJbnNwZWN0b3IuRE9XTiB0aGVuCiAgICAgICAgcmV0dXJuIHR1cnRsZS5kZXRlY3REb3duKCkKICAgIGVuZAogICAgcmV0dXJuIHR1cnRsZS5kZXRlY3QoKQplbmQKCmZ1bmN0aW9uIFR1cnRsZUluc3BlY3Rvcjppc0NoZXN0KHNpZGUpCiAgICByZXR1cm4gaXNUeXBlKHNlbGVjdCgyLCBpbnNwZWN0U2lkZShzaWRlKSksIHsibWluZWNyYWZ0OmNoZXN0IiwgIm1pbmVjcmFmdDp0cmFwcGVkX2NoZXN0IiwgIm1pbmVjcmFmdDpiYXJyZWwiLCAibWluZWNyYWZ0OmVuZGVyX2NoZXN0In0pCmVuZAoKZnVuY3Rpb24gVHVydGxlSW5zcGVjdG9yOmlzTGF2YShzaWRlKQogICAgcmV0dXJuIGlzVHlwZShzZWxlY3QoMiwgaW5zcGVjdFNpZGUoc2lkZSkpLCB7Im1pbmVjcmFmdDpsYXZhIn0pCmVuZAoKZnVuY3Rpb24gaW5zcGVjdFNpZGUoc2lkZSkKICAgIGlmIHNpZGUgPT0gVHVydGxlSW5zcGVjdG9yLlVQIHRoZW4KICAgICAgICByZXR1cm4gdHVydGxlLmluc3BlY3RVcCgpCiAgICBlbHNlaWYgc2lkZSA9PSBUdXJ0bGVJbnNwZWN0b3IuRE9XTiB0aGVuCiAgICAgICAgcmV0dXJuIHR1cnRsZS5pbnNwZWN0RG93bigpCiAgICBlbmQKICAgIHJldHVybiB0dXJ0bGUuaW5zcGVjdCgpCmVuZAoKZnVuY3Rpb24gaXNUeXBlKGRhdGEsIHR5cGVzKQogICAgaWYgbm90IGRhdGEgdGhlbgogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgICBmb3IgaSx2YWx1ZSBpbiBpcGFpcnModHlwZXMpIGRvCiAgICAgICAgaWYgZGF0YS5uYW1lID09IHZhbHVlIHRoZW4KICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIGZhbHNlCmVuZAoKcmV0dXJuIFR1cnRsZUluc3BlY3Rvcg==
library/turtle/TurtleMover.lua
ZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVIZWxwZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVMb2dnZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L3R1cnRsZS9UdXJ0bGVJbnNwZWN0b3IubHVhIikKClR1cnRsZU1vdmVyID0ge30KVHVydGxlTW92ZXIuX19pbmRleCA9IFR1cnRsZU1vdmVyCgpmdW5jdGlvbiBUdXJ0bGVNb3ZlcjpjcmVhdGUoaW5zcGVjdG9yLCBjYWxsYmFjaykKICAgIGxvY2FsIG9iaiA9IHt9CiAgICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQoKICAgIG9iai5zaWRlID0gbmlsCiAgICBvYmouc2lkZXMgPSB7ImVhc3QiLCJzb3V0aCIsIndlc3QiLCJub3J0aCJ9CiAgICBvYmouaW5zcGVjdG9yID0gaW5zcGVjdG9yCiAgICBvYmouc2lkZU51bXMgPSB7ZWFzdD0xLCBzb3V0aD0yLCB3ZXN0PTMsIG5vcnRoPTR9CiAgICBvYmouY3VycmVudFZlY3RvciA9IHt4PS0xLCB5PS0xLCB6PS0xfQogICAgb2JqLmNhbGxiYWNrID0gY2FsbGJhY2sgb3IgZnVuY3Rpb24oKSBlbmQKICAgIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3ZlcjpzdGFydCgpCiAgICBzZWxmLnNpZGUgPSBzZWxmOmRldGVjdFNpZGUoKQplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOmdldEN1cnJlbnRWZWN0b3IoKQogICAgcmV0dXJuIHNlbGYuY3VycmVudFZlY3RvcgplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOnJlZnJlc2hDdXJyZW50VmVjdG9yKCkKICAgIHNlbGYuY3VycmVudFZlY3RvciA9IFR1cnRsZU1vdmVyLmdldExvY2F0aW9uKCkKZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3Zlcjpnb1RvVmVjdG9yKHRhcmdldFZlY3Rvciwgc2lkZSkKICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgb3IgZnVuY3Rpb24gKCkgZW5kCiAgICB3aGlsZSB0cnVlCiAgICBkbwogICAgICAgIGxvY2FsIGN1cnJlbnRWZWN0b3IgPSBUdXJ0bGVNb3Zlci5nZXRMb2NhdGlvbigpCiAgICAgICAgaWYgY3VycmVudFZlY3RvciA9PSBmYWxzZSB0aGVuCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIGVuZAoKICAgICAgICBzZWxmLmN1cnJlbnRWZWN0b3IgPSBjdXJyZW50VmVjdG9yCiAgICAgICAgaWYgY3VycmVudFZlY3Rvci56IDwgdGFyZ2V0VmVjdG9yLnogdGhlbgogICAgICAgICAgICBzZWxmOnVwKCkKCiAgICAgICAgZWxzZWlmIGN1cnJlbnRWZWN0b3IueiA+IHRhcmdldFZlY3Rvci56IGFuZCB0YXJnZXRWZWN0b3IueiB+PSAoY3VycmVudFZlY3Rvci56IC0gMSkgdGhlbgogICAgICAgICAgICBzZWxmOmRvd24oKQoKICAgICAgICBlbHNlaWYgc2VsZjp0dXJuVG9OZWVkZWRTaWRlKGN1cnJlbnRWZWN0b3IsIHRhcmdldFZlY3Rvciwgc2lkZSkgdGhlbgoKICAgICAgICBlbHNlaWYgY3VycmVudFZlY3Rvci54ID09IHRhcmdldFZlY3Rvci54IGFuZCBjdXJyZW50VmVjdG9yLnkgPT0gdGFyZ2V0VmVjdG9yLnkgdGhlbgogICAgICAgICAgICBpZiBjdXJyZW50VmVjdG9yLnogPiB0YXJnZXRWZWN0b3IueiB0aGVuCiAgICAgICAgICAgICAgICBzZWxmOmRvd24oKQogICAgICAgICAgICBlbHNlaWYgY3VycmVudFZlY3Rvci56ID09IHRhcmdldFZlY3Rvci56IHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAoKICAgICAgICBlbHNlCiAgICAgICAgICAgIHNlbGY6Zm9yd2FyZCgpCiAgICAgICAgICAgIHNlbGY6Y2FsbGJhY2soKQogICAgICAgIGVuZAogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlTW92ZXI6dHVyblRvTmVlZGVkU2lkZShjdXJyZW50VmVjdG9yLCB0YXJnZXRWZWN0b3IsIHNpZGUpCiAgICBsb2NhbCBuZWVkZWRTaWRlID0gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGUoY3VycmVudFZlY3RvciwgdGFyZ2V0VmVjdG9yLCBzaWRlKQogICAgaWYgc2VsZi5zaWRlID09IG5pbCB0aGVuCiAgICAgICAgZXJyb3IoIlNpZGUgaXMgcmVxdWlyZWQiKQogICAgZW5kCgogICAgaWYgbmVlZGVkU2lkZSB+PSBuaWwgYW5kIG5lZWRlZFNpZGUgfj0gc2VsZi5zaWRlIHRoZW4KICAgICAgICBsb2NhbCBjdXJyZW50TnVtID0gc2VsZi5zaWRlTnVtc1tzZWxmLnNpZGVdCiAgICAgICAgbG9jYWwgbnVtID0gc2VsZi5zaWRlTnVtc1tuZWVkZWRTaWRlXQogICAgICAgIGxvY2FsIGFib3V0ID0gbWF0aC5hYnMoY3VycmVudE51bSAtIG51bSkKCiAgICAgICAgaWYgbnVtIDwgY3VycmVudE51bSBhbmQgYWJvdXQgPD0gMiB0aGVuCiAgICAgICAgICAgIGZvciBpID0gMSwgYWJvdXQgZG8KICAgICAgICAgICAgICAgIHNlbGY6dHVybkxlZnQoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlaWYgbnVtIDwgY3VycmVudE51bSBhbmQgYWJvdXQgPiAyIHRoZW4KICAgICAgICAgICAgc2VsZjp0dXJuUmlnaHQoKQogICAgICAgIGVsc2VpZiBudW0gPiBjdXJyZW50TnVtIGFuZCBhYm91dCA8PSAyIHRoZW4KICAgICAgICAgICAgZm9yIGkgPSAxLCBhYm91dCBkbwogICAgICAgICAgICAgICAgc2VsZjp0dXJuUmlnaHQoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIHNlbGY6dHVybkxlZnQoKQogICAgICAgIGVuZAogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOmRldGVjdFNpZGUoKQogICAgbG9jYWwgY3VycmVudFZlY3RvciA9IFR1cnRsZU1vdmVyLmdldExvY2F0aW9uKCkKICAgIGlmIGN1cnJlbnRWZWN0b3IgPT0gZmFsc2UgdGhlbgogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCgogICAgaWYgc2VsZi5pbnNwZWN0b3I6aXNDaGVzdCgpIHRoZW4KICAgICAgICB0dXJ0bGUudHVybkxlZnQoKQogICAgZW5kCgogICAgc2VsZjpmb3J3YXJkKCkKCiAgICBsb2NhbCBmcm9udFZlY3RvciA9IFR1cnRsZU1vdmVyLmdldExvY2F0aW9uKCkKICAgIGlmIGN1cnJlbnRWZWN0b3IgPT0gZmFsc2UgdGhlbgogICAgICAgIHJldHVybiBmYWxzZQogICAgZW5kCiAgICByZXR1cm4gVHVydGxlSGVscGVyLmdldE5lZWRlZFNpZGUoY3VycmVudFZlY3RvciwgZnJvbnRWZWN0b3IpCmVuZAoKZnVuY3Rpb24gVHVydGxlTW92ZXI6YmFjaygpCiAgICBwcmludCgiYmFjayIpCiAgICByZXR1cm4gdHVydGxlLmJhY2soKQplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOnVwKCkKICAgIGlmIHNlbGYuaW5zcGVjdG9yOmRldGVjdChUdXJ0bGVJbnNwZWN0b3IuVVApIHRoZW4KICAgICAgICBpZiB0dXJ0bGUuZGlnVXAoKSA9PSBmYWxzZSB0aGVuCiAgICAgICAgICAgIHNlbGY6YXR0YWNrVXAoKQogICAgICAgIGVuZAogICAgZW5kCgogICAgaWYgdHVydGxlLnVwKCkgdGhlbgogICAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlCiAgICAgICAgc2VsZjphdHRhY2tVcCgpCiAgICAgICAgc2VsZjp1cCgpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3Zlcjpkb3duKCkKICAgIGlmIHNlbGYuaW5zcGVjdG9yOmRldGVjdChUdXJ0bGVJbnNwZWN0b3IuRE9XTikgdGhlbgogICAgICAgIGlmIHR1cnRsZS5kaWdEb3duKCkgPT0gZmFsc2UgdGhlbgogICAgICAgICAgICBzZWxmOmF0dGFja0Rvd24oKQogICAgICAgIGVuZAogICAgZW5kCgogICAgaWYgdHVydGxlLmRvd24oKSB0aGVuCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgICBzZWxmOmF0dGFja0Rvd24oKQogICAgICAgIHNlbGY6ZG93bigpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3Zlcjpmb3J3YXJkKCkKICAgIGlmIHNlbGYuaW5zcGVjdG9yOmRldGVjdCgpIHRoZW4KICAgICAgICBpZiB0dXJ0bGUuZGlnKCkgPT0gZmFsc2UgdGhlbgogICAgICAgICAgICBzZWxmOmF0dGFjaygpCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBpZiB0dXJ0bGUuZm9yd2FyZCgpIHRoZW4KICAgICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZQogICAgICAgIHNlbGY6YXR0YWNrKCkKICAgICAgICByZXR1cm4gc2VsZjpmb3J3YXJkKCkKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOmF0dGFjaygpCiAgICB3aGlsZSB0dXJ0bGUuYXR0YWNrKCkKICAgIGRvCiAgICAgICAgcHJpbnQgKCJUdXJ0bGUgYXR0YWNrZWQgaW4gZnJvbnQuIikKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOmF0dGFja1VwKCkKICAgIHdoaWxlIHR1cnRsZS5hdHRhY2tVcCgpCiAgICBkbwogICAgICAgIHByaW50ICgiVHVydGxlIGF0dGFja2VkIHVwLiIpCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3ZlcjphdHRhY2tEb3duKCkKICAgIHdoaWxlIHR1cnRsZS5hdHRhY2tEb3duKCkKICAgIGRvCiAgICAgICAgcHJpbnQgKCJUdXJ0bGUgYXR0YWNrZWQgZG93bi4iKQogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlTW92ZXI6dHVyblJpZ2h0KCkKICAgIHNlbGYuc2lkZSA9IHNlbGY6Z2V0Um90YXRlZFNpZGUoc2VsZi5zaWRlLCAxKQogICAgcmV0dXJuIHR1cnRsZS50dXJuUmlnaHQoKQplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOnR1cm5MZWZ0KCkKICAgIHNlbGYuc2lkZSA9IHNlbGY6Z2V0Um90YXRlZFNpZGUoc2VsZi5zaWRlLCAtMSkKICAgIHJldHVybiB0dXJ0bGUudHVybkxlZnQoKQplbmQKCmZ1bmN0aW9uIFR1cnRsZU1vdmVyOmdldFJvdGF0ZWRTaWRlKHNpZGUsIGFib3V0KQogICAgbG9jYWwgY3VycmVudE51bSA9IHNlbGYuc2lkZU51bXNbc2lkZV0KICAgIHJldHVybiBzZWxmLnNpZGVzW3NlbGY6Y29ycmVjdFNpZGVOdW0oY3VycmVudE51bSArIGFib3V0KV0KZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3Zlcjpjb3JyZWN0U2lkZU51bShudW0pCiAgICBpZiBudW0gPiA0IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZWxzZWlmIG51bSA8IDEgdGhlbgogICAgICAgIHJldHVybiA0CiAgICBlbmQKICAgIHJldHVybiBudW0KZW5kCgpmdW5jdGlvbiBUdXJ0bGVNb3Zlci5nZXRMb2NhdGlvbihjb3VudGVyKQogICAgY291bnRlciA9IGNvdW50ZXIgb3IgMAogICAgbG9jYWwgeCwgeSwgeiA9IGdwcy5sb2NhdGUoNSkKICAgIGlmIG5vdCB4IHRoZW4KICAgICAgICBpZiBjb3VudGVyIDwgNSB0aGVuCiAgICAgICAgICAgIHNsZWVwKDUpCiAgICAgICAgICAgIHJldHVybiBUdXJ0bGVNb3Zlci5nZXRMb2NhdGlvbihjb3VudGVyICsgMSkKICAgICAgICBlbmQKICAgICAgICBUdXJ0bGVMb2dnZXIuZXJyb3IoIkZhaWxlZCB0byBnZXQgbXkgbG9jYXRpb24hIikKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVsc2UKICAgICAgICByZXR1cm4gdmVjdG9yLm5ldyh4LCB5LCB6KQogICAgZW5kCmVuZAoKcmV0dXJuIFR1cnRsZU1vdmVy
library/turtle/TurtleLogger.lua
VHVydGxlTG9nZ2VyID0ge30KVHVydGxlTG9nZ2VyLl9faW5kZXggPSBUdXJ0bGVMb2dnZXIKCmZ1bmN0aW9uIFR1cnRsZUxvZ2dlci5lcnJvcihtZXNzYWdlKQogICAgcHJpbnQobWVzc2FnZSkKZW5kCgpmdW5jdGlvbiBUdXJ0bGVMb2dnZXIubG9nKG1lc3NhZ2UpCiAgICBsb2NhbCBoID0gZnMub3BlbigibG9nIiwgImEiKQogICAgaC53cml0ZShtZXNzYWdlKQogICAgaC53cml0ZSgiXG4iKQogICAgaC5jbG9zZSgpCmVuZAoKcmV0dXJuIFR1cnRsZUxvZ2dlcg==
library/FileLoader.lua
ZG9maWxlKCJsaWJyYXJ5L0pzb25EZWNvZGVyLmx1YSIpCgpGaWxlTG9hZGVyID0ge30KRmlsZUxvYWRlci5fX2luZGV4ID0gRmlsZUxvYWRlcgoKZnVuY3Rpb24gRmlsZUxvYWRlcjpjcmVhdGUoY29uZmlnLCByZXF1aXJlZCwgbGlicmFyeSkKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCgogIG9iai5saWJyYXJ5ID0gbGlicmFyeQogIG9iai5wYWNrYWdlcyA9IGNvbmZpZ1sicGFja2FnZXMiXQogIG9iai5kZXBlbmRlbmNpZXMgPSBjb25maWdbImRlcGVuZGVuY2llcyJdCiAgb2JqLnJlcXVpcmVkID0gcmVxdWlyZWQKICBvYmoubGlicmFyaWVzID0ge30KCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEZpbGVMb2FkZXIubG9hZENvbmZpZyhwYXRoKQogIHJldHVybiBkZWNvZGVGcm9tRmlsZShwYXRoKQplbmQKCmZ1bmN0aW9uIEZpbGVMb2FkZXI6Z2V0TGlicmFyaWVzKCkKICBpZiBzZWxmLnJlcXVpcmVkIH49IG5pbCB0aGVuCiAgICBmb3Iga2V5LHZhbHVlIGluIHBhaXJzKHNlbGYucmVxdWlyZWQpIGRvCiAgICAgIGlmIHNlbGYucGFja2FnZXNba2V5XSA9PSBuaWwgdGhlbgogICAgICAgIGVycm9yKCJQYWNrYWdlIG5vdCBmb3VuZCBpbiBwYWNrYWdlci1zZXJ2ZXIuanNvbiIpCiAgICAgIGVuZAoKICAgICAgbG9jYWwgY29uZmlnID0gc2VsZi5wYWNrYWdlc1trZXldCgogICAgICBzZWxmOmxvYWRTZWN0aW9uKGNvbmZpZywgImxpYnJhcnkiLCAibGlicmFyeS8iLCAibGlicmFyeS8iKQoKICAgICAgc2VsZjpsb2FkU2VjdGlvbihjb25maWcsICJiaW4iLCAiYmluLyIsICIiKQoKICAgICAgc2VsZjpsb2FkU2VjdGlvbihjb25maWcsICJjb25maWciLCAiY29uZmlnLyIsICIiLCAiLmpzb24iKQoKICAgICAgaWYgY29uZmlnWyJzdGFydHVwIl0gfj0gbmlsIHRoZW4KICAgICAgICBzZWxmOmxvYWRGaWxlKGNvbmZpZ1sic3RhcnR1cCJdLCAiYmluLyIsICIiLCAic3RhcnR1cCIpCiAgICAgIGVuZAoKICAgIGVuZAogIGVuZAoKICBpZiBzZWxmLmxpYnJhcnkgfj0gbmlsIHRoZW4KICAgIGZvciBrZXksdmFsdWUgaW4gcGFpcnMoc2VsZi5saWJyYXJ5KSBkbwogICAgICBzZWxmOmxvYWRGaWxlKHZhbHVlLCAibGlicmFyeS8iLCAibGlicmFyeS8iKQogICAgZW5kCiAgZW5kCgogIHJldHVybiBzZWxmLmxpYnJhcmllcwplbmQKCmZ1bmN0aW9uIEZpbGVMb2FkZXI6bG9hZFNlY3Rpb24oY29uZmlnLCBuYW1lLCBmb2xkZXIsIG91dEZvbGRlciwgZXh0ZW5zaW9uKQogIGlmIGNvbmZpZ1tuYW1lXSB+PSBuaWwgdGhlbgogICAgZm9yIGtleSxsaWJyYXJ5IGluIHBhaXJzKGNvbmZpZ1tuYW1lXSkgZG8KICAgICAgc2VsZjpsb2FkRmlsZShsaWJyYXJ5LCBmb2xkZXIsIG91dEZvbGRlciwgbmlsLCBleHRlbnNpb24pCiAgICBlbmQKICBlbmQKZW5kCgpmdW5jdGlvbiBGaWxlTG9hZGVyOmxvYWRGaWxlKG5hbWUsIGRpcmVjdG9yeSwgZmluYWxEaXJlY3RvcnksIGZpbmFsTmFtZSwgZXh0ZW5zaW9uKQogIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiBvciAiLmx1YSIKICBsb2NhbCBoID0gZnMub3BlbihkaXJlY3RvcnkgLi4gbmFtZSAuLiBleHRlbnNpb24sICJyIikKICBpZiBoID09IG5pbCB0aGVuCiAgICBlcnJvcigiTGlicmFyeSAiIC4uIG5hbWUgLi4gIiBub3QgZm91bmQiKQogIGVuZAoKICBmaW5hbE5hbWUgPSBmaW5hbE5hbWUgb3IgbmFtZQogIHNlbGYubGlicmFyaWVzW25hbWVdID0gewogICAgY29udGVudCA9IGgucmVhZEFsbCgpLAogICAgbG9jYXRpb24gPSBmaW5hbERpcmVjdG9yeSAuLiBmaW5hbE5hbWUgLi4gZXh0ZW5zaW9uCiAgfQoKICBoLmNsb3NlKCkKCiAgc2VsZjpsb2FkRGVwZW5kZW5jaWVzKG5hbWUsIGRpcmVjdG9yeSwgZmluYWxEaXJlY3RvcnksIGV4dGVuc2lvbikKZW5kCgpmdW5jdGlvbiBGaWxlTG9hZGVyOmxvYWREZXBlbmRlbmNpZXMobmFtZSwgZGlyZWN0b3J5LCBmaW5hbERpcmVjdG9yeSwgZXh0ZW5zaW9uKQogIGlmIHNlbGYuZGVwZW5kZW5jaWVzW25hbWVdID09IG5pbCB0aGVuCiAgICByZXR1cm4KICBlbmQKCiAgZm9yIF8sIGxpYnJhcnkgaW4gcGFpcnMoc2VsZi5kZXBlbmRlbmNpZXNbbmFtZV0pIGRvCiAgICBzZWxmOmxvYWRGaWxlKGxpYnJhcnksIGRpcmVjdG9yeSwgZmluYWxEaXJlY3RvcnksIG5pbCwgZXh0ZW5zaW9uKQogIGVuZAplbmQKCnJldHVybiBGaWxlTG9hZGVyCg==
library/ProgressBar.lua
UHJvZ3Jlc3NCYXIgPSB7fQpQcm9ncmVzc0Jhci5fX2luZGV4ID0gUHJvZ3Jlc3NCYXIKCmZ1bmN0aW9uIFByb2dyZXNzQmFyOmNyZWF0ZSh0b3RhbCwgcG9pbnRlciwgc3RlcCwgdHlwZSwgbWF4KQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmoudG90YWwgPSB0b3RhbCBvciAwCiAgb2JqLnBvaW50ZXIgPSBwb2ludGVyIG9yIDAKICBvYmouc3RlcCA9IHN0ZXAgb3IgMQogIG9iai50eXBlID0gdHlwZSBvciAiZGVmYXVsdCIKICBvYmoubWF4ID0gbWF4IG9yIDEwCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFByb2dyZXNzQmFyOmFkdmFuY2Uoc3RlcCkKICBzdGVwID0gc3RlcCBvciBzZWxmLnN0ZXAKICBzZWxmLnBvaW50ZXIgPSBzZWxmLnBvaW50ZXIgKyBzdGVwCmVuZAoKZnVuY3Rpb24gUHJvZ3Jlc3NCYXI6YmxpdChtb25pdG9yLCBjb2xvcikKICBsb2NhbCBjdXJyZW50ID0gc2VsZi5wb2ludGVyIC8gc2VsZi50b3RhbCAqIDEwMAoKICBsb2NhbCBub3cgPSBtYXRoLmZsb29yKHNlbGYubWF4IC8gMTAwICogY3VycmVudCkKCiAgZm9yIGkgPSAwLCBzZWxmLm1heCwgMSBkbwogICAgaWYgc2VsZi50eXBlID09ICJmdWxsIiB0aGVuCiAgICAgIGlmIGkgPD0gbm93IHRoZW4KICAgICAgICBtb25pdG9yOmJsaXQoIi4iLCBjb2xvciwgY29sb3IpCiAgICAgIGVsc2UKICAgICAgICBtb25pdG9yOmJsaXQoIi4iLCAiZiIsICJmIikKICAgICAgZW5kCiAgICBlbHNlaWYgc2VsZi50eXBlID09ICJyZXZlcnNlZCIgdGhlbgogICAgICBpZiBpIDwgbm93IHRoZW4KICAgICAgICBtb25pdG9yOmJsaXQoIj0iLCBjb2xvcikKICAgICAgZWxzZWlmIGkgPT0gbm93IHRoZW4KICAgICAgICBtb25pdG9yOmJsaXQoIjwiLCBjb2xvcikKICAgICAgZWxzZQogICAgICAgIG1vbml0b3I6YmxpdCgiXyIsIGNvbG9yKQogICAgICBlbmQKICAgIGVsc2UKICAgICAgaWYgaSA8IG5vdyB0aGVuCiAgICAgICAgbW9uaXRvcjpibGl0KCI9IiwgY29sb3IpCiAgICAgIGVsc2VpZiBpID09IG5vdyB0aGVuCiAgICAgICAgbW9uaXRvcjpibGl0KCI+IiwgY29sb3IpCiAgICAgIGVsc2UKICAgICAgICBtb25pdG9yOmJsaXQoIi0iLCBjb2xvcikKICAgICAgZW5kCiAgICBlbmQKICBlbmQKCmVuZAoKcmV0dXJuIFByb2dyZXNzQmFyCg==
library/StorageGridControl.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9SZW5kZXJIZWxwZXIubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9DaGFydEl0ZW0ubHVhIikKClN0b3JhZ2VHcmlkQ29udHJvbCA9IHt9ClN0b3JhZ2VHcmlkQ29udHJvbC5fX2luZGV4ID0gU3RvcmFnZUdyaWRDb250cm9sCgpmdW5jdGlvbiBTdG9yYWdlR3JpZENvbnRyb2w6Y3JlYXRlKG5hbWUsIHN0b3JhZ2VzLCBtb25pdG9yLCBtb25pdG9yV2lkdGgsIG1vbml0b3JIZWlnaHQpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9yID0gbW9uaXRvcgogIG9iai5tb25pdG9ySGVpZ2h0ID0gbW9uaXRvckhlaWdodAogIG9iai5tb25pdG9yV2lkdGggPSBtb25pdG9yV2lkdGgKICBvYmouc3RvcmFnZXMgPSBzdG9yYWdlcwogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBTdG9yYWdlR3JpZENvbnRyb2w6cnVuKCkKICBsb2NhbCBsYXN0ID0gc2VsZjpnZXRGdWxsQW1vdW50KCkKCiAgd2hpbGUgdHJ1ZQogIGRvCiAgICBzZWxmLm1vbml0b3I6Y2xlYXIoKQoKICAgIHJlZG5ldC5icm9hZGNhc3Qoc2VsZjp0b1N0cmluZygpLCBzZWxmLm5hbWUgLi4gIi1zdGF0dXMiKQogICAgcmVkbmV0LmJyb2FkY2FzdChzZWxmLm5hbWUsICJwaW5nLXN0b3JhZ2UiKQoKICAgIC0tIEZJRUxEU0VUCiAgICBsb2NhbCBmaWVsZHNldCA9IE1vbml0b3JGaWVsZHNldDpjcmVhdGUoc2VsZi5tb25pdG9yKQoKICAgIGZpZWxkc2V0OndyaXRlKCJFVSBzdG9yYWdlOiAiIC4uIHNlbGYubmFtZSwgMiwgMiwgc2VsZi5tb25pdG9yV2lkdGggLSAyLCBzZWxmLm1vbml0b3JIZWlnaHQgLSAyKQoKICAgIGlmIDU3IDwgc2VsZi5tb25pdG9yV2lkdGggdGhlbgogICAgICBhID0gNwogICAgICBiID0gMTAKICAgIGVsc2VpZiAzMCA8IHNlbGYubW9uaXRvcldpZHRoIHRoZW4KICAgICAgYSA9IDUKICAgICAgYiA9IDEwCiAgICBlbmQKCiAgICBzZWxmLm1vbml0b3I6c2V0VGV4dFNjYWxlKC41KQoKICAgIGxvY2FsIGZ1bGxDYXBhY2l0eSA9IDAKICAgIGxvY2FsIGZ1bGxTdG9yZWQgPSAwCiAgICBsb2NhbCBjb3VudGVyID0gMAoKICAgIGxvY2FsIGxpbmUgPSAwCiAgICBsb2NhbCBhYm91dCA9IDAKICAgIGZvciBrZXksc3RvcmFnZSBpbiBwYWlycyhzZWxmLnN0b3JhZ2VzKSBkbwogICAgICBsb2NhbCBhYm91dExpbmUgPSAoNiAqIGxpbmUpCgogICAgICBpZiBrZXkgPiAxIGFuZCAoa2V5IC0gMSkgJSBhID09IDAgdGhlbgogICAgICAgIGFib3V0ID0gMAogICAgICBlbmQKCiAgICAgIGxvY2FsIGNhcGFjaXR5ID0gc3RvcmFnZTpnZXRFVUNhcGFjaXR5KCkKICAgICAgbG9jYWwgc3RvcmVkID0gc3RvcmFnZTpnZXRFVVN0b3JlZCgpCgogICAgICBzZWxmOnJlbmRlckNoYXJ0KGtleSwgc3RvcmVkLCBjYXBhY2l0eSwgNCArIGFib3V0LCAxMCArIGFib3V0TGluZSkKCiAgICAgIGZ1bGxDYXBhY2l0eSA9IGZ1bGxDYXBhY2l0eSArIGNhcGFjaXR5CiAgICAgIGZ1bGxTdG9yZWQgPSBmdWxsU3RvcmVkICsgc3RvcmVkCgogICAgICBjb3VudGVyID0gY291bnRlciArIDEKCiAgICAgIGlmIGtleSA+IDEgYW5kIGtleSAlIGEgPT0gMCB0aGVuCiAgICAgICAgbGluZSA9IGxpbmUgKyAxCiAgICAgIGVuZAoKICAgICAgYWJvdXQgPSBhYm91dCArIGIKICAgIGVuZAoKICAgIC0tc2VsZjp3cml0ZUluZm8oIkFsbCIsIGZ1bGxDYXBhY2l0eSwgZnVsbFN0b3JlZCwgIj0iKQogICAgc2VsZjpyZW5kZXJNYWluQ2hhcnQoZnVsbFN0b3JlZCwgZnVsbENhcGFjaXR5LCA0LCA0KQoKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiQ2FwYWNpdHk6ICIgLi4gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIoZnVsbENhcGFjaXR5KSAuLiAiIEVVIiwgIjAiLCAiZiIsIDI4LCA0KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlN0b3JlZDogICAiIC4uIGZ1bGxTdG9yZWQgLi4gIiBFVSIsICIwIiwgImYiLCAyOCwgNSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJQZXJjZW50OiAgIiAuLiBVdGlscy5yb3VuZChmdWxsU3RvcmVkIC8gZnVsbENhcGFjaXR5ICogMTAwKSAuLiAiJSIsICIwIiwgImYiLCAyOCwgNikKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiSW5jcmVhc2U6ICIsICIwIiwgImYiLCAyOCwgNykKICAgIHNlbGY6cmVuZGVySW5jcmVhc2UoZnVsbFN0b3JlZCwgbGFzdCwgMzgsIDcpCgogICAgc2VsZi5tb25pdG9yOnB1c2goKQoKICAgIGxhc3QgPSBmdWxsU3RvcmVkCgogICAgc2xlZXAoMSkKICBlbmQKZW5kCgpmdW5jdGlvbiBTdG9yYWdlR3JpZENvbnRyb2w6cmVuZGVySW5jcmVhc2UoYW1vdW50LCBsYXN0LCB4LCB5KQogIGlmIGxhc3QgPCBhbW91bnQgYW5kIChhbW91bnQgLSBsYXN0KSA+IDIgdGhlbgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIiArICIsICJmIiwgImQiLCB4LCB5KQogIGVsc2VpZiBhbW91bnQgPCBsYXN0IGFuZCAtMiA8IChsYXN0IC0gYW1vdW50KSB0aGVuCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiIC0gIiwgImYiLCAiZSIsIHgsIHkpCiAgZW5kCmVuZAoKZnVuY3Rpb24gU3RvcmFnZUdyaWRDb250cm9sOnRvU3RyaW5nKCkKICBsb2NhbCBvdXQgPSB7IGNhcGFjaXR5ID0gMCwgc3RvcmVkID0gMCB9CiAgZm9yIF8sc3RvcmFnZSBpbiBwYWlycyhzZWxmLnN0b3JhZ2VzKSBkbwogICAgb3V0WyJjYXBhY2l0eSJdID0gb3V0WyJjYXBhY2l0eSJdICsgc3RvcmFnZTpnZXRFVUNhcGFjaXR5KCkKICAgIG91dFsic3RvcmVkIl0gPSBvdXRbInN0b3JlZCJdICsgc3RvcmFnZTpnZXRFVVN0b3JlZCgpCiAgZW5kCiAgcmV0dXJuIHRleHR1dGlscy5zZXJpYWxpemUob3V0KQplbmQKCmZ1bmN0aW9uIFN0b3JhZ2VHcmlkQ29udHJvbDpnZXRGdWxsQW1vdW50KCkKICBsb2NhbCBhbW91bnQgPSAwCiAgZm9yIGtleSxzdG9yYWdlIGluIHBhaXJzKHNlbGYuc3RvcmFnZXMpIGRvCiAgICBhbW91bnQgPSBhbW91bnQgKyBzdG9yYWdlOmdldEVVU3RvcmVkKCkKICBlbmQKICByZXR1cm4gYW1vdW50CmVuZAoKZnVuY3Rpb24gU3RvcmFnZUdyaWRDb250cm9sOnJlbmRlck1haW5DaGFydChhbW91bnQsIGNhcGFjaXR5LCB4LCB5KQogIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAiaG9yaXpvbnRhbCIsIDIzLCAwLCBjYXBhY2l0eSkKICBjaGFydEl0ZW06c2V0U2l6ZSg1KQogIGNoYXJ0SXRlbTpzZXRDb2xvcihSZW5kZXJIZWxwZXIuZ2V0Q29sb3JCeVBlcmNlbnQoYW1vdW50IC8gY2FwYWNpdHkgKiAxMDApKQogIGNoYXJ0SXRlbTp3cml0ZShhbW91bnQsIHgsIHkpCmVuZAoKZnVuY3Rpb24gU3RvcmFnZUdyaWRDb250cm9sOnJlbmRlckNoYXJ0KGtleSwgYW1vdW50LCBjYXBhY2l0eSwgeCwgeSkKICBsb2NhbCBwZXJjZW50ID0gYW1vdW50IC8gY2FwYWNpdHkgKiAxMDAKCiAgbG9jYWwgY2hhcnRJdGVtID0gQ2hhcnRJdGVtOmNyZWF0ZShzZWxmLm1vbml0b3IsICJob3Jpem9udGFsIiwgOSwgMCwgY2FwYWNpdHkpCiAgY2hhcnRJdGVtOnNldFNpemUoMykKICBjaGFydEl0ZW06c2V0Q29sb3IoUmVuZGVySGVscGVyLmdldENvbG9yQnlQZXJjZW50KHBlcmNlbnQpKQogIGNoYXJ0SXRlbTp3cml0ZShhbW91bnQsIHgsIHkgKyAxKQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJbMV0iLCAiMCIsICJmIiwgeCwgeSkKCiAgcyA9IG1hdGguZmxvb3IocGVyY2VudCkgLi4gIiUiCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDUpIC4uIHMsICIwIiwgImYiLCB4ICsgNCwgeSkKZW5kCgpyZXR1cm4gU3RvcmFnZUdyaWRDb250cm9sCg==
library/Monitor.lua
TW9uaXRvciA9IHt9Ck1vbml0b3IuX19pbmRleCA9IE1vbml0b3IKCk1vbml0b3IuY29sb3JzID0ge30KTW9uaXRvci5jb2xvcnNbIjAiXSA9IGNvbG9ycy53aGl0ZQpNb25pdG9yLmNvbG9yc1siMSJdID0gY29sb3JzLm9yYW5nZQpNb25pdG9yLmNvbG9yc1siMiJdID0gY29sb3JzLm1hZ2VudGEKTW9uaXRvci5jb2xvcnNbIjMiXSA9IGNvbG9ycy5saWdodEJsdXQKTW9uaXRvci5jb2xvcnNbIjQiXSA9IGNvbG9ycy55ZWxsb3cKTW9uaXRvci5jb2xvcnNbIjUiXSA9IGNvbG9ycy5saW1lCk1vbml0b3IuY29sb3JzWyI2Il0gPSBjb2xvcnMucGluawpNb25pdG9yLmNvbG9yc1siNyJdID0gY29sb3JzLmdyYXkKTW9uaXRvci5jb2xvcnNbIjgiXSA9IGNvbG9ycy5saWdodEdyYXkKTW9uaXRvci5jb2xvcnNbIjkiXSA9IGNvbG9ycy5jeWFuCk1vbml0b3IuY29sb3JzWyJhIl0gPSBjb2xvcnMucHVycGxlCk1vbml0b3IuY29sb3JzWyJiIl0gPSBjb2xvcnMuYmx1ZQpNb25pdG9yLmNvbG9yc1siYyJdID0gY29sb3JzLmJyb3duCk1vbml0b3IuY29sb3JzWyJkIl0gPSBjb2xvcnMuZ3JlZW4KTW9uaXRvci5jb2xvcnNbImUiXSA9IGNvbG9ycy5yZWQKTW9uaXRvci5jb2xvcnNbImYiXSA9IGNvbG9ycy5ibGFjawoKZnVuY3Rpb24gTW9uaXRvcjpjcmVhdGUobW9uaXRvcikKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgb2JqLnRvcFBvc2l0aW9uID0gMQogIG9iai5iYWNrZ3JvdW5kQ29sb3IgPSAiZiIKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gTW9uaXRvcjpzZXRUZXh0U2NhbGUodmFsdWUpCiAgc2VsZi5tb25pdG9yLnNldFRleHRTY2FsZSh2YWx1ZSkKZW5kCgpmdW5jdGlvbiBNb25pdG9yOnNldEJhY2tncm91bmRDb2xvcihjb2xvcikKICBzZWxmLm1vbml0b3Iuc2V0QmFja2dyb3VuZENvbG9yKE1vbml0b3IudG9IZXgoY29sb3IpKQogIHNlbGYuYmFja2dyb3VuZENvbG9yID0gY29sb3IKZW5kCgpmdW5jdGlvbiBNb25pdG9yOndyaXRlKG1lc3NhZ2UsIGNvbG9yLCBiYWNrZ3JvdW5kKQogIGxvY2FsIGxlbmd0aCA9IHN0cmluZy5sZW4obWVzc2FnZSkKICBjb2xvciA9IGNvbG9yIG9yICIwIgogIGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kIG9yIHNlbGYuYmFja2dyb3VuZENvbG9yCiAgc2VsZi5tb25pdG9yLmJsaXQobWVzc2FnZSwgc3RyaW5nLnJlcChjb2xvciwgbGVuZ3RoKSwgc3RyaW5nLnJlcChiYWNrZ3JvdW5kLCBsZW5ndGgpKQplbmQKCmZ1bmN0aW9uIE1vbml0b3IudG9IZXgoc3RyKQogIHJldHVybiBNb25pdG9yLmNvbG9yc1tzdHJdCmVuZAoKZnVuY3Rpb24gTW9uaXRvcjpibGl0KG1lc3NhZ2UsIGNvbG9yLCBiYWNrZ3JvdW5kKQogIHNlbGY6d3JpdGUobWVzc2FnZSwgY29sb3IsIGJhY2tncm91bmQpCmVuZAoKZnVuY3Rpb24gTW9uaXRvcjp3cml0ZWxuKG1lc3NhZ2UsIGNvbG9yLCBiYWNrZ3JvdW5kKQogIHNlbGY6d3JpdGUobWVzc2FnZSwgY29sb3IsIGJhY2tncm91bmQpCiAgc2VsZi50b3BQb3NpdGlvbiA9IHNlbGYudG9wUG9zaXRpb24gKyAxCiAgc2VsZi5tb25pdG9yLnNldEN1cnNvclBvcygxLCBzZWxmLnRvcFBvc2l0aW9uKQplbmQKCmZ1bmN0aW9uIE1vbml0b3I6d3JpdGVQb3NpdGlvbihtZXNzYWdlLCBjb2xvciwgYmFja2dyb3VuZCwgeCwgeSkKICB4ID0geCBvciAxCiAgeSA9IHkgb3IgMQogIHNlbGYubW9uaXRvci5zZXRDdXJzb3JQb3MoeCwgeSkKICBzZWxmOndyaXRlKG1lc3NhZ2UsIGNvbG9yLCBiYWNrZ3JvdW5kKQplbmQKCmZ1bmN0aW9uIE1vbml0b3I6Y2xlYXIoKQogIHNlbGYudG9wUG9zaXRpb24gPSAxCiAgc2VsZi5tb25pdG9yLnNldEN1cnNvclBvcygxLCAxKQogIHNlbGYubW9uaXRvci5jbGVhcigpCmVuZAoKZnVuY3Rpb24gTW9uaXRvcjppbnNlcnQobWV0aG9kLCBwYXJhbWV0ZXJzKQogIGlmIHBhcmFtZXRlcnMgPT0gbmlsIHRoZW4KICAgIHNlbGZbbWV0aG9kXShzZWxmKQogICAgcmV0dXJuCiAgZW5kCgogIHNlbGZbbWV0aG9kXSgKICAgIHNlbGYsCiAgICBwYXJhbWV0ZXJzWyJtZXNzYWdlIl0sCiAgICBwYXJhbWV0ZXJzWyJjb2xvciJdLAogICAgcGFyYW1ldGVyc1siYmFja2dyb3VuZCJdLAogICAgcGFyYW1ldGVyc1sieCJdLAogICAgcGFyYW1ldGVyc1sieSJdCiAgKQplbmQKCmZ1bmN0aW9uIE1vbml0b3I6YmF0Y2goYmF0Y2gpCiAgZm9yIGtleSx2YWx1ZSBpbiBwYWlycyhiYXRjaCkgZG8KICAgIGlmIHZhbHVlWyJtZXRob2QiXSB+PSBuaWwgdGhlbgogICAgICBzZWxmOmluc2VydCh2YWx1ZVsibWV0aG9kIl0sIHZhbHVlWyJwYXJhbWV0ZXJzIl0pCiAgICBlbmQKICBlbmQKZW5kCgpmdW5jdGlvbiBNb25pdG9yOnB1c2goKQogIC0tZG8gbm90aGluZyAob25seSBmb3IgUmVtb3RlTW9uaXRvcikKZW5kCgpmdW5jdGlvbiBNb25pdG9yOmlzTG9jYWwoKQogIHJldHVybiB0cnVlCmVuZAoKcmV0dXJuIE1vbml0b3IK
library/FluidTankControl.lua
ZG9maWxlKCJsaWJyYXJ5L0ZsdWlkLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvQ2hhcnRJdGVtLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0Lmx1YSIpCmRvZmlsZSgibGlicmFyeS9VdGlscy5sdWEiKQoKRmx1aWRUYW5rQ29udHJvbCA9IHt9CkZsdWlkVGFua0NvbnRyb2wuX19pbmRleCA9IEZsdWlkVGFua0NvbnRyb2wKCmZ1bmN0aW9uIEZsdWlkVGFua0NvbnRyb2w6Y3JlYXRlKG5hbWUsIGZsdWlkVGFuaywgbW9uaXRvcikKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgb2JqLnRhbmsgPSBmbHVpZFRhbmsKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gRmx1aWRUYW5rQ29udHJvbDpydW4oKQogIGxvY2FsIGxhc3QgPSBzZWxmLnRhbms6Z2V0QW1vdW50KCkKCiAgd2hpbGUgdHJ1ZQogIGRvCiAgICBzZWxmLm1vbml0b3I6Y2xlYXIoKQoKICAgIHNlbGYubW9uaXRvcjpzZXRUZXh0U2NhbGUoLjUpCgogICAgbG9jYWwgZmllbGRzZXQgPSBNb25pdG9yRmllbGRzZXQ6Y3JlYXRlKHNlbGYubW9uaXRvcikKCiAgICBmaWVsZHNldDp3cml0ZSgiRmx1aWQgdGFuazogIiAuLiBzZWxmLm5hbWUsIDIsIDIsIDI3LCA3KQoKICAgIGxvY2FsIGNhcGFjaXR5ID0gc2VsZi50YW5rOmdldENhcGFjaXR5KCkKICAgIGxvY2FsIGFtb3VudCA9IHNlbGYudGFuazpnZXRBbW91bnQoKQogICAgbG9jYWwgZmx1aWQgPSBzZWxmLnRhbms6Z2V0Rmx1aWQoKQoKICAgIC0tIEZMVUlECiAgICBzZWxmOnJlbmRlckxpbmUoIkZsdWlkOiIsIDQsIDQpCiAgICBzZWxmOnJlbmRlckxpbmUoZmx1aWQgYW5kIGZsdWlkWyJuYW1lIl0gb3IgIlVOS05PV04iLCAxNCwgNCkKCiAgICAtLSBBTU9VTlQKICAgIHNlbGY6cmVuZGVyTGluZSgiQW1vdW50OiIsIDQsIDUpCiAgICBzZWxmOnJlbmRlckxpbmUoVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIoYW1vdW50KSAuLiAiIG1iIiwgMTQsIDUpCgogICAgLS0gQ0FQQUNJVFkKICAgIHNlbGY6cmVuZGVyTGluZSgiQ2FwYWNpdHk6IiwgNCwgNikKICAgIHNlbGY6cmVuZGVyTGluZShVdGlscy5nZXRSZWFkYWJsZU51bWJlcihjYXBhY2l0eSkgLi4gIiBtYiIsIDE0LCA2KQoKICAgIC0tIElOQ1JFQVNFCiAgICBzZWxmOnJlbmRlckluY3JlYXNlKGFtb3VudCwgbGFzdCwgNykKCiAgICBzZWxmOnJlbmRlckNoYXJ0KGFtb3VudCwgY2FwYWNpdHksIGZsdWlkKQoKICAgIHNlbGYubW9uaXRvcjpwdXNoKCkKCiAgICBsYXN0ID0gYW1vdW50CgogICAgc2xlZXAoMSkKICBlbmQKZW5kCgpmdW5jdGlvbiBGbHVpZFRhbmtDb250cm9sOnJlbmRlckluY3JlYXNlKGFtb3VudCwgbGFzdCwgeSkKICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiSW5jcmVhc2U6ICIsICIwIiwgImYiLCA0LCB5KQogIGlmIGxhc3QgPCBhbW91bnQgdGhlbgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIisiIC4uIChhbW91bnQgLSBsYXN0KSAuLiAiIG1iL3MiLCAiZCIsICJmIiwgMTQsIHkpCiAgZWxzZWlmIGFtb3VudCA8IGxhc3QgdGhlbgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIi0iIC4uIChsYXN0IC0gYW1vdW50KSAuLiAiIG1iL3MiLCAiZSIsICJmIiwgMTQsIHkpCiAgZWxzZQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIjAgIiAuLiAiIG1iL3MiLCAiMCIsICJmIiwgMTQsIHkpCiAgZW5kCmVuZAoKZnVuY3Rpb24gRmx1aWRUYW5rQ29udHJvbDpyZW5kZXJMaW5lKHZhbHVlLCB4LCB5KQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHZhbHVlLCAiMCIsICJmIiwgeCwgeSkKZW5kCgpmdW5jdGlvbiBGbHVpZFRhbmtDb250cm9sOnJlbmRlckNoYXJ0KGFtb3VudCwgY2FwYWNpdHksIGZsdWlkKQogIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAidmVydGljYWwiLCA4LCAwLCBjYXBhY2l0eSkKICBjaGFydEl0ZW06c2V0U2l6ZSg4KQogIGNoYXJ0SXRlbTpzZXRTaG93UGVyY2VudCgpCiAgY2hhcnRJdGVtOnNldENvbG9yKGZsdWlkIGFuZCBmbHVpZFsiY29sb3IiXSBvciAiMCIpCiAgY2hhcnRJdGVtOndyaXRlKGFtb3VudCwgMjgsIDEpCmVuZAoKcmV0dXJuIEZsdWlkVGFua0NvbnRyb2wK
library/JsonDecoder.lua
bG9jYWwgY29udHJvbHMgPSB7WyJcbiJdPSJcXG4iLCBbIlxyIl09IlxcciIsIFsiXHQiXT0iXFx0IiwgWyJcYiJdPSJcXGIiLCBbIlxmIl09IlxcZiIsIFsiXCIiXT0iXFxcIiIsIFsiXFwiXT0iXFxcXCJ9Cgpsb2NhbCB3aGl0ZXMgPSB7WydcbiddPXRydWU7IFsnXHInXT10cnVlOyBbJ1x0J109dHJ1ZTsgWycgJ109dHJ1ZTsgWycsJ109dHJ1ZTsgWyc6J109dHJ1ZX0KZnVuY3Rpb24gcmVtb3ZlV2hpdGUoc3RyKQoJd2hpbGUgd2hpdGVzW3N0cjpzdWIoMSwgMSldIGRvCgkJc3RyID0gc3RyOnN1YigyKQoJZW5kCglyZXR1cm4gc3RyCmVuZAoKbG9jYWwgZGVjb2RlQ29udHJvbHMgPSB7fQpmb3Igayx2IGluIHBhaXJzKGNvbnRyb2xzKSBkbwoJZGVjb2RlQ29udHJvbHNbdl0gPSBrCmVuZAoKZnVuY3Rpb24gcGFyc2VCb29sZWFuKHN0cikKCWlmIHN0cjpzdWIoMSwgNCkgPT0gInRydWUiIHRoZW4KCQlyZXR1cm4gdHJ1ZSwgcmVtb3ZlV2hpdGUoc3RyOnN1Yig1KSkKCWVsc2UKCQlyZXR1cm4gZmFsc2UsIHJlbW92ZVdoaXRlKHN0cjpzdWIoNikpCgllbmQKZW5kCgpmdW5jdGlvbiBwYXJzZU51bGwoc3RyKQoJcmV0dXJuIG5pbCwgcmVtb3ZlV2hpdGUoc3RyOnN1Yig1KSkKZW5kCgpsb2NhbCBudW1DaGFycyA9IHtbJ2UnXT10cnVlOyBbJ0UnXT10cnVlOyBbJysnXT10cnVlOyBbJy0nXT10cnVlOyBbJy4nXT10cnVlfQpmdW5jdGlvbiBwYXJzZU51bWJlcihzdHIpCglsb2NhbCBpID0gMQoJd2hpbGUgbnVtQ2hhcnNbc3RyOnN1YihpLCBpKV0gb3IgdG9udW1iZXIoc3RyOnN1YihpLCBpKSkgZG8KCQlpID0gaSArIDEKCWVuZAoJbG9jYWwgdmFsID0gdG9udW1iZXIoc3RyOnN1YigxLCBpIC0gMSkpCglzdHIgPSByZW1vdmVXaGl0ZShzdHI6c3ViKGkpKQoJcmV0dXJuIHZhbCwgc3RyCmVuZAoKZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKQoJc3RyID0gc3RyOnN1YigyKQoJbG9jYWwgcyA9ICIiCgl3aGlsZSBzdHI6c3ViKDEsMSkgfj0gIlwiIiBkbwoJCWxvY2FsIG5leHQgPSBzdHI6c3ViKDEsMSkKCQlzdHIgPSBzdHI6c3ViKDIpCgkJYXNzZXJ0KG5leHQgfj0gIlxuIiwgIlVuY2xvc2VkIHN0cmluZyIpCgoJCWlmIG5leHQgPT0gIlxcIiB0aGVuCgkJCWxvY2FsIGVzY2FwZSA9IHN0cjpzdWIoMSwxKQoJCQlzdHIgPSBzdHI6c3ViKDIpCgoJCQluZXh0ID0gYXNzZXJ0KGRlY29kZUNvbnRyb2xzW25leHQuLmVzY2FwZV0sICJJbnZhbGlkIGVzY2FwZSBjaGFyYWN0ZXIiKQoJCWVuZAoKCQlzID0gcyAuLiBuZXh0CgllbmQKCXJldHVybiBzLCByZW1vdmVXaGl0ZShzdHI6c3ViKDIpKQplbmQKCmZ1bmN0aW9uIHBhcnNlQXJyYXkoc3RyKQoJc3RyID0gcmVtb3ZlV2hpdGUoc3RyOnN1YigyKSkKCglsb2NhbCB2YWwgPSB7fQoJbG9jYWwgaSA9IDEKCXdoaWxlIHN0cjpzdWIoMSwgMSkgfj0gIl0iIGRvCgkJbG9jYWwgdiA9IG5pbAoJCXYsIHN0ciA9IHBhcnNlVmFsdWUoc3RyKQoJCXZhbFtpXSA9IHYKCQlpID0gaSArIDEKCQlzdHIgPSByZW1vdmVXaGl0ZShzdHIpCgllbmQKCXN0ciA9IHJlbW92ZVdoaXRlKHN0cjpzdWIoMikpCglyZXR1cm4gdmFsLCBzdHIKZW5kCgpmdW5jdGlvbiBwYXJzZU9iamVjdChzdHIpCglzdHIgPSByZW1vdmVXaGl0ZShzdHI6c3ViKDIpKQoKCWxvY2FsIHZhbCA9IHt9Cgl3aGlsZSBzdHI6c3ViKDEsIDEpIH49ICJ9IiBkbwoJCWxvY2FsIGssIHYgPSBuaWwsIG5pbAoJCWssIHYsIHN0ciA9IHBhcnNlTWVtYmVyKHN0cikKCQl2YWxba10gPSB2CgkJc3RyID0gcmVtb3ZlV2hpdGUoc3RyKQoJZW5kCglzdHIgPSByZW1vdmVXaGl0ZShzdHI6c3ViKDIpKQoJcmV0dXJuIHZhbCwgc3RyCmVuZAoKZnVuY3Rpb24gcGFyc2VNZW1iZXIoc3RyKQoJbG9jYWwgayA9IG5pbAoJaywgc3RyID0gcGFyc2VWYWx1ZShzdHIpCglsb2NhbCB2YWwgPSBuaWwKCXZhbCwgc3RyID0gcGFyc2VWYWx1ZShzdHIpCglyZXR1cm4gaywgdmFsLCBzdHIKZW5kCgpmdW5jdGlvbiBwYXJzZVZhbHVlKHN0cikKCWxvY2FsIGZjaGFyID0gc3RyOnN1YigxLCAxKQoJaWYgZmNoYXIgPT0gInsiIHRoZW4KCQlyZXR1cm4gcGFyc2VPYmplY3Qoc3RyKQoJZWxzZWlmIGZjaGFyID09ICJbIiB0aGVuCgkJcmV0dXJuIHBhcnNlQXJyYXkoc3RyKQoJZWxzZWlmIHRvbnVtYmVyKGZjaGFyKSB+PSBuaWwgb3IgbnVtQ2hhcnNbZmNoYXJdIHRoZW4KCQlyZXR1cm4gcGFyc2VOdW1iZXIoc3RyKQoJZWxzZWlmIHN0cjpzdWIoMSwgNCkgPT0gInRydWUiIG9yIHN0cjpzdWIoMSwgNSkgPT0gImZhbHNlIiB0aGVuCgkJcmV0dXJuIHBhcnNlQm9vbGVhbihzdHIpCgllbHNlaWYgZmNoYXIgPT0gIlwiIiB0aGVuCgkJcmV0dXJuIHBhcnNlU3RyaW5nKHN0cikKCWVsc2VpZiBzdHI6c3ViKDEsIDQpID09ICJudWxsIiB0aGVuCgkJcmV0dXJuIHBhcnNlTnVsbChzdHIpCgllbmQKCXJldHVybiBuaWwKZW5kCgpmdW5jdGlvbiBkZWNvZGUoc3RyKQoJc3RyID0gcmVtb3ZlV2hpdGUoc3RyKQoJdCA9IHBhcnNlVmFsdWUoc3RyKQoJcmV0dXJuIHQKZW5kCgpmdW5jdGlvbiBkZWNvZGVGcm9tRmlsZShwYXRoKQoJbG9jYWwgZmlsZSA9IGFzc2VydChmcy5vcGVuKHBhdGgsICJyIikpCglsb2NhbCBkZWNvZGVkID0gZGVjb2RlKGZpbGUucmVhZEFsbCgpKQoJZmlsZS5jbG9zZSgpCglyZXR1cm4gZGVjb2RlZAplbmQK
library/MonitorControl.lua
ZG9maWxlKCJsaWJyYXJ5L2xpc3RlbmVycy9Nb25pdG9yVG91Y2hMaXN0ZW5lci5sdWEiKQoKbG9jYWwgZW52ID0gc2V0bWV0YXRhYmxlKHtzaGVsbCA9IHNoZWxsLCBtdWx0aXNoZWxsID0gbXVsdGlzaGVsbH0sIHtfX2luZGV4ID0gX0d9KQoKTW9uaXRvckNvbnRyb2wgPSB7fQpNb25pdG9yQ29udHJvbC5fX2luZGV4ID0gTW9uaXRvckNvbnRyb2wKCmZ1bmN0aW9uIE1vbml0b3JDb250cm9sOmNyZWF0ZShuYW1lLCByZWRuZXRDbGllbnQsIG1vbml0b3JzLCBlbnYpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9ycyA9IG1vbml0b3JzCiAgb2JqLnJlZG5ldENsaWVudCA9IHJlZG5ldENsaWVudAogIG9iai5lbnYgPSBlbnYKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gTW9uaXRvckNvbnRyb2w6cnVuKCkKICBsb2NhbCBsaXN0ZW5lciA9IE1vbml0b3JUb3VjaExpc3RlbmVyOmNyZWF0ZShzZWxmLm5hbWUsIHNlbGY6Z2V0TW9uaXRvcnNEYXRhKCksIHNlbGYucmVkbmV0Q2xpZW50OmdldFNpZGUoKSkKCiAgbG9jYWwgbmV3VGFiSUQgPSBzZWxmLmVudi5tdWx0aXNoZWxsLmxhdW5jaChzZWxmLmVudiwgInJ1bi1ldmVudC1saXN0ZW5lci5sdWEiLCBsaXN0ZW5lcjp0b1N0cmluZygpKQogIHNlbGYuZW52Lm11bHRpc2hlbGwuc2V0VGl0bGUobmV3VGFiSUQsICJUb3VjaEV2ZW50cyIpCgogIHdoaWxlIHRydWUKICBkbwogICAgaWQsbWVzc2FnZSxjID0gc2VsZi5yZWRuZXRDbGllbnQ6cmVjZWl2ZShzZWxmLm5hbWUsICJtb25pdG9yIikKCiAgICBpZiBtZXNzYWdlIH49IG5pbCB0aGVuCiAgICAgIGxvY2FsIGRhdGEgPSB0ZXh0dXRpbHMudW5zZXJpYWxpemUobWVzc2FnZSkKICAgICAgbG9jYWwgbW9uaXRvciA9IHNlbGY6Z2V0TW9uaXRvcihkYXRhWyJkZXZpY2UiXSkKCiAgICAgIGlmIGRhdGFbImRldmljZSJdID09ICJnZzEiIHRoZW4KICAgICAgICBwcmludChtb25pdG9yOmJhdGNoKGRhdGFbImRhdGEiXSkpCiAgICAgIGVuZAoKICAgICAgaWYgbW9uaXRvciB+PSBuaWwgdGhlbgogICAgICAgIG1vbml0b3I6YmF0Y2goZGF0YVsiZGF0YSJdKQogICAgICBlbmQKICAgIGVuZAoKICBlbmQKZW5kCgpmdW5jdGlvbiBNb25pdG9yQ29udHJvbDpnZXRNb25pdG9yKGRldmljZSkKICBpZiBzZWxmLm1vbml0b3JzW2RldmljZV0gPT0gbmlsIHRoZW4KICAgIHJldHVybiBuaWwKICBlbmQKICByZXR1cm4gc2VsZi5tb25pdG9yc1tkZXZpY2VdWyJtb25pdG9yIl0KZW5kCgpmdW5jdGlvbiBNb25pdG9yQ29udHJvbDpnZXRNb25pdG9yc0RhdGEoKQogIGxvY2FsIG91dCA9IHt9CiAgZm9yIGtleSx2YWx1ZSBpbiBwYWlycyhzZWxmLm1vbml0b3JzKSBkbwogICAgb3V0W3ZhbHVlWyJuYW1lIl1dID0ga2V5CiAgZW5kCiAgcmV0dXJuIG91dAplbmQKCnJldHVybiBNb25pdG9yQ29udHJvbAo=
library/TurbineControl.lua
ZG9maWxlKCJsaWJyYXJ5L0ZsdWlkLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvQ2hhcnRJdGVtLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0Lmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckJ1dHRvbi5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvVXRpbHMubHVhIikKClR1cmJpbmVDb250cm9sID0ge30KVHVyYmluZUNvbnRyb2wuX19pbmRleCA9IFR1cmJpbmVDb250cm9sCgpmdW5jdGlvbiBUdXJiaW5lQ29udHJvbDpjcmVhdGUoCiAgbmFtZSwKICBtb25pdG9yLAogIGdlbmVyYXRvcjEsCiAgZ2VuZXJhdG9yMiwKICBoZWF0RXhjaGFuZ2VyLAogIHN0ZWFtR2VuZXJhdG9yLAogIHJlZG5ldENsaWVudAopCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9yID0gbW9uaXRvcgogIG9iai5nZW5lcmF0b3IxID0gZ2VuZXJhdG9yMQogIG9iai5nZW5lcmF0b3IyID0gZ2VuZXJhdG9yMgogIG9iai5oZWF0RXhjaGFuZ2VyID0gaGVhdEV4Y2hhbmdlcgogIG9iai5zdGVhbUdlbmVyYXRvciA9IHN0ZWFtR2VuZXJhdG9yCiAgb2JqLnJlZG5ldENsaWVudCA9IHJlZG5ldENsaWVudAogIG9iai5tYXhPdXRwdXQgPSAxNTAKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gVHVyYmluZUNvbnRyb2w6cnVuKCkKICBsb2NhbCBjb3VudGVyID0gMAogIGxvY2FsIGxhc3RXYXRlckFtb3VudCA9IDAKICBsb2NhbCBsYXN0SG90QW1vdW50ID0gMAogIGxvY2FsIGRhdGEgPSB7fQoKICB3aGlsZSB0cnVlCiAgZG8KICAgIHNlbGYubW9uaXRvcjpjbGVhcigpCgogICAgc2VsZi5tb25pdG9yOnNldFRleHRTY2FsZSguNSkKCiAgICBsb2NhbCBzZyA9IHNlbGYuc3RlYW1HZW5lcmF0b3IKICAgIGxvY2FsIHdhdGVyQW1vdW50ID0gc2c6Z2V0QW1vdW50KCkKICAgIGxvY2FsIHdhdGVyQ2FwYWNpdHkgPSBzZzpnZXRDYXBhY2l0eSgxLCAxMDAwMCkKCiAgICBsb2NhbCBoZSA9IHNlbGYuaGVhdEV4Y2hhbmdlcgogICAgbG9jYWwgaG90QW1vdW50ID0gaGU6Z2V0QW1vdW50KDEpCgogICAgbG9jYWwgYWN0aXZlID0gc2VsZjppc0FjdGl2ZShkYXRhKSBvciBsYXN0V2F0ZXJBbW91bnQgfj0gd2F0ZXJBbW91bnQgb3IgbGFzdEhvdEFtb3VudCB+PSBob3RBbW91bnQKCiAgICBsb2NhbCBmaWVsZHNldCA9IE1vbml0b3JGaWVsZHNldDpjcmVhdGUoc2VsZi5tb25pdG9yKQoKICAgIGZpZWxkc2V0OndyaXRlKCJUdXJiaW5lOiAiIC4uIHNlbGYubmFtZSwgMiwgMiwgMzQsIDgpCgogICAgZmllbGRzZXQ6d3JpdGUoIkZsdWlkIGluZm8iLCAyLCAxMiwgMzQsIDExKQoKICAgIHNlbGY6cmVuZGVyQ2hhcnQoaGU6Z2V0QW1vdW50KDEpLCBoZTpnZXRDYXBhY2l0eSgxLCAxMDAwMCksIGhlOmdldEZsdWlkKDEsICJpYzI6aWMyaG90X2Nvb2xhbnQiKSwgMTMsIDEzLCAxMCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJbSG90XSIsICIwIiwgImYiLCAxNSwgMjEpCgogICAgc2VsZjpyZW5kZXJDaGFydChoZTpnZXRBbW91bnQoMiksIGhlOmdldENhcGFjaXR5KDIsIDEwMDAwKSwgaGU6Z2V0Rmx1aWQoMiwgImljMjppYzJjb29sYW50IiksIDI0LCAxMywgMTApCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiW0NvbGRdIiwgIjAiLCAiZiIsIDI2LCAyMSkKCiAgICBzZWxmOnJlbmRlckNoYXJ0KHdhdGVyQW1vdW50LCB3YXRlckNhcGFjaXR5LCBzZzpnZXRGbHVpZCgxLCAiaWMyOmljMmRpc3RpbGxlZF93YXRlciIpLCA0LCAxMywgOCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJbV2F0ZXJdIiwgIjAiLCAiZiIsIDUsIDIxKQoKICAgIGxvY2FsIGJ1dHRvbiA9IE1vbml0b3JCdXR0b246Y3JlYXRlKHNlbGYubW9uaXRvciwgNSkKICAgIGJ1dHRvbjpzZXRDb2xvcigiMCIsIGFjdGl2ZSBhbmQgImQiIG9yICJlIikKICAgIGJ1dHRvbjp3cml0ZShhY3RpdmUgYW5kICJPTiIgb3IgIk9GRiIsIDI2LCAzLCA4KQoKICAgIGdlbjFFbmVyZ3kgPSBhY3RpdmUgYW5kICI1MCIgb3IgIjAiCiAgICBnZW4yRW5lcmd5ID0gYWN0aXZlIGFuZCAiMjUiIG9yICIwIgoKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJGdWVsOiIsICIwIiwgImYiLCA0LCA0KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oMCA8IGhvdEFtb3VudCBhbmQgIlsgT0sgXSIgb3IgIlsgREVQTEVURUQgXSIsIDAgPCBob3RBbW91bnQgYW5kICJkIiBvciAiZSIsICJmIiwgMTEsIDQpCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIldhdGVyOiIsICIwIiwgImYiLCA0LCA1KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24od2F0ZXJBbW91bnQgLi4gIiAvICIgLi4gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIod2F0ZXJDYXBhY2l0eSkgLi4gIiBtYiIsICIwIiwgImYiLCAxMSwgNSkKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiQXZnOiIsICIwIiwgImYiLCA0LCA2KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oYWN0aXZlIGFuZCAiNzUgRVUvdCIgb3IgIjAgRVUvdCIsICIwIiwgImYiLCAxMSwgNikKCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiWzFdICIgLi4gZ2VuMUVuZXJneSAuLiAiIEVVL3QiLCAiMCIsICJmIiwgMTEsIDcpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiWzJdICIgLi4gZ2VuMkVuZXJneSAuLiAiIEVVL3QiLCAiMCIsICJmIiwgMTEsIDgpCgogICAgaWYgY291bnRlciA+IDEwIHRoZW4KICAgICAgaGVhZCA9IHRhYmxlLnJlbW92ZShkYXRhLCAxKQogICAgZWxzZQogICAgICBjb3VudGVyID0gY291bnRlciArIDEKICAgIGVuZAoKICAgIHRhYmxlLmluc2VydChkYXRhLCB7c2VsZi5nZW5lcmF0b3IxOmdldE9mZmVyZWRFbmVyZ3koKSwgc2VsZi5nZW5lcmF0b3IyOmdldE9mZmVyZWRFbmVyZ3koKX0pCgogICAgc2VsZi5tb25pdG9yOnB1c2goKQoKICAgIGxhc3RIb3RBbW91bnQgPSBob3RBbW91bnQKICAgIGxhc3RXYXRlckFtb3VudCA9IHdhdGVyQW1vdW50CgogICAgc2xlZXAobWF0aC5yYW5kb20oLjYsIC4yKSkKICAgIC0tc2xlZXAobWF0aC5yYW5kb20oLjYpKQogIGVuZAplbmQKCmZ1bmN0aW9uIFR1cmJpbmVDb250cm9sOnJlbmRlckNoYXJ0KGFtb3VudCwgY2FwYWNpdHksIGZsdWlkLCB4LCB5LCBzaXplKQogIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAidmVydGljYWwiLCA2LCAwLCBjYXBhY2l0eSkKICBjaGFydEl0ZW06c2V0U2l6ZShzaXplKQogIGNoYXJ0SXRlbTpzZXRTaG93UGVyY2VudCgpCiAgY2hhcnRJdGVtOnNldENvbG9yKGZsdWlkWyJjb2xvciJdIG9yICIwIikKICBjaGFydEl0ZW06d3JpdGUoYW1vdW50LCB4LCB5KQplbmQKCmZ1bmN0aW9uIFR1cmJpbmVDb250cm9sOmlzQWN0aXZlKGRhdGEpCiAgZm9yIGtleSx2YWx1ZSBpbiBwYWlycyhkYXRhKSBkbwogICAgZ2VuMSA9IHZhbHVlWzFdCiAgICBnZW4yID0gdmFsdWVbMl0KICAgIGlmIGdlbjEgPiAwIG9yIGdlbjIgPiAwIHRoZW4KICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAogIGVuZAogIHJldHVybiBmYWxzZQplbmQKCnJldHVybiBUdXJiaW5lQ29udHJvbAo=
library/Manager.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpNYW5hZ2VyID0ge30KTWFuYWdlci5fX2luZGV4ID0gTWFuYWdlcgoKZnVuY3Rpb24gTWFuYWdlcjpjcmVhdGUocGx1Z2lucywgYXJncykKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLnBsdWdpbnMgPSBwbHVnaW5zCiAgb2JqLm1vZGUgPSB0YWJsZS5yZW1vdmUoYXJncywgMSkKICBpZiBvYmoubW9kZSA9PSBuaWwgdGhlbgogICAgTWFuYWdlci5zaG93VXNhZ2UoKQogICAgZXJyb3IoIkZpcnN0IGFyZ3VtZW50IGBtb2RlYCBpcyByZXF1aXJlZCIpCiAgZW5kCgogIG9iai5jb21tYW5kID0gdGFibGUucmVtb3ZlKGFyZ3MsIDEpCiAgaWYgb2JqLm1vZGUgfj0gImhlbHAiIGFuZCBvYmouY29tbWFuZCA9PSBuaWwgdGhlbgogICAgTWFuYWdlci5zaG93VXNhZ2UoKQogICAgZXJyb3IoIlNlY29uZCBhcmd1bWVudCBgY29tbWFuZGAgaXMgcmVxdWlyZWQiKQogIGVuZAogIG9iai5hcmdzID0gYXJncwogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBNYW5hZ2VyOnJ1bigpCiAgbG9jYWwgY29udGludWUgPSB0cnVlCgogIHdoaWxlIGNvbnRpbnVlCiAgZG8KICAgIGlmIHNlbGYubW9kZSA9PSAiaGVscCIgdGhlbgogICAgICBzZWxmOnNob3dIZWxwKCkKICAgICAgYnJlYWsKICAgIGVuZAoKICAgIGNvbnRpbnVlID0gbm90IHNlbGYucGx1Z2luc1tzZWxmLm1vZGVdOnJ1bihzZWxmLmNvbW1hbmQsIHNlbGYuYXJncykKICAgIHNsZWVwKDEpCiAgZW5kCmVuZAoKZnVuY3Rpb24gTWFuYWdlcjpzaG93SGVscCgpCiAgaWYgc2VsZi5jb21tYW5kID09IG5pbCB0aGVuCiAgICBNYW5hZ2VyLnNob3dVc2FnZSgpCiAgICBwcmludCgiIikKICAgIHNlbGY6c2hvd0F2YWlsYWJsZU1vZGVzKCkKICBlbHNlCiAgICBzZWxmOnNob3dNb2RlSGVscCgpCiAgZW5kCmVuZAoKZnVuY3Rpb24gTWFuYWdlcjpzaG93QXZhaWxhYmxlTW9kZXMoKQogIHByaW50KCJBbGxvd2VkIG1vZGVzOiIpCgogIGZvciBuYW1lLHBsdWdpbiBpbiBwYWlycyhzZWxmLnBsdWdpbnMpIGRvCiAgICBwcmludCgiIC0gIiAuLiBuYW1lKQogIGVuZAplbmQKCmZ1bmN0aW9uIE1hbmFnZXI6c2hvd01vZGVIZWxwKCkKICBVdGlscy5wcmludENvbG9yZWRTdHJpbmcoIkhlbHAgZm9yICIgLi4gc2VsZi5jb21tYW5kIC4uIjoiLCBjb2xvcnMuYmx1ZSkKICBwcmludCgiIikKICBwcmludCgiVXNhZ2U6IikKICBwcmludCgiIG1hbmFnZXIgIiAuLiBzZWxmLmNvbW1hbmQgLi4gIiA8Y29tbWFuZD4iKQogIHByaW50KCIiKQoKICBwcmludCgiQXZhaWxhYmxlIGNvbW1hbmRzOiIpCgogIGlmIHNlbGYucGx1Z2luc1tzZWxmLmNvbW1hbmRdID09IG5pbCB0aGVuCiAgICBlcnJvcigiUGx1Z2luICIgLi4gc2VsZi5jb21tYW5kIC4uICIgbm90IGZvdW5kIikKICBlbmQKCiAgZm9yIF8sY29tbWFuZCBpbiBwYWlycyhzZWxmLnBsdWdpbnNbc2VsZi5jb21tYW5kXTpnZXRBdmFpbGFibGVDb21tYW5kcygpKSBkbwogICAgcHJpbnQoIiAtICIgLi4gY29tbWFuZCkKICBlbmQKZW5kCgpmdW5jdGlvbiBNYW5hZ2VyLnNob3dVc2FnZSgpCiAgVXRpbHMucHJpbnRDb2xvcmVkU3RyaW5nKCJIZWxwIGZvciBtYW5hZ2VyOiIsIGNvbG9ycy5ibHVlKQogIHByaW50KCIiKQogIHByaW50KCJVc2FnZToiKQogIHByaW50KCIgbWFuYWdlciBoZWxwIFttb2RlXSIpCiAgcHJpbnQoIiBtYW5hZ2VyIDxtb2RlPiA8Y29tbWFuZD4iKQplbmQKCnJldHVybiBNYW5hZ2VyCg==
library/StorageControl.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9DaGFydEl0ZW0ubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQubHVhIikKZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpTdG9yYWdlQ29udHJvbCA9IHt9ClN0b3JhZ2VDb250cm9sLl9faW5kZXggPSBTdG9yYWdlQ29udHJvbAoKZnVuY3Rpb24gU3RvcmFnZUNvbnRyb2w6Y3JlYXRlKG5hbWUsIHN0b3JhZ2UsIG1vbml0b3IpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9yID0gbW9uaXRvcgogIG9iai5zdG9yYWdlID0gc3RvcmFnZQogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBTdG9yYWdlQ29udHJvbDpydW4oKQogIGxvY2FsIGxhc3QgPSBzZWxmLnN0b3JhZ2U6Z2V0RVVTdG9yZWQoKQoKICB3aGlsZSB0cnVlCiAgZG8KICAgIHJlZG5ldC5icm9hZGNhc3Qoc2VsZi5zdG9yYWdlOnRvU3RyaW5nKCksIHNlbGYubmFtZSAuLiAiLXN0YXR1cyIpCiAgICByZWRuZXQuYnJvYWRjYXN0KHNlbGYubmFtZSwgInBpbmctc3RvcmFnZSIpCgogICAgc2VsZi5tb25pdG9yOmNsZWFyKCkKCiAgICBzZWxmLm1vbml0b3I6c2V0VGV4dFNjYWxlKC41KQoKICAgIGxvY2FsIGZpZWxkc2V0ID0gTW9uaXRvckZpZWxkc2V0OmNyZWF0ZShzZWxmLm1vbml0b3IpCgogICAgZmllbGRzZXQ6d3JpdGUoIkVVIHN0b3JhZ2U6ICIgLi4gc2VsZi5uYW1lLCAyLCAyLCAzNCwgNykKCiAgICBsb2NhbCBjYXBhY2l0eSA9IHNlbGYuc3RvcmFnZTpnZXRFVUNhcGFjaXR5KCkKICAgIGxvY2FsIGFtb3VudCA9IHNlbGYuc3RvcmFnZTpnZXRFVVN0b3JlZCgpCgogICAgLS0gQU1PVU5UCiAgICBzZWxmOnJlbmRlckxpbmUoIkFtb3VudDoiLCA0LCA0KQogICAgc2VsZjpyZW5kZXJMaW5lKGFtb3VudCAuLiAiIEVVIiwgMTQsIDQpCgogICAgLS0gQ0FQQUNJVFkKICAgIHNlbGY6cmVuZGVyTGluZSgiQ2FwYWNpdHk6IiwgNCwgNSkKICAgIHNlbGY6cmVuZGVyTGluZShVdGlscy5nZXRSZWFkYWJsZU51bWJlcihjYXBhY2l0eSkgLi4gIiBFVSIsIDE0LCA1KQoKICAgIGxvY2FsIHBlcmNlbnQgPSBzZWxmLnN0b3JhZ2U6Z2V0RXVQZXJjZW50KCkKICAgIGlmIHBlcmNlbnQgPCAzMCB0aGVuCiAgICAgIGNvbG9yID0gImUiCiAgICBlbHNlaWYgcGVyY2VudCA8IDU1IHRoZW4KICAgICAgY29sb3IgPSAiMSIKICAgIGVsc2UKICAgICAgY29sb3IgPSAiZCIKICAgIGVuZAoKICAgIC0tIElOQ1JFQVNFCiAgICBzZWxmOnJlbmRlckxpbmUoIkluY3JlYXNlOiIsIDQsIDYpCgogICAgc2VsZjpyZW5kZXJJbmNyZWFzZShhbW91bnQsIGxhc3QsIDE0LCA2KQoKICAgIHNlbGY6cmVuZGVyQ2hhcnQoY29sb3IsIGFtb3VudCwgY2FwYWNpdHkpCgogICAgc2VsZi5tb25pdG9yOnB1c2goKQoKICAgIGxhc3QgPSBhbW91bnQKCiAgICBzbGVlcCgwLjI1KQogIGVuZAplbmQKCmZ1bmN0aW9uIFN0b3JhZ2VDb250cm9sOnJlbmRlckluY3JlYXNlKGFtb3VudCwgbGFzdCwgeCwgeSkKICBpZiBsYXN0IDwgYW1vdW50IGFuZCAoYW1vdW50IC0gbGFzdCkgPiAyIHRoZW4KICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCIgKyAiLCAiZiIsICJkIiwgeCwgeSkKICBlbHNlaWYgYW1vdW50IDwgbGFzdCBhbmQgLTIgPCAobGFzdCAtIGFtb3VudCkgdGhlbgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIiAtICIsICJmIiwgImUiLCB4LCB5KQogIGVuZAplbmQKCgpmdW5jdGlvbiBTdG9yYWdlQ29udHJvbDpyZW5kZXJMaW5lKHZhbHVlLCB4LCB5LCBjb2xvcikKICBjb2xvciA9IGNvbG9yIG9yICIwIgogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHZhbHVlLCBjb2xvciwgImYiLCB4LCB5KQplbmQKCmZ1bmN0aW9uIFN0b3JhZ2VDb250cm9sOnJlbmRlckNoYXJ0KGNvbG9yLCBhbW91bnQsIGNhcGFjaXR5KQogIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAidmVydGljYWwiLCA4LCAwLCBjYXBhY2l0eSkKICBjaGFydEl0ZW06c2V0U2l6ZSg4KQogIGNoYXJ0SXRlbTpzZXRTaG93UGVyY2VudCgpCiAgY2hhcnRJdGVtOnNldENvbG9yKGNvbG9yKQogIGNoYXJ0SXRlbTp3cml0ZShhbW91bnQsIDI4LCAxKQplbmQKCnJldHVybiBTdG9yYWdlQ29udHJvbAo=
library/managerPlugins/ReactorPlugin.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpSZWFjdG9yUGx1Z2luID0ge30KUmVhY3RvclBsdWdpbi5fX2luZGV4ID0gUmVhY3RvclBsdWdpbgoKZnVuY3Rpb24gUmVhY3RvclBsdWdpbjpjcmVhdGUocmVkbmV0Q2xpZW50KQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmoucmVkbmV0Q2xpZW50ID0gcmVkbmV0Q2xpZW50CiAgb2JqLmF2YWlsYWJsZUNvbW1hbmRzID0geyJsaXN0IiwgInN0YXR1cyA8cmVhY3Rvcj4ifQogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBSZWFjdG9yUGx1Z2luOnJ1bihjb21tYW5kLCBhcmdzKQogIGlmIGNvbW1hbmQgPT0gImxpc3QiIHRoZW4KICAgIHJldHVybiBzZWxmOmxpc3QoYXJnc1sxXSkKICBlbHNlaWYgY29tbWFuZCA9PSAic3RhdHVzIiB0aGVuCiAgICBpZiBhcmdzWzFdID09IG5pbCB0aGVuCiAgICAgIGVycm9yKCJjb21tYW5kIHN0YXR1cyBuZWVkIGZpcnN0IHBhcmFtZXRlciByZWFjdG9yIG5hbWUiKQogICAgZW5kCiAgICByZXR1cm4gc2VsZjpzdGF0dXMoYXJnc1sxXSkKICBlbmQKICBlcnJvcigiVW5rbm93biBjb21tYW5kIGAiIC4uIGNvbW1hbmQgLi4gImAiKQplbmQKCmZ1bmN0aW9uIFJlYWN0b3JQbHVnaW46bGlzdChhdHRlbXB0cykKICBVdGlsczpwaW5nQW5kU2VhcmNoRGV2aWNlcyhzZWxmLnJlZG5ldENsaWVudCwgInJlYWN0b3IiLCBhdHRlbXB0cykKCiAgcmV0dXJuIHRydWUKZW5kCgpmdW5jdGlvbiBSZWFjdG9yUGx1Z2luOnN0YXR1cyhyZWFjdG9yTmFtZSkKICBwcmludCgiRG93bmxvYWRpbmcgaW5mby4uLiIpCiAgcHJpbnQoIiIpCgogIGlkLCBtZXNzYWdlID0gc2VsZi5yZWRuZXRDbGllbnQ6cmVjZWl2ZShyZWFjdG9yTmFtZSwgInN0YXR1cyIsIDIpCgogIGlmIG1lc3NhZ2Ugfj0gbmlsIHRoZW4KICAgIG1lc3NhZ2UgPSB0ZXh0dXRpbHMudW5zZXJpYWxpemUobWVzc2FnZSkKCiAgICBsb2NhbCBwZXJjZW50YWdlID0gVXRpbHMucm91bmQobWVzc2FnZVsiaGVhdCJdIC8gbWVzc2FnZVsibWF4SGVhdCJdICogMTAwKQoKICAgIHByaW50KCJbIiAuLiByZWFjdG9yTmFtZSAuLiAiXSAoIiAuLiBtZXNzYWdlWyJzdGF0dXMiXSAuLiAiKSIpCiAgICBwcmludCgiICBIZWF0OiAiIC4uIG1lc3NhZ2VbImhlYXQiXSAuLiAiLyIgLi4gbWVzc2FnZVsibWF4SGVhdCJdIC4uICIgLSAiIC4uIHBlcmNlbnRhZ2UgLi4gIiUiKQogICAgcHJpbnQoIiAgUG93ZXI6ICIgLi4gVXRpbHMucm91bmQobWVzc2FnZVsib3V0cHV0Il0gLyAzNjAgKiAxMDApIC4uICIlIikKICAgIHByaW50KCIgIFR5cGU6ICIgLi4gKG1lc3NhZ2VbInR5cGUiXSA9PSAiZmx1aWQiIGFuZCAiSFUiIG9yICJFVSIpKQogICAgcHJpbnQoIiAgRnVlbDogIiAuLiBtZXNzYWdlWyJmdWVsUmVtYWluaW5nUGVyY2VudCJdIC4uICIlIikKICBlbHNlCiAgICBwcmludCgiRXJyb3I6IE5vIHJlc3BvbnNlIGZyb20gcmVhY3RvciIpCiAgZW5kCgogIHJldHVybiB0cnVlCmVuZAoKZnVuY3Rpb24gUmVhY3RvclBsdWdpbjpnZXRBdmFpbGFibGVDb21tYW5kcygpCiAgcmV0dXJuIHNlbGYuYXZhaWxhYmxlQ29tbWFuZHMKZW5kCgpyZXR1cm4gTWFuYWdlcgo=
library/managerPlugins/EuStoragePlugin.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpFdVN0b3JhZ2VQbHVnaW4gPSB7fQpFdVN0b3JhZ2VQbHVnaW4uX19pbmRleCA9IEV1U3RvcmFnZVBsdWdpbgoKZnVuY3Rpb24gRXVTdG9yYWdlUGx1Z2luOmNyZWF0ZShyZWRuZXRDbGllbnQpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5yZWRuZXRDbGllbnQgPSByZWRuZXRDbGllbnQKICBvYmouYXZhaWxhYmxlQ29tbWFuZHMgPSB7Imxpc3QiLCAic3RhdHVzIDxzdG9yYWdlPiJ9CiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEV1U3RvcmFnZVBsdWdpbjpydW4oY29tbWFuZCwgYXJncykKICBpZiBjb21tYW5kID09ICJsaXN0IiB0aGVuCiAgICByZXR1cm4gc2VsZjpsaXN0KGFyZ3NbMV0pCiAgZWxzZWlmIGNvbW1hbmQgPT0gInN0YXR1cyIgdGhlbgogICAgaWYgYXJnc1sxXSA9PSBuaWwgdGhlbgogICAgICBlcnJvcigiY29tbWFuZCBzdGF0dXMgbmVlZCBmaXJzdCBwYXJhbWV0ZXIgc3RvcmFnZSBuYW1lIikKICAgIGVuZAogICAgcmV0dXJuIHNlbGY6c3RhdHVzKGFyZ3NbMV0pCiAgZW5kCiAgZXJyb3IoIlVua25vd24gY29tbWFuZCBgIiAuLiBjb21tYW5kIC4uICJgIikKZW5kCgpmdW5jdGlvbiBFdVN0b3JhZ2VQbHVnaW46bGlzdChhdHRlbXB0cykKICBhdHRlbXB0cyA9IGF0dGVtcHRzIG9yIDMwCiAgVXRpbHM6cGluZ0FuZFNlYXJjaERldmljZXMoc2VsZi5yZWRuZXRDbGllbnQsICJzdG9yYWdlIiwgYXR0ZW1wdHMpCgogIHJldHVybiB0cnVlCmVuZAoKZnVuY3Rpb24gRXVTdG9yYWdlUGx1Z2luOnN0YXR1cyhzdG9yYWdlTmFtZSkKICBwcmludCgiRG93bmxvYWRpbmcgaW5mby4uLiIpCiAgcHJpbnQoIiIpCgogIGlkLCBtZXNzYWdlID0gc2VsZi5yZWRuZXRDbGllbnQ6cmVjZWl2ZShzdG9yYWdlTmFtZSwgInN0YXR1cyIsIDUpCgogIGlmIG1lc3NhZ2Ugfj0gbmlsIHRoZW4KICAgIG1lc3NhZ2UgPSB0ZXh0dXRpbHMudW5zZXJpYWxpemUobWVzc2FnZSkKCiAgICBsb2NhbCBwZXJjZW50YWdlID0gbWVzc2FnZVsic3RvcmVkIl0gLyBtZXNzYWdlWyJjYXBhY2l0eSJdICogMTAwCgogICAgcHJpbnQoIlsiIC4uIHN0b3JhZ2VOYW1lIC4uICJdIikKICAgIHByaW50KCIgIFN0b3JlZDogICIgLi4gVXRpbHMucm91bmQocGVyY2VudGFnZSwgMikgLi4gIiUiKQogICAgcHJpbnQoIiAgTWF4OiAgICAgIiAuLiBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihtZXNzYWdlWyJjYXBhY2l0eSJdKSAuLiAiIEVVIikKICAgIHByaW50KCIgIEN1cnJlbnQ6ICIgLi4gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIobWVzc2FnZVsic3RvcmVkIl0pIC4uICIgRVUiKQoKICAgIHRlcm0ud3JpdGUoIiAgU3RhdHVzOiAgIikKICAgIGlmIDMwID4gcGVyY2VudGFnZSB0aGVuCiAgICAgIFV0aWxzLnByaW50Q29sb3JlZFN0cmluZygiTE9XIiwgY29sb3JzLnJlZCkKICAgIGVsc2VpZiA3MCA+IHBlcmNlbnRhZ2UgdGhlbgogICAgICBVdGlscy5wcmludENvbG9yZWRTdHJpbmcoIkFWQUlMQUJMRSIsIGNvbG9ycy5vcmFuZ2UpCiAgICBlbHNlaWYgcGVyY2VudGFnZSA9PSAxMDAgdGhlbgogICAgICBVdGlscy5wcmludENvbG9yZWRTdHJpbmcoIkZVTEwiLCBjb2xvcnMuYmx1ZSkKICAgIGVsc2UKICAgICAgVXRpbHMucHJpbnRDb2xvcmVkU3RyaW5nKCJISUdIIiwgY29sb3JzLmdyZWVuKQogICAgZW5kCiAgZWxzZQogICAgcHJpbnQoIkVycm9yOiBObyByZXNwb25zZSBmcm9tIHN0b3JhZ2UiKQogIGVuZAoKICByZXR1cm4gdHJ1ZQplbmQKCmZ1bmN0aW9uIEV1U3RvcmFnZVBsdWdpbjpnZXRBdmFpbGFibGVDb21tYW5kcygpCiAgcmV0dXJuIHNlbGYuYXZhaWxhYmxlQ29tbWFuZHMKZW5kCgpyZXR1cm4gTWFuYWdlcgo=
library/managerPlugins/TurtlePlugin.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpUdXJ0bGVQbHVnaW4gPSB7fQpUdXJ0bGVQbHVnaW4uX19pbmRleCA9IFR1cnRsZVBsdWdpbgoKZnVuY3Rpb24gVHVydGxlUGx1Z2luOmNyZWF0ZShyZWRuZXRDbGllbnQpCiAgICBsb2NhbCBvYmogPSB7fQogICAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICAgIG9iai5yZWRuZXRDbGllbnQgPSByZWRuZXRDbGllbnQKICAgIG9iai5hdmFpbGFibGVDb21tYW5kcyA9IHsibGlzdCIsICJzZXR1cCA8dHVydGxlPiIsICJsaXN0ZW4gPHR1cnRsZT4ifQogICAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFR1cnRsZVBsdWdpbjpydW4oY29tbWFuZCwgYXJncykKICAgIGlmIGNvbW1hbmQgPT0gImxpc3QiIHRoZW4KICAgICAgICByZXR1cm4gc2VsZjpsaXN0KGFyZ3NbMV0pCiAgICBlbHNlaWYgY29tbWFuZCA9PSAic2V0dXAiIHRoZW4KICAgICAgICBpZiBhcmdzWzFdID09IG5pbCB0aGVuCiAgICAgICAgICAgIGVycm9yKCJjb21tYW5kIGBzZXR1cGAgbmVlZCBmaXJzdCBwYXJhbWV0ZXIgdHVydGxlIG5hbWUiKQogICAgICAgIGVuZAogICAgICAgIHJldHVybiBzZWxmOnNldHVwKGFyZ3NbMV0pCiAgICBlbHNlaWYgY29tbWFuZCA9PSAibGlzdGVuIiB0aGVuCiAgICAgICAgaWYgYXJnc1sxXSA9PSBuaWwgdGhlbgogICAgICAgICAgICBlcnJvcigiY29tbWFuZCBgbGlzdGVuYCBuZWVkIGZpcnN0IHBhcmFtZXRlciB0dXJ0bGUgbmFtZSIpCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIHNlbGY6bGlzdGVuKGFyZ3NbMV0pCiAgICBlbmQKICAgIGVycm9yKCJVbmtub3duIGNvbW1hbmQgYCIgLi4gY29tbWFuZCAuLiAiYCIpCmVuZAoKZnVuY3Rpb24gVHVydGxlUGx1Z2luOnNldHVwKHR1cnRsZU5hbWUpCiAgICBwcmludCgiU2VhcmNoaW5nIHR1cnRsZSAiIC4uIHR1cnRsZU5hbWUgLi4gIiBhbmQgY2hlY2sgaWYgaXMgaW4gc2V0dXAgbW9kZSIpCiAgICBsb2NhbCBjb3VudGVyID0gMAogICAgd2hpbGUgbWVzc2FnZSA9PSBuaWwKICAgIGRvCiAgICAgICAgaWQsIG1lc3NhZ2UgPSBzZWxmLnJlZG5ldENsaWVudDpyZWNlaXZlKHR1cnRsZU5hbWUsICJzZXR1cC1maWxlIiwgMikKICAgICAgICB0ZXJtLndyaXRlKCIuIikKICAgICAgICBjb3VudGVyID0gY291bnRlciArIDEKCiAgICAgICAgaWYgY291bnRlciA+IDMgdGhlbgogICAgICAgICAgICBwcmludCgiVHVydGxlIiAuLiB0dXJ0bGVOYW1lIC4uICIgaXMgbm90IGluIHNldHVwIG1vZGUiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbmQKICAgIGVuZAogICAgcHJpbnQoIkZvdW5kIHR1cnRsZSBpbiBzZXR1cCBtb2RlIikKICAgIHByaW50KCkKCiAgICBsb2NhbCByZXN1bHQgPSB7fQoKICAgIHByaW50KCJJbnNlcnQgdHVydGxlIG5hbWUgYW5kIHByZXNzIGVudGVyIikKICAgIHJlc3VsdFsnbmFtZSddID0gVXRpbHMudHJpbShpby5yZWFkKCkpCiAgICBwcmludCgiTmFtZSBpczogIiAuLiByZXN1bHRbJ25hbWUnXSkKCiAgICBwcmludCgiSW5zZXJ0IHR1cnRsZSByZWRuZXQgc2lkZSBhbmQgcHJlc3MgZW50ZXIiKQogICAgcmVzdWx0WydyZWRuZXQnXSA9IFV0aWxzLnRyaW0oaW8ucmVhZCgpKQogICAgcHJpbnQoIlJlZG5ldCBzaWRlIGlzOiAiIC4uIHJlc3VsdFsncmVkbmV0J10pCgogICAgcHJpbnQoIkdvIHRvIHN0YXJ0aW5nIGxvY2F0aW9uIGFuZCBwcmVzcyBlbnRlciIpCiAgICBpby5yZWFkKCkKICAgIGxvY2FsIHN0YXJ0TG9jYXRpb24gPSBUdXJ0bGVQbHVnaW4uZ2V0TG9jYXRpb24oKQogICAgcmVzdWx0WydzdGFydCddID0gewogICAgICAgIHggPSBtYXRoLmZsb29yKHN0YXJ0TG9jYXRpb24ueCksCiAgICAgICAgeSA9IG1hdGguZmxvb3Ioc3RhcnRMb2NhdGlvbi55KSwKICAgICAgICB6ID0gbWF0aC5mbG9vcihzdGFydExvY2F0aW9uLnogLSAxKQogICAgfQogICAgcHJpbnQoIlN0YXJ0IGxvY2F0aW9uIGlzIikKICAgIFR1cnRsZVBsdWdpbi5wcmludExvY2F0aW9uKHJlc3VsdFsnc3RhcnQnXSkKCiAgICBwcmludCgiXG5HbyB0byBmaW5pc2ggbG9jYXRpb24gYW5kIHByZXNzIGVudGVyIikKICAgIGlvLnJlYWQoKQogICAgbG9jYWwgZW5kTG9jYXRpb24gPSBUdXJ0bGVQbHVnaW4uZ2V0TG9jYXRpb24oKQogICAgcmVzdWx0WydmaW5pc2gnXSA9IHsKICAgICAgICB4ID0gbWF0aC5mbG9vcihlbmRMb2NhdGlvbi54KSwKICAgICAgICB5ID0gbWF0aC5mbG9vcihlbmRMb2NhdGlvbi55KSwKICAgICAgICB6ID0gbWF0aC5mbG9vcihlbmRMb2NhdGlvbi56IC0gMSkKICAgIH0KICAgIHByaW50KCJGaW5pc2ggbG9jYXRpb24gaXMiKQogICAgVHVydGxlUGx1Z2luLnByaW50TG9jYXRpb24ocmVzdWx0WydmaW5pc2gnXSkKCiAgICBwcmludCgiXG5HbyB0byBzdG9yYWdlIGxvY2F0aW9uIGFuZCBwcmVzcyBlbnRlciIpCiAgICBpby5yZWFkKCkKICAgIGxvY2FsIHN0b3JhZ2VMb2NhdGlvbiA9IFR1cnRsZVBsdWdpbi5nZXRMb2NhdGlvbigpCiAgICByZXN1bHRbJ3N0b3JhZ2UnXSA9IHsKICAgICAgICB4ID0gbWF0aC5mbG9vcihzdG9yYWdlTG9jYXRpb24ueCksCiAgICAgICAgeSA9IG1hdGguZmxvb3Ioc3RvcmFnZUxvY2F0aW9uLnkpLAogICAgICAgIHogPSBtYXRoLmZsb29yKHN0b3JhZ2VMb2NhdGlvbi56IC0gMSkKICAgIH0KICAgIHByaW50KCJTdG9yYWdlIGxvY2F0aW9uIGlzIikKICAgIFR1cnRsZVBsdWdpbi5wcmludExvY2F0aW9uKHJlc3VsdFsnc3RvcmFnZSddKQoKICAgIHByaW50KCJcbkdvIHRvIHRvcmNoIHN0b3JhZ2UgbG9jYXRpb24gYW5kIHByZXNzIGVudGVyIikKICAgIGlvLnJlYWQoKQogICAgbG9jYWwgdG9yY2hMb2NhdGlvbiA9IFR1cnRsZVBsdWdpbi5nZXRMb2NhdGlvbigpCiAgICByZXN1bHRbJ3RvcmNoJ10gPSB7CiAgICAgICAgeCA9IG1hdGguZmxvb3IodG9yY2hMb2NhdGlvbi54KSwKICAgICAgICB5ID0gbWF0aC5mbG9vcih0b3JjaExvY2F0aW9uLnkpLAogICAgICAgIHogPSBtYXRoLmZsb29yKHRvcmNoTG9jYXRpb24ueiAtIDEpCiAgICB9CiAgICBwcmludCgiVG9yY2ggbG9jYXRpb24gaXMiKQogICAgVHVydGxlUGx1Z2luLnByaW50TG9jYXRpb24ocmVzdWx0Wyd0b3JjaCddKQoKICAgIHByaW50KCJcbkdvIHRvIGNvYmJsZXN0b25lIGxvY2F0aW9uIGFuZCBwcmVzcyBlbnRlciIpCiAgICBpby5yZWFkKCkKICAgIGxvY2FsIGNvYmJsZVN0b25lTG9jYXRpb24gPSBUdXJ0bGVQbHVnaW4uZ2V0TG9jYXRpb24oKQogICAgcmVzdWx0WydzdG9uZSddID0gewogICAgICAgIHggPSBtYXRoLmZsb29yKGNvYmJsZVN0b25lTG9jYXRpb24ueCksCiAgICAgICAgeSA9IG1hdGguZmxvb3IoY29iYmxlU3RvbmVMb2NhdGlvbi55KSwKICAgICAgICB6ID0gbWF0aC5mbG9vcihjb2JibGVTdG9uZUxvY2F0aW9uLnogLSAxKQogICAgfQogICAgcHJpbnQoIkNvYmJsZXN0b25lIGxvY2F0aW9uIGlzIikKICAgIFR1cnRsZVBsdWdpbi5wcmludExvY2F0aW9uKHJlc3VsdFsnc3RvbmUnXSkKCiAgICBwcmludCgiU3RvcmFnZSBzaWRlIikKICAgIHJlc3VsdFsnc3RvcmFnZVNpZGUnXSA9IFV0aWxzLnRyaW0oaW8ucmVhZCgpKQogICAgcHJpbnQoIlN0b3JhZ2Ugc2lkZSBpczogIiAuLiByZXN1bHRbJ3N0b3JhZ2VTaWRlJ10pCgogICAgc2VsZi5yZWRuZXRDbGllbnQ6YnJvYWRjYXN0KCJtYW5hZ2VyIiwgInNldHVwLWZpbGUiLCByZXN1bHQpCgogICAgcHJpbnQoIk9LIDogQ29uZmlnIGZpbGUgaGFzIGJlZW4gd3JpdHRlbiB0byB0dXJ0bGUiKQoKICAgIHJldHVybiB0cnVlCmVuZAoKZnVuY3Rpb24gVHVydGxlUGx1Z2luLnByaW50TG9jYXRpb24odmVjdG9yKQogICAgcHJpbnQodmVjdG9yLnggLi4gIiwgIiAuLiB2ZWN0b3IueSAuLiAiLCAiIC4uIHZlY3Rvci56KQplbmQKCmZ1bmN0aW9uIFR1cnRsZVBsdWdpbjpsaXN0KGF0dGVtcHRzKQogICAgVXRpbHM6cGluZ0FuZFNlYXJjaERldmljZXMoc2VsZi5yZWRuZXRDbGllbnQsICJ0dXJ0bGUiLCBhdHRlbXB0cykKICAgIHJldHVybiB0cnVlCmVuZAoKZnVuY3Rpb24gVHVydGxlUGx1Z2luOmxpc3Rlbih0dXJ0bGVOYW1lKQogICAgcHJpbnQoIkxpc3RlbmluZyB0dXJ0bGUgIiAuLiB0dXJ0bGVOYW1lIC4uICIuLi4iKQogICAgcHJpbnQoIiIpCgogICAgd2hpbGUgdHJ1ZQogICAgZG8KICAgICAgICBpZCwgbWVzc2FnZSA9IHNlbGYucmVkbmV0Q2xpZW50OnJlY2VpdmUodHVydGxlTmFtZSwgInN0YXR1cyIsIDIpCiAgICAgICAgaWYgbWVzc2FnZSB+PSBuaWwgdGhlbgogICAgICAgICAgICBtZXNzYWdlID0gdGV4dHV0aWxzLnVuc2VyaWFsaXplKG1lc3NhZ2UpCgogICAgICAgICAgICBwcmludChtZXNzYWdlKQogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gdHJ1ZQplbmQKCmZ1bmN0aW9uIFR1cnRsZVBsdWdpbi5nZXRMb2NhdGlvbihjb3VudGVyKQogICAgY291bnRlciA9IGNvdW50ZXIgb3IgMAogICAgbG9jYWwgeCwgeSwgeiA9IGdwcy5sb2NhdGUoNSkKICAgIGlmIG5vdCB4IHRoZW4KICAgICAgICBpZiBjb3VudGVyIDwgNSB0aGVuCiAgICAgICAgICAgIHNsZWVwKDUpCiAgICAgICAgICAgIHJldHVybiBUdXJ0bGVNb3Zlci5nZXRMb2NhdGlvbihjb3VudGVyICsgMSkKICAgICAgICBlbmQKICAgICAgICBUdXJ0bGVMb2dnZXIuZXJyb3IoIkZhaWxlZCB0byBnZXQgbXkgbG9jYXRpb24hIikKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVsc2UKICAgICAgICByZXR1cm4gdmVjdG9yLm5ldyh4LCB5LCB6KQogICAgZW5kCmVuZAoKZnVuY3Rpb24gVHVydGxlUGx1Z2luOmdldEF2YWlsYWJsZUNvbW1hbmRzKCkKICAgIHJldHVybiBzZWxmLmF2YWlsYWJsZUNvbW1hbmRzCmVuZAoKcmV0dXJuIFR1cnRsZVBsdWdpbg==
library/Fluid.lua
Rmx1aWQgPSB7fQpGbHVpZC5fX2luZGV4ID0gRmx1aWQKCkZsdWlkLnR5cGVzID0ge30KRmx1aWQudHlwZXNbIm1pbmVjcmFmdDp3YXRlciJdID0gewogIG5hbWUgPSAiV2F0ZXIiLAogIGNvbG9yID0gImIiLAogIGlkID0gIm1pbmVjcmFmdDp3YXRlciIsCiAgZW5lcmd5ID0gMAp9CkZsdWlkLnR5cGVzWyJtaW5lY3JhZnQ6bGF2YSJdID0gewogIG5hbWUgPSAiTGF2YSIsCiAgY29sb3IgPSAiMSIsCiAgaWQgPSAibWluZWNyYWZ0OmxhdmEiLAogIGVuZXJneSA9IDIwCn0KRmx1aWQudHlwZXNbImljMjppYzJiaW9nYXMiXSA9IHsKICBuYW1lID0gIkJpb2dhcyIsCiAgY29sb3IgPSAiNCIsCiAgaWQgPSAiaWMyOmljMmJpb2dhcyIsCiAgZW5lcmd5ID0gMTYKfQpGbHVpZC50eXBlc1siaWMyOmljMmNvb2xhbnQiXSA9IHsKICBuYW1lID0gIkNvb2xhbnQiLAogIGNvbG9yID0gIjkiLAogIGlkID0gImljMjppYzJjb29sYW50IiwKICBlbmVyZ3kgPSAwCn0KRmx1aWQudHlwZXNbImljMjppYzJob3RfY29vbGFudCJdID0gewogIG5hbWUgPSAiSG90IGNvb2xhbnQiLAogIGNvbG9yID0gImUiLAogIGlkID0gImljMjppYzJob3RfY29vbGFudCIsCiAgZW5lcmd5ID0gMAp9CkZsdWlkLnR5cGVzWyJpYzI6aWMyZGlzdGlsbGVkX3dhdGVyIl0gPSB7CiAgbmFtZSA9ICJEaXN0aWxsZWQgd2F0ZXIiLAogIGNvbG9yID0gIjMiLAogIGlkID0gImljMjppYzJkaXN0aWxsZWRfd2F0ZXIiLAogIGVuZXJneSA9IDAKfQoKZnVuY3Rpb24gRmx1aWQuZ2V0Rmx1aWRCeWlkKGlkKQogIHJldHVybiBGbHVpZC50eXBlc1tpZF0KZW5kCgpmdW5jdGlvbiBGbHVpZC5pc1dhdGVyKGZsdWlkKQogIHJldHVybiBmbHVpZFsiaWQiXSA9PSAibWluZWNyYWZ0OndhdGVyIgplbmQKCnJldHVybiBGbHVpZAo=
library/FluidTank.lua
ZG9maWxlKCJsaWJyYXJ5L0ZsdWlkLmx1YSIpCgpGbHVpZFRhbmsgPSB7fQpGbHVpZFRhbmsuX19pbmRleCA9IEZsdWlkVGFuawoKZnVuY3Rpb24gRmx1aWRUYW5rOmNyZWF0ZShmbHVpZFRhbmspCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai50YW5rID0gZmx1aWRUYW5rCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEZsdWlkVGFuazpnZXRBbW91bnQoa2V5LCBkZWZhdWx0KQogIGRlZmF1bHQgPSBkZWZhdWx0IG9yIDAKICBsb2NhbCBpdGVtID0gc2VsZjpnZXRJdGVtKGtleSkKICBpZiBpdGVtID09IG5pbCB0aGVuCiAgICByZXR1cm4gZGVmYXVsdAogIGVuZAogIHJldHVybiBpdGVtWyJhbW91bnQiXSBhbmQgdG9udW1iZXIoaXRlbVsiYW1vdW50Il0pIG9yIGRlZmF1bHQKZW5kCgpmdW5jdGlvbiBGbHVpZFRhbms6Z2V0Q2FwYWNpdHkoa2V5LCBkZWZhdWx0KQogIGxvY2FsIGl0ZW0gPSBzZWxmOmdldEl0ZW0oa2V5KQogIGlmIGl0ZW0gPT0gbmlsIHRoZW4KICAgIHJldHVybiBkZWZhdWx0CiAgZW5kCiAgcmV0dXJuIGl0ZW1bImNhcGFjaXR5Il0gYW5kIHRvbnVtYmVyKGl0ZW1bImNhcGFjaXR5Il0pIG9yIGRlZmF1bHQKZW5kCgpmdW5jdGlvbiBGbHVpZFRhbms6Z2V0SWQoa2V5KQogIGxvY2FsIGl0ZW0gPSBzZWxmOmdldEl0ZW0oa2V5KQogIGlmIGl0ZW0gPT0gbmlsIHRoZW4KICAgIHJldHVybiBuaWwKICBlbmQKICByZXR1cm4gaXRlbVsiaWQiXQplbmQKCmZ1bmN0aW9uIEZsdWlkVGFuazpnZXRGbHVpZChrZXksIGRlZmF1bHQpCiAgbG9jYWwgaWQgPSBzZWxmOmdldElkKGtleSkgb3IgZGVmYXVsdAogIGlmIGlkID09IG5pbCB0aGVuCiAgICByZXR1cm4gbmlsCiAgZW5kCiAgcmV0dXJuIEZsdWlkLmdldEZsdWlkQnlpZChpZCkKZW5kCgpmdW5jdGlvbiBGbHVpZFRhbms6Z2V0SXRlbShrZXkpCiAga2V5ID0ga2V5IG9yIDEKICByZXR1cm4gc2VsZjpnZXRUYW5rRGF0YSgpIGFuZCBzZWxmOmdldFRhbmtEYXRhKClba2V5XQplbmQKCmZ1bmN0aW9uIEZsdWlkVGFuazpnZXRUYW5rRGF0YSgpCiAgcmV0dXJuIHNlbGYudGFuay5nZXRUYW5rcygidXAiKQplbmQKCnJldHVybiBGbHVpZFRhbmsK
library/RedstoneIntegrator.lua
UmVkc3RvbmVJbnRlZ3JhdG9yID0ge30KUmVkc3RvbmVJbnRlZ3JhdG9yLl9faW5kZXggPSBSZWRzdG9uZUludGVncmF0b3IKCmZ1bmN0aW9uIFJlZHN0b25lSW50ZWdyYXRvcjpjcmVhdGUocmVkc3RvbmVJbnRlZ3JhdG9yLCBzaWRlKQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmoucmVkc3RvbmVJbnRlZ3JhdG9yID0gcmVkc3RvbmVJbnRlZ3JhdG9yCiAgb2JqLnNpZGUgPSBzaWRlCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFJlZHN0b25lSW50ZWdyYXRvcjplbmFibGUoKQogIHNlbGYucmVkc3RvbmVJbnRlZ3JhdG9yLnNldEFuYWxvZ091dHB1dChzZWxmLnNpZGUsIDEpCmVuZAoKZnVuY3Rpb24gUmVkc3RvbmVJbnRlZ3JhdG9yOmRpc2FibGUoKQogIHNlbGYucmVkc3RvbmVJbnRlZ3JhdG9yLnNldEFuYWxvZ091dHB1dChzZWxmLnNpZGUsIDApCmVuZAoKZnVuY3Rpb24gUmVkc3RvbmVJbnRlZ3JhdG9yOmlzRW5hYmxlZCgpCiAgcmV0dXJuIHNlbGYucmVkc3RvbmVJbnRlZ3JhdG9yLmdldEFuYWxvZ0lucHV0KHNlbGYuc2lkZSkgPT0gMQplbmQKCnJldHVybiBSZWRzdG9uZUludGVncmF0b3IK
library/RemoteMonitor.lua
UmVtb3RlTW9uaXRvciA9IHt9ClJlbW90ZU1vbml0b3IuX19pbmRleCA9IFJlbW90ZU1vbml0b3IKCmZ1bmN0aW9uIFJlbW90ZU1vbml0b3I6Y3JlYXRlKHB1c2hlck5hbWUsIGRldmljZSkKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLnB1c2hlck5hbWUgPSBwdXNoZXJOYW1lCiAgb2JqLmRldmljZSA9IGRldmljZQogIG9iai5kYXRhID0ge30KICBvYmouZGF0YVsiZGV2aWNlIl0gPSBwdXNoZXJOYW1lCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIFJlbW90ZU1vbml0b3I6c2V0VGV4dFNjYWxlKHZhbHVlKQogIGlmIHZhbHVlIDwgMC41IHRoZW4KICAgIGVycm9yKCJWYWx1ZSBjYW4gbm90IGJlIGxvd2VyIHRoYW4gMC41IikKICBlbmQKICBzZWxmOmluc2VydCgic2V0VGV4dFNjYWxlIiwgewogICAgbWVzc2FnZSA9IHZhbHVlCiAgfSkKZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOnNldEJhY2tncm91bmRDb2xvcih2YWx1ZSkKICBzZWxmOmluc2VydCgic2V0QmFja2dyb3VuZENvbG9yIiwgewogICAgbWVzc2FnZSA9IHZhbHVlCiAgfSkKZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOndyaXRlKG1lc3NhZ2UsIGNvbG9yLCBiYWNrZ3JvdW5kKQogIHNlbGY6aW5zZXJ0KCJ3cml0ZSIsIHsKICAgIG1lc3NhZ2UgPSBtZXNzYWdlLAogICAgY29sb3IgPSBjb2xvciwKICAgIGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kCiAgfSkKZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOmJsaXQobWVzc2FnZSwgY29sb3IsIGJhY2tncm91bmQpCiAgc2VsZjppbnNlcnQoIndyaXRlIiwgewogICAgbWVzc2FnZSA9IG1lc3NhZ2UsCiAgICBjb2xvciA9IGNvbG9yLAogICAgYmFja2dyb3VuZCA9IGJhY2tncm91bmQKICB9KQplbmQKCmZ1bmN0aW9uIFJlbW90ZU1vbml0b3I6d3JpdGVsbihtZXNzYWdlLCBjb2xvciwgYmFja2dyb3VuZCkKICBzZWxmOmluc2VydCgid3JpdGVsbiIsIHsKICAgIG1lc3NhZ2UgPSBtZXNzYWdlLAogICAgY29sb3IgPSBjb2xvciwKICAgIGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kCiAgfSkKZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOndyaXRlUG9zaXRpb24obWVzc2FnZSwgY29sb3IsIGJhY2tncm91bmQsIHgsIHkpCiAgc2VsZjppbnNlcnQoIndyaXRlUG9zaXRpb24iLCB7CiAgICBtZXNzYWdlID0gbWVzc2FnZSwKICAgIGNvbG9yID0gY29sb3IsCiAgICBiYWNrZ3JvdW5kID0gYmFja2dyb3VuZCwKICAgIHggPSB4LAogICAgeSA9IHkKICB9KQplbmQKCmZ1bmN0aW9uIFJlbW90ZU1vbml0b3I6Y2xlYXIoKQogIHNlbGY6aW5zZXJ0KCJjbGVhciIpCmVuZAoKZnVuY3Rpb24gUmVtb3RlTW9uaXRvcjppbnNlcnQobWV0aG9kLCBwYXJhbWV0ZXJzKQogIHRhYmxlLmluc2VydChzZWxmLmRhdGEsIHsKICAgIG1ldGhvZCA9IG1ldGhvZCwKICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIG9yIHt9CiAgfSkKZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOnB1c2goKQogIGxvY2FsIG91dCA9IHt9CiAgb3V0WyJkYXRhIl0gPSBzZWxmLmRhdGEKICBvdXRbImRldmljZSJdID0gc2VsZi5wdXNoZXJOYW1lCiAgcmVkbmV0LmJyb2FkY2FzdCh0ZXh0dXRpbHMuc2VyaWFsaXplKG91dCksIHNlbGYuZGV2aWNlIC4uICItbW9uaXRvciIpCiAgc2VsZi5kYXRhID0ge30KZW5kCgpmdW5jdGlvbiBSZW1vdGVNb25pdG9yOmlzTG9jYWwoKQogIHJldHVybiBmYWxzZQplbmQKCnJldHVybiBSZW1vdGVNb25pdG9yCg==
library/rendering/ChartItem.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yTGluZS5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvVXRpbHMubHVhIikKZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9SZW5kZXJIZWxwZXIubHVhIikKCkNoYXJ0SXRlbSA9IHt9CkNoYXJ0SXRlbS5fX2luZGV4ID0gQ2hhcnRJdGVtCgpmdW5jdGlvbiBDaGFydEl0ZW06Y3JlYXRlKG1vbml0b3IsIHR5cGUsIGxlbmd0aCwgbWluLCBtYXgpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai50eXBlID0gdHlwZSBvciAiaG9yaXpvbnRhbCIKICBvYmoubW9uaXRvciA9IG1vbml0b3IKICBvYmoudG90YWwgPSBtYXRoLmFicyhtaW4pICsgbWF0aC5hYnMobWF4KQogIG9iai5sZW5ndGggPSBsZW5ndGgKICBvYmouY29sb3IgPSAiMCIKICBvYmouYmdDb2xvciA9ICI4IgogIG9iai5zaXplID0gMQogIG9iai5zaG93UGVyY2VudCA9IGZhbHNlCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIENoYXJ0SXRlbTp3cml0ZShjdXJyZW50LCB4LCB5KQogIGxvY2FsIGNvbG9yID0gc2VsZi5jb2xvcgoKICBsb2NhbCBmdWxsID0gTW9uaXRvckxpbmU6Y3JlYXRlKHNlbGYubW9uaXRvciwgc2VsZi50eXBlKQogIGZ1bGw6c2V0Q29sb3Ioc2VsZi5jb2xvcikKCiAgbG9jYWwgZW1wdHkgPSBNb25pdG9yTGluZTpjcmVhdGUoc2VsZi5tb25pdG9yLCBzZWxmLnR5cGUpCiAgZW1wdHk6c2V0Q29sb3Ioc2VsZi5iZ0NvbG9yKQoKICBsb2NhbCBmdWxsUGVyY2VudCA9IG1hdGguZmxvb3IoY3VycmVudCAvIHNlbGYudG90YWwgKiAxMDApCiAgbG9jYWwgZW1wdHlQZXJjZW50ID0gMTAwIC0gZnVsbFBlcmNlbnQKICBsb2NhbCBmdWxsTGVuZ3RoID0gbWF0aC5jZWlsKHNlbGYubGVuZ3RoIC8gMTAwICogZnVsbFBlcmNlbnQpCiAgbG9jYWwgZW1wdHlMZW5ndGggPSBzZWxmLmxlbmd0aCAtIGZ1bGxMZW5ndGgKCiAgaWYgc2VsZi50eXBlID09ICJob3Jpem9udGFsIiB0aGVuCiAgICBmb3IgaT0wLCBzZWxmLnNpemUgLSAxLCAxIGRvCiAgICAgIGZ1bGw6d3JpdGUoeCwgeSArIGksIGZ1bGxMZW5ndGgpCiAgICAgIGVtcHR5OndyaXRlKHggKyBmdWxsTGVuZ3RoLCB5ICsgaSwgZW1wdHlMZW5ndGgpCiAgICBlbmQKICBlbHNlCiAgICBmb3IgaT0wLCBzZWxmLnNpemUgLSAxLCAxIGRvCiAgICAgIGVtcHR5OndyaXRlKHggKyBpLCB5LCBlbXB0eUxlbmd0aCkKICAgICAgZnVsbDp3cml0ZSh4ICsgaSwgeSArIGVtcHR5TGVuZ3RoLCBmdWxsTGVuZ3RoKQogICAgZW5kCiAgZW5kCgogIGlmIHNlbGYuc2hvd1BlcmNlbnQgYW5kIHNlbGYudHlwZSA9PSAidmVydGljYWwiIHRoZW4KICAgIHkgPSB5ICsgc2VsZi5sZW5ndGggLSAxCiAgICBzID0gc2VsZi5zaXplIC0gNAogICAgaWYgMCA8IHMgdGhlbgogICAgICB4ID0geCArIG1hdGguZmxvb3IoKHNlbGYuc2l6ZSAtIDQpIC8gMikKICAgIGVuZAogICAgYmdDb2xvciA9IGZ1bGxMZW5ndGggPCAyIGFuZCBzZWxmLmJnQ29sb3Igb3Igc2VsZi5jb2xvcgoKICAgIHMgPSBVdGlscy5yb3VuZChmdWxsUGVyY2VudCkgLi4gIiUiCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8ocywgNCkgLi4gcywgVXRpbHMuZ2V0VGV4dENvbG9yKGJnQ29sb3IpLCBiZ0NvbG9yLCB4LCB5KQogIGVuZAoKZW5kCgpmdW5jdGlvbiBDaGFydEl0ZW06c2V0U2hvd1BlcmNlbnQoKQogIHNlbGYuc2hvd1BlcmNlbnQgPSB0cnVlCmVuZAoKZnVuY3Rpb24gQ2hhcnRJdGVtOnNldFNpemUoc2l6ZSkKICBzZWxmLnNpemUgPSBzaXplIG9yIDEKZW5kCgpmdW5jdGlvbiBDaGFydEl0ZW06c2V0Q29sb3IoY29sb3IsIGJnQ29sb3IpCiAgc2VsZi5jb2xvciA9IGNvbG9yIG9yICI3IgogIHNlbGYuYmdDb2xvciA9IGJnQ29sb3Igb3IgIjgiCmVuZAoKcmV0dXJuIENoYXJ0SXRlbQo=
library/rendering/MonitorFieldset.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yTGluZS5sdWEiKQoKTW9uaXRvckZpZWxkc2V0ID0ge30KTW9uaXRvckZpZWxkc2V0Ll9faW5kZXggPSBNb25pdG9yRmllbGRzZXQKCmZ1bmN0aW9uIE1vbml0b3JGaWVsZHNldDpjcmVhdGUobW9uaXRvcikKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgb2JqLmNvbG9yID0gIjAiCiAgb2JqLmJnQ29sb3IgPSAiOCIKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gTW9uaXRvckZpZWxkc2V0OndyaXRlKHRpdGxlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KQogIGxvY2FsIHRpdGxlTGVuZ3RoID0gc3RyaW5nLmxlbih0aXRsZSkKCiAgbG9jYWwgaG9yaXpvbnRhbCA9IE1vbml0b3JMaW5lOmNyZWF0ZShzZWxmLm1vbml0b3IpCiAgaG9yaXpvbnRhbDp3cml0ZSh4LCB5LCAyKQoKICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiICIgLi4gdGl0bGUgLi4gIiAiLCAiMCIsICJmIiwgeCArIDIsIHkpCgogIGhvcml6b250YWw6d3JpdGUoeCArIDIgKyB0aXRsZUxlbmd0aCArIDIsIHksIHdpZHRoIC0gMiAtIHRpdGxlTGVuZ3RoIC0gMikKICBsb2NhbCB2ZXJ0aWNhbCA9IE1vbml0b3JMaW5lOmNyZWF0ZShzZWxmLm1vbml0b3IsICJ2ZXJ0aWNhbCIpCiAgdmVydGljYWw6d3JpdGUoeCwgeSwgaGVpZ2h0KQogIHZlcnRpY2FsOndyaXRlKHggKyB3aWR0aCAtIDEsIHksIGhlaWdodCkKICBob3Jpem9udGFsOndyaXRlKHgsIHkgKyBoZWlnaHQsIHdpZHRoKQplbmQKCmZ1bmN0aW9uIE1vbml0b3JGaWVsZHNldDpzZXRDb2xvcihjb2xvciwgYmdDb2xvcikKICBzZWxmLmNvbG9yID0gY29sb3Igb3IgIjAiCiAgc2VsZi5iZ0NvbG9yID0gYmdDb2xvciBvciAiYSIKZW5kCgpyZXR1cm4gTW9uaXRvckZpZWxkc2V0Cg==
library/rendering/RenderHelper.lua
UmVuZGVySGVscGVyID0ge30KCmZ1bmN0aW9uIFJlbmRlckhlbHBlci5wcmludE9uT2ZmKG1vbml0b3IsIHZhbHVlKQogIGlmIHZhbHVlIHRoZW4KICAgIGlucHV0ID0gIk9OIgogICAgY29sb3IgPSAiZCIKICBlbHNlCiAgICBpbnB1dCA9ICJPRkYiCiAgICBjb2xvciA9ICJlIgogIGVuZAoKICBtb25pdG9yOndyaXRlKGlucHV0LCBjb2xvcikKZW5kCgpmdW5jdGlvbiBSZW5kZXJIZWxwZXIuZ2V0WWVzQW5kTm8odmFsdWUpCiAgaWYgdmFsdWUgdGhlbgogICAgcmV0dXJuICJZRVMiLCAiZCIKICBlbHNlCiAgICByZXR1cm4gIk5PIiwgImUiCiAgZW5kCmVuZAoKZnVuY3Rpb24gUmVuZGVySGVscGVyLmdldENvbG9yQnlQZXJjZW50KHBlcmNlbnQpCiAgaWYgcGVyY2VudCA8IDMwIHRoZW4KICAgIHJldHVybiAiZSIKICBlbHNlaWYgcGVyY2VudCA8IDU1IHRoZW4KICAgIHJldHVybiAiMSIKICBlbHNlCiAgICByZXR1cm4gImQiCiAgZW5kCmVuZAoKZnVuY3Rpb24gUmVuZGVySGVscGVyLmdldENvbG9yQnlQZXJjZW50UmV2ZXJzZWQocGVyY2VudCkKICBpZiBwZXJjZW50IDwgMzAgdGhlbgogICAgcmV0dXJuICJkIgogIGVsc2VpZiBwZXJjZW50IDwgNTUgdGhlbgogICAgcmV0dXJuICIxIgogIGVsc2UKICAgIHJldHVybiAiZSIKICBlbmQKZW5kCgpmdW5jdGlvbiBSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8oc3RyaW5nLCB0b0NvdW50LCBzdWZmaXgsIGNoYXIpCiAgc3VmZml4ID0gc3VmZml4IG9yICIiCiAgY2hhciA9IGNoYXIgb3IgIiAiCiAgY291bnQgPSB0b0NvdW50IC0gc3RyaW5nLmxlbihzdHJpbmcpCiAgaWYgY291bnQgPD0gMCB0aGVuCiAgICByZXR1cm4gIiIKICBlbmQKICByZXR1cm4gc3RyaW5nLnJlcChjaGFyLCBjb3VudCkgLi4gc3VmZml4CmVuZAoKZnVuY3Rpb24gUmVuZGVySGVscGVyLmdldENlbnRlcmVkKHN0cmluZywgdG9Db3VudCwgc2VwYXJhdG9yKQogIHNlcGFyYXRvciA9IHNlcGFyYXRvciBvciAiICIKICBsb2NhbCBmdWxsID0gKHRvQ291bnQgLSBzdHJpbmcubGVuKHN0cmluZykpCiAgZGlmZiA9IG1hdGguY2VpbChmdWxsIC8gMik7CgogIGxvY2FsIHN1ZmZpeCA9ICIiCiAgaWYgZnVsbCAtIGRpZmYgPiAwIHRoZW4KICAgIHN1ZmZpeCA9IHN0cmluZy5yZXAoc2VwYXJhdG9yLCBmdWxsIC0gZGlmZikKICBlbmQKCiAgcmV0dXJuIHN0cmluZy5yZXAoc2VwYXJhdG9yLCBkaWZmKSwgc3RyaW5nLCBzdWZmaXg7CmVuZAoKcmV0dXJuIFJlbmRlckhlbHBlcgo=
library/rendering/MonitorButton.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yTGluZS5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvcmVuZGVyaW5nL1JlbmRlckhlbHBlci5sdWEiKQoKTW9uaXRvckJ1dHRvbiA9IHt9Ck1vbml0b3JCdXR0b24uX19pbmRleCA9IE1vbml0b3JCdXR0b24KCmZ1bmN0aW9uIE1vbml0b3JCdXR0b246Y3JlYXRlKG1vbml0b3IsIHNpemUpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9yID0gbW9uaXRvcgogIG9iai5wcmludGVkID0gZmFsc2UKICBvYmoueCA9IDAKICBvYmoueSA9IDAKICBvYmoud2lkdGggPSAwCiAgb2JqLnNpemUgPSBzaXplIG9yIDMKICBvYmouY29sb3IgPSAiMCIKICBvYmouYmdDb2xvciA9ICJhIgogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBNb25pdG9yQnV0dG9uOndyaXRlKHRpdGxlLCB4LCB5LCB3aWR0aCkKCiAgaWYgc2VsZi5wcmludGVkIHRoZW4KICAgIGVycm9yKCJCdXR0b24gY2FuIG5vdCBiZSBwcmludGVkIGFnYWluIikKICBlbmQKCiAgc2VsZi54ID0geAogIHNlbGYueSA9IHkKICBzZWxmLndpZHRoID0gd2lkdGgKCiAgbG9jYWwgaG9yaXpvbnRhbCA9IE1vbml0b3JMaW5lOmNyZWF0ZShzZWxmLm1vbml0b3IpCiAgaG9yaXpvbnRhbDpzZXRDb2xvcihzZWxmLmJnQ29sb3IpCgogIHByZWZpeCx0aXRsZSxzdWZmaXggPSBSZW5kZXJIZWxwZXIuZ2V0Q2VudGVyZWQodGl0bGUsIHdpZHRoLCAiLiIpCgogIGxvY2FsIHByZWZpeExlbiA9IHN0cmluZy5sZW4ocHJlZml4KQogIGxvY2FsIHRpdGxlTGVuID0gc3RyaW5nLmxlbih0aXRsZSkKCiAgbG9jYWwgY2VudGVyID0gbWF0aC5mbG9vcihzZWxmLnNpemUgLyAyKSArIDEKCiAgZm9yIGkgPSAxLCBzZWxmLnNpemUsIDEgZG8KICAgIGlmIGkgPT0gY2VudGVyIHRoZW4KICAgICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24ocHJlZml4LCBzZWxmLmJnQ29sb3IsIHNlbGYuYmdDb2xvciwgeCwgeSArIGkpCiAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKHRpdGxlLCBzZWxmLmNvbG9yLCBzZWxmLmJnQ29sb3IsIHggKyBwcmVmaXhMZW4sIHkgKyBpKQogICAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihzdWZmaXgsIHNlbGYuYmdDb2xvciwgc2VsZi5iZ0NvbG9yLCB4ICsgcHJlZml4TGVuICsgdGl0bGVMZW4sIHkgKyBpKQogICAgZWxzZQogICAgICBob3Jpem9udGFsOndyaXRlKHgsIHkgKyBpLCB3aWR0aCkKICAgIGVuZAogIGVuZAoKICBzZWxmLnByaW50ZWQgPSB0cnVlCmVuZAoKZnVuY3Rpb24gTW9uaXRvckJ1dHRvbjpzZXRIYW5kbGVyKGhhbmRsZXIsIGNhbGxiYWNrKQogIGlmIG5vdCBzZWxmLnByaW50ZWQgdGhlbgogICAgZXJyb3IoIkJ1dHRvbiBtdXN0IGJlIHByaW50ZWQgYmVmb3JlIHNldCBoYW5kbGVyIikKICBlbmQKCiAgc2VsZi5jYWxsYmFjayA9IGNhbGxiYWNrCiAgaGFuZGxlcjphZGRIYW5kbGVyKCJtb25pdG9yLXRvdWNoIiwgc2VsZikKZW5kCgpmdW5jdGlvbiBNb25pdG9yQnV0dG9uOnNldENvbG9yKGNvbG9yLCBiZ0NvbG9yKQogIHNlbGYuY29sb3IgPSBjb2xvciBvciAiMCIKICBzZWxmLmJnQ29sb3IgPSBiZ0NvbG9yIG9yICJhIgplbmQKCmZ1bmN0aW9uIE1vbml0b3JCdXR0b246aGFuZGxlKGNvbW1hbmQsIHBhcmFtZXRlcnMpCiAgbG9jYWwgeCA9IHBhcmFtZXRlcnNbIngiXQogIGxvY2FsIHkgPSBwYXJhbWV0ZXJzWyJ5Il0KCiAgaWYgbm90IHNlbGY6aXNJbkJ1dHRvbih4LCB5KSB0aGVuCiAgICByZXR1cm4gbmlsCiAgZW5kCgogIGlmIHNlbGYuY2FsbGJhY2sgfj0gbmlsIHRoZW4KICAgIHNlbGYuY2FsbGJhY2socGFyYW1ldGVycykKICBlbmQKZW5kCgpmdW5jdGlvbiBNb25pdG9yQnV0dG9uOmlzSW5CdXR0b24oeCwgeSkKICBsb2NhbCBtYXhXaWR0aCA9IHNlbGYueCArIHNlbGYud2lkdGggLSAxCiAgbG9jYWwgbWF4U2l6ZSA9IHNlbGYueSArIHNlbGYuc2l6ZSAtIDEKCiAgaWYgeCA8IHNlbGYueCB0aGVuCiAgICByZXR1cm4gZmFsc2UKICBlbmQKCiAgaWYgbWF4V2lkdGggPCB4IHRoZW4KICAgIHJldHVybiBmYWxzZQogIGVuZAoKICBpZiB5IDwgc2VsZi55IHRoZW4KICAgIHJldHVybiBmYWxzZQogIGVuZAoKICBpZiBtYXhTaXplIDwgeSB0aGVuCiAgICByZXR1cm4gZmFsc2UKICBlbmQKCiAgcmV0dXJuIHRydWUKZW5kCgpyZXR1cm4gTW9uaXRvckJ1dHRvbgo=
library/rendering/MonitorLine.lua
TW9uaXRvckxpbmUgPSB7fQpNb25pdG9yTGluZS5fX2luZGV4ID0gTW9uaXRvckxpbmUKCmZ1bmN0aW9uIE1vbml0b3JMaW5lOmNyZWF0ZShtb25pdG9yLCB0eXBlKQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmoudHlwZSA9IHR5cGUgb3IgImhvcml6b250YWwiCiAgb2JqLm1vbml0b3IgPSBtb25pdG9yCiAgb2JqLmNvbG9yID0gIjciCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIE1vbml0b3JMaW5lOnNldENvbG9yKGNvbG9yKQogIHNlbGYuY29sb3IgPSBjb2xvcgplbmQKCmZ1bmN0aW9uIE1vbml0b3JMaW5lOndyaXRlKHgsIHksIGxlbmd0aCkKICBsb2NhbCBjb2xvciA9IHNlbGYuY29sb3IKCiAgaWYgc2VsZi50eXBlID09ICJob3Jpem9udGFsIiB0aGVuCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihzdHJpbmcucmVwKCItIiwgbGVuZ3RoKSwgY29sb3IsIGNvbG9yLCB4LCB5KQogIGVsc2UKICAgIGZvciBpID0gMSwgbGVuZ3RoLCAxIGRvCiAgICAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigifCIsIGNvbG9yLCBjb2xvciwgeCwgeSArIGkpCiAgICBlbmQKICBlbmQKCmVuZAoKcmV0dXJuIE1vbml0b3JMaW5lCg==
library/Utils.lua
VXRpbHMgPSB7fQoKZnVuY3Rpb24gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIobnVtYmVyKQogIGxvY2FsIG0gPSA5OTk5OTkKICBudW1iZXIgPSB0b251bWJlcihudW1iZXIpCgogIGlmIG51bWJlciA+IG0gdGhlbgogICAgcmV0dXJuIFV0aWxzLnJvdW5kKG51bWJlciAvIDEwMDAwMDAsIDIpIC4uICJNIgogIGVsc2VpZiBudW1iZXIgPiA5OTkgdGhlbgogICAgcmV0dXJuIFV0aWxzLnJvdW5kKG51bWJlciAvIDEwMDAsIDIpIC4uICJrIgogIGVuZAoKICByZXR1cm4gbnVtYmVyCmVuZAoKZnVuY3Rpb24gVXRpbHMudHJpbShzKQogICByZXR1cm4gczptYXRjaCAiXiVzKiguLSklcyokIgplbmQKCmZ1bmN0aW9uIFV0aWxzLmdldFRhYmxlQ291bnQodCkKICBsb2NhbCBjb3VudCA9IDAKICBmb3IgXyBpbiBwYWlycyh0KSBkbyBjb3VudCA9IGNvdW50ICsgMSBlbmQKICByZXR1cm4gY291bnQKZW5kCgpmdW5jdGlvbiBVdGlscy5maW5kUGVyaXBoZXJhbFNpZGUobmFtZSwgcHJpb3IpCiAgbG9jYWwgc2lkZXMgPSB7InRvcCI7ImZyb250IjsibGVmdCI7InJpZ2h0IjsiYmFjayI7ImJvdHRvbSJ9CgogIGlmIHByaW9yPT1uaWwgdGhlbgogICAgcD0xCiAgZWxzZQogICAgcD1wcmlvcgogIGVuZAoKICBmb3Igbj0xLDYgZG8KICAgIGlmIHBlcmlwaGVyYWwuZ2V0VHlwZShzaWRlc1tuXSkgPT0gbmFtZSB0aGVuCiAgICAgIGlmIHA9PTEgdGhlbgogICAgICAgIHJldHVybiBzaWRlc1tuXQogICAgICBlbHNlCiAgICAgICAgcD1wLTEKICAgICAgZW5kCiAgICBlbmQKICBlbmQKCiAgcmV0dXJuICJub25lIgplbmQKCmZ1bmN0aW9uIFV0aWxzLnByaW50Q29sb3JlZFN0cmluZyh0ZXh0LCBjb2xvciwgZGVmYXVsdENvbG9yKQogIGRlZmF1bHRDb2xvciA9IGRlZmF1bHRDb2xvciBvciBjb2xvcnMud2hpdGUKICB0ZXJtLnNldFRleHRDb2xvcihjb2xvcikKICB0ZXJtLndyaXRlKHRleHQpCiAgcHJpbnQoIiIpCiAgdGVybS5zZXRUZXh0Q29sb3IoZGVmYXVsdENvbG9yKQplbmQKCmZ1bmN0aW9uIFV0aWxzLnNwbGl0KHN0ciwgcGF0KQogICBsb2NhbCB0ID0ge30gIC0tIE5PVEU6IHVzZSB7biA9IDB9IGluIEx1YS01LjAKICAgbG9jYWwgZnBhdCA9ICIoLi0pIiAuLiBwYXQKICAgbG9jYWwgbGFzdF9lbmQgPSAxCiAgIGxvY2FsIHMsIGUsIGNhcCA9IHN0cjpmaW5kKGZwYXQsIDEpCiAgIHdoaWxlIHMgZG8KICAgICAgaWYgcyB+PSAxIG9yIGNhcCB+PSAiIiB0aGVuCiAgICAgICAgIHRhYmxlLmluc2VydCh0LGNhcCkKICAgICAgZW5kCiAgICAgIGxhc3RfZW5kID0gZSsxCiAgICAgIHMsIGUsIGNhcCA9IHN0cjpmaW5kKGZwYXQsIGxhc3RfZW5kKQogICBlbmQKICAgaWYgbGFzdF9lbmQgPD0gI3N0ciB0aGVuCiAgICAgIGNhcCA9IHN0cjpzdWIobGFzdF9lbmQpCiAgICAgIHRhYmxlLmluc2VydCh0LCBjYXApCiAgIGVuZAogICByZXR1cm4gdAplbmQKCmZ1bmN0aW9uIFV0aWxzLmdldFRleHRDb2xvcihjb2xvcikKICBudW0gPSB0b251bWJlcihjb2xvcikKICBpZiBudW0gfj0gbmlsIGFuZCB0b251bWJlcihjb2xvcikgPCA3IHRoZW4KICAgIHJldHVybiAiZiIKICBlbmQKICByZXR1cm4gIjAiCmVuZAoKZnVuY3Rpb24gVXRpbHMucmFuZG9tKGxlbmdodCkKICBzdHI9IiIKICBhbGwgPSB7IjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsImkiLCJqIiwiayIsImwiLCJtIiwibiIsIm8iLCJwIiwicSIsInIiLCJzIiwidCIsInUiLCJ2IiwidyIsIngiLCJ5IiwieiJ9CiAgZnJvbSA9IGZyb20gb3IgYWxsCiAgZm9yIGk9MSwgbGVuZ2h0IGRvIHN0ciA9IHN0ci4uZnJvbVttYXRoLnJhbmRvbSgxLCAjYWxsKV0gZW5kCiAgcmV0dXJuIHN0cgplbmQKCmZ1bmN0aW9uIFV0aWxzLnJvdW5kKG51bSwgbnVtRGVjaW1hbFBsYWNlcykKICBsb2NhbCBtdWx0ID0gMTBeKG51bURlY2ltYWxQbGFjZXMgb3IgMCkKICByZXR1cm4gbWF0aC5mbG9vcihudW0gKiBtdWx0ICsgMC41KSAvIG11bHQKZW5kCgpmdW5jdGlvbiBVdGlsczpwaW5nQW5kU2VhcmNoRGV2aWNlcyhyZWRuZXRDbGllbnQsIHR5cGUsIGF0dGVtcHRzKQogIGF0dGVtcHRzID0gYXR0ZW1wdHMgb3IgMTUKICBsb2NhbCBjb3VudGVyID0gMQogIGxvY2FsIGJhZENvdW50ZXIgPSAwCiAgbG9jYWwgb3V0ID0ge30KCiAgcHJpbnQoIiIpCiAgVXRpbHMucHJpbnRDb2xvcmVkU3RyaW5nKCJTZWFyY2hpbmcgIiAuLiB0eXBlIC4uICJzLi4uIiwgY29sb3JzLmJsdWUpCiAgcHJpbnQoIiIpCgogIHdoaWxlIHRydWUgZG8KICAgIGlkLG1lc3NhZ2UgPSByZWRuZXRDbGllbnQ6cmVjZWl2ZSgicGluZyIsIHR5cGUsIDUpCgogICAgaWYgbWVzc2FnZSA9PSBuaWwgdGhlbgogICAgICB0ZXJtLndyaXRlKCItIikKICAgICAgYmFkQ291bnRlciA9IGJhZENvdW50ZXIgKyAxCiAgICBlbHNlCiAgICAgIG91dFttZXNzYWdlXSA9IG1lc3NhZ2UKICAgICAgdGVybS53cml0ZSgiLiIpCiAgICAgIGlmIGNvdW50ZXIgJSAyNiA9PSAwIHRoZW4KICAgICAgICBwcmludCgiIikKICAgICAgZW5kCiAgICAgIGNvdW50ZXIgPSBjb3VudGVyICsgMQogICAgZW5kCgogICAgaWYgY291bnRlciA+IGF0dGVtcHRzIG9yIGJhZENvdW50ZXIgPiA2IHRoZW4KICAgICAgbG9jYWwgY291bnQgPSBVdGlscy5nZXRUYWJsZUNvdW50KG91dCkKICAgICAgcHJpbnQoIiIpCiAgICAgIHByaW50KCIiKQogICAgICBpZiBiYWRDb3VudGVyID4gNSBhbmQgY291bnQgPT0gMCB0aGVuCiAgICAgICAgVXRpbHMucHJpbnRDb2xvcmVkU3RyaW5nKCJObyAiIC4uIHR5cGUgLi4gIiBmb3VuZCIsIGNvbG9ycy5yZWQpCiAgICAgIGVsc2UKICAgICAgICBVdGlscy5wcmludENvbG9yZWRTdHJpbmcoIkZvdW5kICIgLi4gY291bnQgLi4gIiAiIC4uIHR5cGUgLi4gInMiLCBjb2xvcnMuZ3JlZW4pCiAgICAgICAgZm9yIF8sc3RvcmFnZSBpbiBwYWlycyhvdXQpIGRvCiAgICAgICAgICBwcmludCgiIC0gIiAuLiBzdG9yYWdlKQogICAgICAgIGVuZAogICAgICBlbmQKICAgICAgYnJlYWsKICAgIGVuZAogIGVuZAplbmQKCmZ1bmN0aW9uIFV0aWxzLnByaW50T25PZmYobW9uaXRvciwgdmFsdWUpCiAgaWYgdmFsdWUgdGhlbgogICAgaW5wdXQgPSAiT04iCiAgICBjb2xvciA9ICJkIgogIGVsc2UKICAgIGlucHV0ID0gIk9GRiIKICAgIGNvbG9yID0gImUiCiAgZW5kCgogIG1vbml0b3I6d3JpdGUoaW5wdXQsIGNvbG9yKQplbmQKCnJldHVybiBVdGlscwo=
library/generators/FluidGenerator.lua
ZG9maWxlKCJsaWJyYXJ5L0ZsdWlkVGFuay5sdWEiKQoKRmx1aWRHZW5lcmF0b3IgPSB7fQpGbHVpZEdlbmVyYXRvci5fX2luZGV4ID0gRmx1aWRHZW5lcmF0b3IKCmZ1bmN0aW9uIEZsdWlkR2VuZXJhdG9yOmNyZWF0ZShmbHVpZEdlbmVyYXRvciwgZGVmYXVsdEZsdWlkKQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmouZ2VuZXJhdG9yID0gZmx1aWRHZW5lcmF0b3IKICBvYmoudGFuayA9IEZsdWlkVGFuazpjcmVhdGUoZmx1aWRHZW5lcmF0b3IpCiAgb2JqLmZsdWlkID0gZGVmYXVsdEZsdWlkCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEZsdWlkR2VuZXJhdG9yOmdldE9mZmVyZWRFbmVyZ3koKQogIHJldHVybiBzZWxmLnRhbms6Z2V0QW1vdW50KCkgPiAwIGFuZCBzZWxmOmdldEZsdWlkKClbImVuZXJneSJdIG9yIDAKZW5kCgpmdW5jdGlvbiBGbHVpZEdlbmVyYXRvcjpnZXRUYW5rKCkKICByZXR1cm4gc2VsZi50YW5rCmVuZAoKZnVuY3Rpb24gRmx1aWRHZW5lcmF0b3I6Z2V0QW1vdW50KCkKICByZXR1cm4gc2VsZi50YW5rOmdldEFtb3VudCgxKQplbmQKCmZ1bmN0aW9uIEZsdWlkR2VuZXJhdG9yOmdldEZsdWlkKCkKICByZXR1cm4gc2VsZi50YW5rOmdldEZsdWlkKDEsIHNlbGYuZmx1aWQpCmVuZAoKcmV0dXJuIEZsdWlkR2VuZXJhdG9yCg==
library/ReactorMonitor.lua
ZG9maWxlKCJsaWJyYXJ5L3JlbmRlcmluZy9Nb25pdG9yQnV0dG9uLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvQ2hhcnRJdGVtLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0Lmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvUmVuZGVySGVscGVyLmx1YSIpCmRvZmlsZSgibGlicmFyeS9oYW5kbGVycy9Db21tYW5kSGFuZGxlci5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvRmx1aWQubHVhIikKZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpSZWFjdG9yTW9uaXRvciA9IHt9ClJlYWN0b3JNb25pdG9yLl9faW5kZXggPSBSZWFjdG9yTW9uaXRvcgoKZnVuY3Rpb24gUmVhY3Rvck1vbml0b3I6Y3JlYXRlKG5hbWUsIHJlYWN0b3JOYW1lLCBtb25pdG9yLCByZWRuZXRDbGllbnQsIGVudikKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLnJlYWN0b3JOYW1lID0gcmVhY3Rvck5hbWUKICBvYmoubW9uaXRvciA9IG1vbml0b3IKICBvYmoucmVkbmV0Q2xpZW50ID0gcmVkbmV0Q2xpZW50CiAgb2JqLmVudiA9IGVudgogIG9iai5lbmFibGVkID0gdHJ1ZQogIG9iai54ID0gMgogIG9iai55ID0gNwogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBSZWFjdG9yTW9uaXRvcjpydW4oKQogIGxvY2FsIG5ld1RhYklEID0gc2VsZi5lbnYubXVsdGlzaGVsbC5sYXVuY2goCiAgICBzZWxmLmVudiwKICAgICJydW4tY29tbWFuZC1saXN0ZW5lci5sdWEiLAogICAgc2VsZi5uYW1lLAogICAgc2VsZi5yZWRuZXRDbGllbnQ6Z2V0U2lkZSgpCiAgKQogIHNlbGYuZW52Lm11bHRpc2hlbGwuc2V0VGl0bGUobmV3VGFiSUQsICJDb21tYW5kTGlzdGVuZXIiKQoKICBsb2NhbCBoYW5kbGVyID0gQ29tbWFuZEhhbmRsZXI6Y3JlYXRlKCkKCiAgd2hpbGUgdHJ1ZQogIGRvCiAgICBDb21tYW5kTGlzdGVuZXIudHJ5SGFuZGxlKGhhbmRsZXIpCiAgICBoYW5kbGVyOnJlc2V0KCkKCiAgICBpZCxtZXNzYWdlID0gc2VsZi5yZWRuZXRDbGllbnQ6cmVjZWl2ZShzZWxmLnJlYWN0b3JOYW1lLCAic3RhdHVzIikKCiAgICBsb2NhbCBkYXRhID0gdGV4dHV0aWxzLnVuc2VyaWFsaXplKG1lc3NhZ2UpCgogICAgbG9jYWwgaGVhdCA9IGRhdGFbImhlYXQiXQogICAgbG9jYWwgYWN0aXZlID0gZGF0YVsiYWN0aXZlIl0KICAgIGxvY2FsIG1heEhlYXQgPSBkYXRhWyJtYXhIZWF0Il0KICAgIGxvY2FsIG91dHB1dCA9IGRhdGFbIm91dHB1dCJdCiAgICBsb2NhbCBjcml0aWNhbFN0YXRlID0gZGF0YVsiY3JpdGljYWxTdGF0ZSJdCiAgICBsb2NhbCB0eXBlID0gZGF0YVsidHlwZSJdCiAgICBsb2NhbCBtYXhPdXRwdXQgPSAzNjAKICAgIGxvY2FsIGZ1ZWwgPSBkYXRhWyJmdWVsIl0KCiAgICBzZWxmLm1vbml0b3I6Y2xlYXIoKQoKICAgIHNlbGYubW9uaXRvcjpzZXRUZXh0U2NhbGUoLjUpCgogICAgLS0gRklFTERTRVQKICAgIGxvY2FsIGZpZWxkc2V0ID0gTW9uaXRvckZpZWxkc2V0OmNyZWF0ZShzZWxmLm1vbml0b3IpCgogICAgZmllbGRzZXQ6d3JpdGUoIk51Y2xlYXIgcmVhY3RvcjogIiAuLiBzZWxmLm5hbWUsIDIsIDIsIDI3LCAxOSkKCiAgICBmaWVsZHNldDp3cml0ZSgiRlVFTCBJTkZPIiwgc2VsZi54LCBzZWxmLnkgKyAxNiwgMjcsIDE0KQoKICAgIGZpZWxkc2V0OndyaXRlKCJOVU1CRVJTIiwgc2VsZi54ICsgMjgsIHNlbGYueSArIDE3LCAyNywgMTMpCgogICAgZmllbGRzZXQ6d3JpdGUoIkNPTlRST0xTIiwgc2VsZi54ICsgMjgsIDIsIDI3LCA2KQoKICAgIGZpZWxkc2V0OndyaXRlKCJDT09MQU5UIiwgc2VsZi54ICsgMjgsIDEwLCAyNywgMTIpCgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlN0YXR1cyIsICIwIiwgImYiLCA0LCA0KQoKICAgIGxvY2FsIGJ1dHRvbiA9IE1vbml0b3JCdXR0b246Y3JlYXRlKHNlbGYubW9uaXRvcikKCiAgICB0ZXh0Q29sb3IsIGJhY2tncm91bmRDb2xvciA9IHNlbGY6Z2V0U3RhdHVzQ29sb3JzKGFjdGl2ZSwgb3V0cHV0LCBtYXhPdXRwdXQsIGRhdGEpCiAgICBidXR0b246c2V0Q29sb3IodGV4dENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IpCiAgICBidXR0b246d3JpdGUoZGF0YVsic3RhdHVzIl0sIDQsIDQsIDIzKQoKICAgIGxvY2FsIGNoYXJ0SXRlbSA9IENoYXJ0SXRlbTpjcmVhdGUoc2VsZi5tb25pdG9yLCAiaG9yaXpvbnRhbCIsIDIzLCAwLCBtYXhIZWF0KQogICAgc2VsZjppbnNlcnRDaGFydChzZWxmLnggKyAyLCBzZWxmLnkgKyAyLCAiSGVhdCIsIGhlYXQsIG1heEhlYXQsICJlIikKCiAgICBsb2NhbCBjb2xvciA9IFJlbmRlckhlbHBlci5nZXRDb2xvckJ5UGVyY2VudChvdXRwdXQgLyBtYXhPdXRwdXQgKiAxMDApCiAgICBzZWxmOmluc2VydENoYXJ0KHNlbGYueCArIDIsIHNlbGYueSArIDYsICJQb3dlciIsIG91dHB1dCwgbWF4T3V0cHV0LCBjb2xvcikKCiAgICBsb2NhbCBjaGFydEl0ZW0gPSBDaGFydEl0ZW06Y3JlYXRlKHNlbGYubW9uaXRvciwgInZlcnRpY2FsIiwgOSwgMCwgMjAwMDApCiAgICBjaGFydEl0ZW06c2V0U2l6ZSgzKQoKICAgIGxvY2FsIG1heEZ1ZWwgPSAwCiAgICBsb2NhbCBjdXJyZW50RnVlbCA9IDAKICAgIGxvY2FsIGNvdW50ZXIgPSAxCiAgICBmb3IgaSA9IHNlbGYueCArIDIsIHNlbGYueCArIDIyLCA0IGRvCiAgICAgIGxvY2FsIGZ1ZWxSb2QgPSBmdWVsW2NvdW50ZXJdCgogICAgICBsb2NhbCB2YWx1ZSA9IGZ1ZWxSb2QgYW5kIGZ1ZWxSb2RbInJlbWFpbmluZyJdIG9yIDAKICAgICAgaWYgZnVlbFJvZCA9PSBuaWwgb3IgZnVlbFJvZFsiZGVwbGV0ZWQiXSB0aGVuCiAgICAgICAgdmFsdWUgPSAwCiAgICAgIGVuZAoKICAgICAgY3VycmVudEZ1ZWwgPSBjdXJyZW50RnVlbCArIHZhbHVlCiAgICAgIGxvY2FsIG1heERhbWFnZSA9IChmdWVsUm9kIGFuZCBmdWVsUm9kWyJtYXhEYW1hZ2UiXSBvciAyMDAwMCkKICAgICAgbWF4RnVlbCA9IG1heEZ1ZWwgKyBtYXhEYW1hZ2UKCiAgICAgIGxvY2FsIHBlcmNlbnQgPSB2YWx1ZSAvIG1heERhbWFnZSAqIDEwMAogICAgICBsb2NhbCBjb2xvciA9IGZ1ZWxSb2QgPT0gbmlsIGFuZCAiYiIgb3IgUmVuZGVySGVscGVyLmdldENvbG9yQnlQZXJjZW50KHBlcmNlbnQpCgogICAgICBjaGFydEl0ZW06c2V0Q29sb3IoUmVuZGVySGVscGVyLmdldENvbG9yQnlQZXJjZW50KHBlcmNlbnQpKQoKICAgICAgY2hhcnRJdGVtOndyaXRlKHZhbHVlLCBpLCBzZWxmLnkgKyAxNykKICAgICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlsiIC4uIGNvdW50ZXIgLi4gIl0iLCAiMCIsICJmIiwgaSwgc2VsZi55ICsgMjgpCgogICAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiWyIgLi4gY291bnRlciAuLiAiXSIsICIwIiwgImYiLCBzZWxmLnggKyAzMCwgc2VsZi55ICsgMjIgKyBjb3VudGVyKQoKICAgICAgbG9jYWwgcyA9ICItLSIKICAgICAgaWYgZnVlbFJvZCB+PSBuaWwgdGhlbgogICAgICAgIHMgPSBVdGlscy5yb3VuZChwZXJjZW50KSAuLiAiJSIKICAgICAgZW5kCiAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCA0KSAuLiBzLCBjb2xvciwgImYiLCBzZWxmLnggKyAzNywgc2VsZi55ICsgMjIgKyBjb3VudGVyKQoKICAgICAgbG9jYWwgcyA9ICIoIiAuLiB2YWx1ZSAuLiAiKSIKICAgICAgaWYgZnVlbFJvZCA9PSBuaWwgdGhlbgogICAgICAgIHMgPSAiRU1QVFkgU0xPVCIKICAgICAgZWxzZWlmIGZ1ZWxSb2RbImRlcGxldGVkIl0gdGhlbgogICAgICAgIHMgPSAiREVQTEVURUQiCiAgICAgIGVuZAoKICAgICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDEwKSAuLiBzLCBjb2xvciwgImYiLCBzZWxmLnggKyA0Mywgc2VsZi55ICsgMjIgKyBjb3VudGVyKQoKICAgICAgY291bnRlciA9IGNvdW50ZXIgKyAxCiAgICBlbmQKCiAgICBsb2NhbCBjb2xvciA9IFJlbmRlckhlbHBlci5nZXRDb2xvckJ5UGVyY2VudChjdXJyZW50RnVlbCAvIG1heEZ1ZWwgKiAxMDApCiAgICBzZWxmOmluc2VydENoYXJ0KHNlbGYueCArIDIsIHNlbGYueSArIDEwLCAiRnVlbCIsIGN1cnJlbnRGdWVsLCBtYXhGdWVsLCBjb2xvcikKCiAgICBpZiBkYXRhWyJjcml0aWNhbFN0YXRlIl0gPT0gbmlsIHRoZW4KICAgICAgbG9jYWwgYnV0dG9uID0gTW9uaXRvckJ1dHRvbjpjcmVhdGUoc2VsZi5tb25pdG9yKQogICAgICBidXR0b246c2V0Q29sb3IoIjAiLCAiYSIpCiAgICAgIGJ1dHRvbjp3cml0ZShhY3RpdmUgYW5kICJPRkYiIG9yICJPTiIsIHNlbGYueCArIDMzLCAzLCAxNykKICAgICAgYnV0dG9uOnNldEhhbmRsZXIoaGFuZGxlciwgZnVuY3Rpb24ocGFyYW1ldGVycykKICAgICAgICBpZiBhY3RpdmUgdGhlbgogICAgICAgICAgc2VsZi5yZWRuZXRDbGllbnQ6Y2FsbENvbW1hbmQoc2VsZi5yZWFjdG9yTmFtZSwgImRpc2FibGUiKQogICAgICAgIGVsc2UKICAgICAgICAgIHNlbGYucmVkbmV0Q2xpZW50OmNhbGxDb21tYW5kKHNlbGYucmVhY3Rvck5hbWUsICJlbmFibGUiKQogICAgICAgIGVuZAogICAgICBlbmQpCiAgICBlbHNlCiAgICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJGaXJzdCByZXNvbHZlIHByb2JsZW0iLCAiZSIsICJmIiwgc2VsZi54ICsgMzEsIDUpCiAgICBlbmQKCiAgICBzZWxmOndyaXRlRmx1aWRJbmZvKHR5cGUsIGRhdGEpCgogICAgcyA9IG91dHB1dCAuLiAiIC8gIiAuLiBtYXhPdXRwdXQgLi4gIiBFVS90IgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIk91dHB1dDoiLCAiMCIsICJmIiwgMzIsIDI2KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE1KSAuLiBzLCAiMCIsICJmIiwgNDAsIDI2KQoKICAgIHMgPSBoZWF0IC4uICIgLyAiIC4uIFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKG1heEhlYXQpIC4uICIgSFUiCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiSGVhdDoiLCAiMCIsICJmIiwgMzIsIDI3KQogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDE1KSAuLiBzLCAiMCIsICJmIiwgNDAsIDI3KQoKICAgIHMgPSBVdGlscy5nZXRSZWFkYWJsZU51bWJlcihjdXJyZW50RnVlbCkgLi4gIiAvICIgLi4gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIobWF4RnVlbCkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJGdWVsOiIsICIwIiwgImYiLCAzMiwgMjkpCiAgICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbihSZW5kZXJIZWxwZXIuZ2V0Q2hhcmFjdGVyVG8ocywgMTUpIC4uIHMsICIwIiwgImYiLCA0MCwgMjkpCgogICAgc2VsZi5tb25pdG9yOnB1c2goKQogICAgc2xlZXAoMSkKICBlbmQKZW5kCgpmdW5jdGlvbiBSZWFjdG9yTW9uaXRvcjpnZXRTdGF0dXNDb2xvcnMoYWN0aXZlLCBvdXRwdXQsIG1heE91dHB1dCwgZGF0YSkKICBsb2NhbCBoYXNNYXggPSBhY3RpdmUgYW5kIG91dHB1dCA9PSBtYXhPdXRwdXQKICBsb2NhbCBsaWdodFRleHQgPSBvdXRwdXQgPT0gbWF4T3V0cHV0IG9yIG5vdCBhY3RpdmUKCiAgdGV4dENvbG9yID0gImYiCiAgaWYgbGlnaHRUZXh0IHRoZW4KICAgIHRleHRDb2xvciA9ICIwIgogIGVuZAoKICBiYWNrZ3JvdW5kQ29sb3IgPSAiZSIKICBpZiBoYXNNYXggdGhlbgogICAgYmFja2dyb3VuZENvbG9yID0gImQiCiAgZWxzZWlmIGFjdGl2ZSB0aGVuCiAgICBiYWNrZ3JvdW5kQ29sb3IgPSAiMSIKICBlbmQKCiAgcmV0dXJuIHRleHRDb2xvciwgYmFja2dyb3VuZENvbG9yCmVuZAoKZnVuY3Rpb24gUmVhY3Rvck1vbml0b3I6d3JpdGVGbHVpZEluZm8odHlwZSwgZGF0YSkKICBpZiB0eXBlIH49ICJmbHVpZCIgdGhlbgogICAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkF2YWlsYWJsZSBvbmx5IG9uIiwgIjAiLCAiZiIsIDM1LCAxNSkKICAgIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJmbHVpZCByZWFjdG9yIiwgIjAiLCAiZiIsIDM3LCAxNikKICAgIHJldHVybgogIGVuZAoKICBsb2NhbCBjb2xkQ2FwYWNpdHkgPSBkYXRhWyJjb29sYW50Il1bImNvbGQiXVsiY2FwYWNpdHkiXQogIGxvY2FsIGNvbGRBbW91bnQgPSBkYXRhWyJjb29sYW50Il1bImNvbGQiXVsiYW1vdW50Il0KCiAgcyA9IFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKGNvbGRBbW91bnQpIC4uICIgLyAiIC4uIFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKGNvbGRDYXBhY2l0eSkKICBzZWxmLm1vbml0b3I6d3JpdGVQb3NpdGlvbigiQ29sZDoiLCAiMCIsICJmIiwgMzIsIDEyKQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxNSkgLi4gcywgIjAiLCAiZiIsIDQwLCAxMikKCiAgc2VsZjppbnNlcnRGbHVpZENoYXJ0KEZsdWlkLnR5cGVzWyJpYzI6aWMyY29vbGFudCJdWyJjb2xvciJdLCBjb2xkQW1vdW50LCBjb2xkQ2FwYWNpdHksIDMyLCAxNCkKCiAgbG9jYWwgaG90Q2FwYWNpdHkgPSBkYXRhWyJjb29sYW50Il1bImhvdCJdWyJjYXBhY2l0eSJdCiAgbG9jYWwgaG90QW1vdW50ID0gZGF0YVsiY29vbGFudCJdWyJob3QiXVsiYW1vdW50Il0KCiAgcyA9IFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKGhvdEFtb3VudCkgLi4gIiAvICIgLi4gVXRpbHMuZ2V0UmVhZGFibGVOdW1iZXIoaG90Q2FwYWNpdHkpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkhvdDoiLCAiMCIsICJmIiwgMzIsIDEzKQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKFJlbmRlckhlbHBlci5nZXRDaGFyYWN0ZXJUbyhzLCAxNSkgLi4gcywgIjAiLCAiZiIsIDQwLCAxMykKCiAgc2VsZjppbnNlcnRGbHVpZENoYXJ0KEZsdWlkLnR5cGVzWyJpYzI6aWMyaG90X2Nvb2xhbnQiXVsiY29sb3IiXSwgaG90QW1vdW50LCBob3RDYXBhY2l0eSwgNDQsIDE0KQplbmQKCmZ1bmN0aW9uIFJlYWN0b3JNb25pdG9yOmluc2VydEZsdWlkQ2hhcnQoY29sb3IsIGFtb3VudCwgY2FwYWNpdHksIHgsIHkpCiAgbG9jYWwgY2hhcnRJdGVtID0gQ2hhcnRJdGVtOmNyZWF0ZShzZWxmLm1vbml0b3IsICJ2ZXJ0aWNhbCIsIDYsIDAsIGNhcGFjaXR5KQogIGNoYXJ0SXRlbTpzZXRTaG93UGVyY2VudCgpCiAgY2hhcnRJdGVtOnNldFNpemUoMTEpCiAgY2hhcnRJdGVtOnNldENvbG9yKGNvbG9yKQogIGNoYXJ0SXRlbTp3cml0ZShhbW91bnQsIHgsIHkpCmVuZAoKZnVuY3Rpb24gUmVhY3Rvck1vbml0b3I6aW5zZXJ0Q2hhcnQoeCwgeSwgbmFtZSwgY3VycmVudCwgbWF4LCBjb2xvcikKICBsb2NhbCBjaGFydEl0ZW0gPSBDaGFydEl0ZW06Y3JlYXRlKHNlbGYubW9uaXRvciwgImhvcml6b250YWwiLCAyMywgMCwgbWF4KQogIGNoYXJ0SXRlbTpzZXRTaXplKDIpCiAgY2hhcnRJdGVtOnNldENvbG9yKGNvbG9yKQogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKG5hbWUsICIwIiwgImYiLCB4LCB5KQoKICBzID0gVXRpbHMucm91bmQoY3VycmVudCAvIG1heCAqIDEwMCkgLi4gIiUiCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oUmVuZGVySGVscGVyLmdldENoYXJhY3RlclRvKHMsIDEwKSAuLiBzLCAiMCIsICJmIiwgeCArIDEzLCB5KQogIGNoYXJ0SXRlbTp3cml0ZShjdXJyZW50LCB4LCB5ICsgMSkKZW5kCgpyZXR1cm4gUmVhY3Rvck1vbml0b3IK
library/Generator.lua
R2VuZXJhdG9yID0ge30KR2VuZXJhdG9yLl9faW5kZXggPSBHZW5lcmF0b3IKCmZ1bmN0aW9uIEdlbmVyYXRvcjpjcmVhdGUoZ2VuZXJhdG9yKQogIGxvY2FsIG9iaiA9IHt9CiAgc2V0bWV0YXRhYmxlKG9iaiwgc2VsZikKICBvYmouZ2VuZXJhdG9yID0gZ2VuZXJhdG9yCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEdlbmVyYXRvcjpnZXRPZmZlcmVkRW5lcmd5KCkKICByZXR1cm4gc2VsZi5nZW5lcmF0b3IuZ2V0T2ZmZXJlZEVuZXJneSgpCmVuZAoKZnVuY3Rpb24gR2VuZXJhdG9yOmdldFRhbmsoKQogIHJldHVybiBuaWwKZW5kCgpyZXR1cm4gR2VuZXJhdG9yCg==
library/listeners/CommandListener.lua
ZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQpkb2ZpbGUoImxpYnJhcnkvVXRpbHMubHVhIikKCkNvbW1hbmRMaXN0ZW5lciA9IHt9CkNvbW1hbmRMaXN0ZW5lci5kaXJlY3RvcnkgPSAid2FpdGluZy1jb21tYW5kcyIKQ29tbWFuZExpc3RlbmVyLl9faW5kZXggPSBDb21tYW5kTGlzdGVuZXIKCmZ1bmN0aW9uIENvbW1hbmRMaXN0ZW5lcjpjcmVhdGUobmFtZSwgcmVkbmV0U2lkZSkKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLnJlZG5ldENsaWVudCA9IFJlZG5ldENsaWVudDpjcmVhdGUocmVkbmV0U2lkZSkKICBvYmouZGlyZWN0b3J5ID0gIiIKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gQ29tbWFuZExpc3RlbmVyOnRyaWdnZXIoZGV2aWNlLCBjb21tYW5kLCBwYXJhbWV0ZXJzKQogIHNlbGYucmVkbmV0Q2xpZW50OmNhbGxDb21tYW5kKGRldmljZSwgY29tbWFuZCwgcGFyYW1ldGVycykKZW5kCgpmdW5jdGlvbiBDb21tYW5kTGlzdGVuZXI6bGlzdGVuKCkKICB3aGlsZSB0cnVlIGRvCiAgICBpZCxtZXNzYWdlLGEsYiA9IHNlbGYucmVkbmV0Q2xpZW50OnJlY2VpdmVDb21tYW5kKHNlbGYubmFtZSkKCiAgICBpZiBub3QgZnMuZXhpc3RzKENvbW1hbmRMaXN0ZW5lci5kaXJlY3RvcnkpIHRoZW4KICAgICAgZnMubWFrZURpcihDb21tYW5kTGlzdGVuZXIuZGlyZWN0b3J5KQogICAgZW5kCgogICAgbG9jYWwgZmlsZSA9IG9zLmRheSgpIC4uICItIiAuLiBvcy50aW1lKCkgLi4gVXRpbHMucmFuZG9tKDYpCgogICAgaCA9IGZzLm9wZW4oQ29tbWFuZExpc3RlbmVyLmRpcmVjdG9yeSAuLiAiLyIgLi4gZmlsZSwgInciKQogICAgaC53cml0ZShtZXNzYWdlKQogICAgaC5jbG9zZSgpCiAgZW5kCmVuZAoKZnVuY3Rpb24gQ29tbWFuZExpc3RlbmVyLnRyeUhhbmRsZShoYW5kbGVyKQogIGlmIG5vdCBmcy5leGlzdHMoQ29tbWFuZExpc3RlbmVyLmRpcmVjdG9yeSkgdGhlbgogICAgcmV0dXJuCiAgZW5kCgogIGZvciBfLGZpbGUgaW4gcGFpcnMoZnMubGlzdChDb21tYW5kTGlzdGVuZXIuZGlyZWN0b3J5KSkgZG8KICAgIGxvY2FsIHBhdGggPSBDb21tYW5kTGlzdGVuZXIuZGlyZWN0b3J5IC4uICIvIiAuLiBmaWxlCgogICAgaCA9IGZzLm9wZW4ocGF0aCwgInIiKQoKICAgIGxvY2FsIGRhdGEgPSB0ZXh0dXRpbHMudW5zZXJpYWxpemUoaC5yZWFkQWxsKCkpCiAgICBoLmNsb3NlKCkKCiAgICBmcy5kZWxldGUocGF0aCkKCiAgICBoYW5kbGVyOmhhbmRsZShkYXRhWyJjb21tYW5kIl0sIGRhdGFbInBhcmFtZXRlcnMiXSkKICBlbmQKZW5kCgpyZXR1cm4gQ29tbWFuZExpc3RlbmVyCg==
library/listeners/MonitorTouchListener.lua
ZG9maWxlKCJsaWJyYXJ5L1JlZG5ldENsaWVudC5sdWEiKQoKTW9uaXRvclRvdWNoTGlzdGVuZXIgPSB7fQpNb25pdG9yVG91Y2hMaXN0ZW5lci5fX2luZGV4ID0gTW9uaXRvclRvdWNoTGlzdGVuZXIKCmZ1bmN0aW9uIE1vbml0b3JUb3VjaExpc3RlbmVyOmNyZWF0ZShuYW1lLCBtb25pdG9ycywgcmVkbmV0U2lkZSkKICBsb2NhbCBvYmogPSB7fQogIHNldG1ldGF0YWJsZShvYmosIHNlbGYpCiAgb2JqLm5hbWUgPSBuYW1lCiAgb2JqLm1vbml0b3JzID0gbW9uaXRvcnMKICBvYmoucmVkbmV0U2lkZSA9IHJlZG5ldFNpZGUKICBvYmoucmVkbmV0Q2xpZW50ID0gUmVkbmV0Q2xpZW50OmNyZWF0ZShyZWRuZXRTaWRlKQogIHJldHVybiBvYmoKZW5kCgpmdW5jdGlvbiBNb25pdG9yVG91Y2hMaXN0ZW5lci5mcm9tQXJyYXkoZGF0YSkKICByZXR1cm4gTW9uaXRvclRvdWNoTGlzdGVuZXI6Y3JlYXRlKGRhdGFbIm5hbWUiXSwgZGF0YVsibW9uaXRvcnMiXSwgZGF0YVsicmVkbmV0U2lkZSJdKQplbmQKCmZ1bmN0aW9uIE1vbml0b3JUb3VjaExpc3RlbmVyOnRyaWdnZXIobW9uaXRvciwgeCwgeSkKICBsb2NhbCByZW1vdGVOYW1lID0gc2VsZi5tb25pdG9yc1ttb25pdG9yXQoKICBzZWxmLnJlZG5ldENsaWVudDpjYWxsQ29tbWFuZChyZW1vdGVOYW1lLCAibW9uaXRvci10b3VjaCIsIHsKICAgIG5hbWUgPSBzZWxmLm5hbWUsCiAgICB4ID0geCwKICAgIHkgPSB5CiAgfSkKZW5kCgpmdW5jdGlvbiBNb25pdG9yVG91Y2hMaXN0ZW5lcjpnZXRFdmVudCgpCiAgcmV0dXJuICJtb25pdG9yX3RvdWNoIgplbmQKCgpmdW5jdGlvbiBNb25pdG9yVG91Y2hMaXN0ZW5lcjp0b1N0cmluZygpCiAgcmV0dXJuIHRleHR1dGlscy5zZXJpYWxpemUoewogICAgdHlwZSA9ICJNb25pdG9yVG91Y2hMaXN0ZW5lciIsCiAgICBuYW1lID0gc2VsZi5uYW1lLAogICAgbW9uaXRvcnMgPSBzZWxmLm1vbml0b3JzLAogICAgcmVkbmV0U2lkZSA9IHNlbGYucmVkbmV0U2lkZQogIH0pCmVuZAoKcmV0dXJuIE1vbml0b3JUb3VjaExpc3RlbmVyCg==
library/handlers/CommandHandler.lua
Q29tbWFuZEhhbmRsZXIgPSB7fQpDb21tYW5kSGFuZGxlci5fX2luZGV4ID0gQ29tbWFuZEhhbmRsZXIKCmZ1bmN0aW9uIENvbW1hbmRIYW5kbGVyOmNyZWF0ZSgpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5kaXJlY3RvcnkgPSAid2FpdGluZy1jb21tYW5kcyIKICBvYmouaGFuZGxlcnMgPSB7fQogIG9iai5kZWZhdWx0SGhhbmRsZXIgPSBuaWwKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gQ29tbWFuZEhhbmRsZXI6c2V0RGVmYXVsdEhhbmRsZXIoaGFuZGxlcikKICBzZWxmLmRlZmF1bHRIaGFuZGxlciA9IGhhbmRsZXIKZW5kCgpmdW5jdGlvbiBDb21tYW5kSGFuZGxlcjphZGRIYW5kbGVyKGNvbW1hbmQsIGhhbmRsZXIpCiAgaWYgc2VsZi5oYW5kbGVyc1tjb21tYW5kXSA9PSBuaWwgdGhlbgogICAgc2VsZi5oYW5kbGVyc1tjb21tYW5kXSA9IHt9CiAgZW5kCgogIHRhYmxlLmluc2VydChzZWxmLmhhbmRsZXJzW2NvbW1hbmRdLCBoYW5kbGVyKQplbmQKCmZ1bmN0aW9uIENvbW1hbmRIYW5kbGVyOmhhbmRsZShjb21tYW5kLCBwYXJhbWV0ZXJzKQogIGlmIHNlbGYuaGFuZGxlcnNbY29tbWFuZF0gfj0gbmlsIHRoZW4KICAgIGZvciBrZXksaGFuZGxlciBpbiBwYWlycyhzZWxmLmhhbmRsZXJzW2NvbW1hbmRdKSBkbwogICAgICBoYW5kbGVyOmhhbmRsZShjb21tYW5kLCBwYXJhbWV0ZXJzKQogICAgZW5kCiAgZWxzZWlmIHNlbGYuZGVmYXVsdEhoYW5kbGVyIH49IG5pbCB0aGVuCiAgICBzZWxmLmRlZmF1bHRIaGFuZGxlcjpoYW5kbGUoY29tbWFuZCwgcGFyYW1ldGVycykKICBlbmQKZW5kCgpmdW5jdGlvbiBDb21tYW5kSGFuZGxlcjpyZXNldCgpCiAgc2VsZi5oYW5kbGVycyA9IHt9CiAgc2VsZi5kZWZhdWx0SGhhbmRsZXIgPSBuaWwKZW5kCgpyZXR1cm4gQ29tbWFuZEhhbmRsZXIK
library/ElectroMeter.lua
ZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCmRvZmlsZSgibGlicmFyeS9yZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0Lmx1YSIpCgpFbGVjdHJvTWV0ZXIgPSB7fQpFbGVjdHJvTWV0ZXIuX19pbmRleCA9IEVsZWN0cm9NZXRlcgoKRWxlY3Ryb01ldGVyLnBvc2l0aW9ucyA9IHsKICBpbnB1dCA9IDQsCiAgcmVhZGluZyA9IDUsCiAgZW5hYmxlT3V0cHV0ID0gNiwKICBvdXRwdXQgPSA3LAogIGVuYWJsZUlucHV0ID0gOAp9CgpmdW5jdGlvbiBFbGVjdHJvTWV0ZXI6Y3JlYXRlKG5hbWUsIG1vbml0b3IsIHN0b3JhZ2UsIGlucHV0SW50ZWdyYXRvciwgb3V0cHV0SW50ZWdyYXRvciwgYXV0b01vZGUpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai5uYW1lID0gbmFtZQogIG9iai5tb25pdG9yID0gbW9uaXRvcgogIG9iai5zdG9yYWdlID0gc3RvcmFnZQogIG9iai5pbnB1dEludGVncmF0b3IgPSBpbnB1dEludGVncmF0b3IKICBvYmoub3V0cHV0SW50ZWdyYXRvciA9IG91dHB1dEludGVncmF0b3IKICBvYmoubG9nRmlsZSA9ICJtZXR0ZXIubG9nIgogIG9iai5hdXRvTW9kZSA9IGF1dG9Nb2RlIG9yIGZhbHNlCiAgb2JqLm1vZGUgPSAiZW5hYmxlSW5wdXQiCiAgb2JqLmN1cnJlbnQgPSAwCiAgb2JqLmxhc3RTdG9yZWQgPSAwCiAgcmV0dXJuIG9iagplbmQKCmZ1bmN0aW9uIEVsZWN0cm9NZXRlcjpydW4oKQogIGxvY2FsIGxhc3RJbnB1dEVuYWJsZWQgPSBmYWxzZQoKICBzZWxmLm91dHB1dEludGVncmF0b3I6ZW5hYmxlKCkKICBzZWxmLmlucHV0SW50ZWdyYXRvcjplbmFibGUoKQoKICBzZWxmOnJlZnJlc2hTdGF0dXMoKQoKICB3aGlsZSB0cnVlCiAgZG8KICAgIHNlbGYubW9uaXRvcjpzZXRUZXh0U2NhbGUoLjUpCgogICAgaWYgc2VsZi5tb2RlID09ICJpbnB1dCIgdGhlbgogICAgICBpZiBub3Qgc2VsZi5hdXRvTW9kZSB0aGVuCiAgICAgICAgaWQsbWVzc2FnZSA9IHJlZG5ldC5yZWNlaXZlKHNlbGYubmFtZSwgMykKICAgICAgZWxzZQogICAgICAgIG1lc3NhZ2UgPSAiZGlzYWJsZUlucHV0IgogICAgICBlbmQKCiAgICAgIGlmIG1lc3NhZ2UgPT0gImRpc2FibGVJbnB1dCIgdGhlbgogICAgICAgIHNlbGYuaW5wdXRJbnRlZ3JhdG9yOmVuYWJsZSgpCiAgICAgICAgc2VsZi5tb2RlID0gInJlYWRpbmciCiAgICAgIGVuZAoKICAgIGVsc2VpZiBzZWxmLm1vZGUgPT0gIm91dHB1dCIgdGhlbgogICAgICBpZiBub3Qgc2VsZi5hdXRvTW9kZSB0aGVuCiAgICAgICAgaWQsbWVzc2FnZSA9IHJlZG5ldC5yZWNlaXZlKHNlbGYubmFtZSwgMykKICAgICAgZWxzZQogICAgICAgIG1lc3NhZ2UgPSAiZGlzYWJsZU91dHB1dCIKICAgICAgZW5kCgogICAgICBpZiBtZXNzYWdlID09ICJkaXNhYmxlT3V0cHV0IiB0aGVuCiAgICAgICAgc2VsZi5vdXRwdXRJbnRlZ3JhdG9yOmVuYWJsZSgpCiAgICAgICAgc2VsZi5tb2RlID0gImVuYWJsZUlucHV0IgogICAgICAgIHNlbGYubGFzdFN0b3JlZCA9IDAKICAgICAgZW5kCiAgICBlbHNlaWYgc2VsZi5tb2RlID09ICJyZWFkaW5nIiB0aGVuCiAgICAgIGxvY2FsIGN1cnJlbnQgPSBzZWxmOnJlYWRGaWxlKCkKCiAgICAgIGggPSBmcy5vcGVuKHNlbGYubG9nRmlsZSwgInciKQoKICAgICAgc2VsZi5sYXN0U3RvcmVkID0gc2VsZi5zdG9yYWdlOmdldEVVU3RvcmVkKCkgLSBzZWxmLmN1cnJlbnQKCiAgICAgIHNlbGY6cmVmcmVzaFN0YXR1cygpCgogICAgICBoLndyaXRlKGN1cnJlbnQgKyBzZWxmLmxhc3RTdG9yZWQpCgogICAgICBoLmNsb3NlKCkKCiAgICAgIHNlbGYubW9kZSA9ICJlbmFibGVPdXRwdXQiCiAgICBlbHNlCiAgICAgIGlmIG5vdCBzZWxmLmF1dG9Nb2RlIHRoZW4KICAgICAgICBpZCxtZXNzYWdlID0gcmVkbmV0LnJlY2VpdmUoc2VsZi5uYW1lLCAzKQogICAgICBlbHNlaWYgbGFzdElucHV0RW5hYmxlZCB0aGVuCiAgICAgICAgbWVzc2FnZSA9ICJlbmFibGVPdXRwdXQiCiAgICAgIGVsc2UKICAgICAgICBtZXNzYWdlID0gImVuYWJsZUlucHV0IgogICAgICBlbmQKCiAgICAgIGlmIG1lc3NhZ2UgPT0gImVuYWJsZUlucHV0IiB0aGVuCiAgICAgICAgc2VsZi5vdXRwdXRJbnRlZ3JhdG9yOmVuYWJsZSgpCiAgICAgICAgc2VsZi5pbnB1dEludGVncmF0b3I6ZGlzYWJsZSgpCiAgICAgICAgc2VsZi5tb2RlID0gImlucHV0IgogICAgICAgIHNlbGYuY3VycmVudCA9IHNlbGYuc3RvcmFnZTpnZXRFVVN0b3JlZCgpCiAgICAgICAgbGFzdElucHV0RW5hYmxlZCA9IHRydWUKICAgICAgZWxzZWlmIG1lc3NhZ2UgPT0gImVuYWJsZU91dHB1dCIgdGhlbgogICAgICAgIHNlbGYub3V0cHV0SW50ZWdyYXRvcjpkaXNhYmxlKCkKICAgICAgICBzZWxmLmlucHV0SW50ZWdyYXRvcjplbmFibGUoKQogICAgICAgIHNlbGYubW9kZSA9ICJvdXRwdXQiCiAgICAgICAgbGFzdElucHV0RW5hYmxlZCA9IGZhbHNlCiAgICAgIGVuZAoKICAgICAgaWYgc2VsZi5hdXRvTW9kZSB0aGVuCiAgICAgICAgc2VsZjpyZWZyZXNoU3RhdHVzKCkKICAgICAgICBzbGVlcCgxMCkKICAgICAgZW5kCiAgICBlbmQKCiAgICBzZWxmOnJlZnJlc2hTdGF0dXMoKQoKICAgIHNsZWVwKDEpCiAgZW5kCmVuZAoKZnVuY3Rpb24gRWxlY3Ryb01ldGVyOnJlYWRGaWxlKCkKICBsb2NhbCBkZWZhdWx0ID0gMAogIGxvY2FsIGggPSBmcy5vcGVuKHNlbGYubG9nRmlsZSwgInIiKQogIGlmIGggfj0gbmlsIHRoZW4KICAgIGNvbnRlbnQgPSBoLnJlYWRBbGwoKQogICAgaWYgY29udGVudCA9PSBuaWwgb3IgVXRpbHMudHJpbShjb250ZW50KSA9PSAiIiB0aGVuCiAgICAgICAgcmV0dXJuIGRlZmF1bHQKICAgIGVuZAogICAgaC5jbG9zZSgpCiAgICByZXR1cm4gdG9udW1iZXIoY29udGVudCkKICBlbmQKICByZXR1cm4gdG9udW1iZXIoZGVmYXVsdCkKZW5kCgpmdW5jdGlvbiBFbGVjdHJvTWV0ZXI6dG9BcnJheSgpCiAgcmV0dXJuIHsKICAgIG1vZGUgPSBzZWxmLm1vZGUsCiAgICBpbnB1dCA9IG5vdCBzZWxmLmlucHV0SW50ZWdyYXRvcjppc0VuYWJsZWQoKSwKICAgIG91dHB1dCA9IG5vdCBzZWxmLm91dHB1dEludGVncmF0b3I6aXNFbmFibGVkKCkKICB9CmVuZAoKZnVuY3Rpb24gRWxlY3Ryb01ldGVyOnJlZnJlc2hTdGF0dXMoKQogIHNlbGYubW9uaXRvcjpjbGVhcigpCgogIHJlZG5ldC5icm9hZGNhc3QodGV4dHV0aWxzLnNlcmlhbGl6ZShzZWxmOnRvQXJyYXkoKSksIHNlbGYubmFtZSAuLiAiLXN0YXR1cyIpCgogIGxvY2FsIHZhbHVlID0gc2VsZjpyZWFkRmlsZSgpCgogIGxvY2FsIGZpZWxkc2V0ID0gTW9uaXRvckZpZWxkc2V0OmNyZWF0ZShzZWxmLm1vbml0b3IpCgogIGZpZWxkc2V0OndyaXRlKCJFVSBtZXR0ZXI6ICIgLi4gc2VsZi5uYW1lLCAyLCAyLCAzNCwgNykKCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIkVVOiAiIC4uIFV0aWxzLmdldFJlYWRhYmxlTnVtYmVyKHZhbHVlKSwgIjAiLCAiZiIsIDQsIDQpCgogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJMYXN0OiAiIC4uIHNlbGYubGFzdFN0b3JlZCAuLiAiIEVVIiwgIjAiLCAiZiIsIDQsIDUpCgogIHNlbGYubW9uaXRvcjp3cml0ZVBvc2l0aW9uKCJNb2RlOiAiIC4uIHNlbGYubW9kZSwgIjAiLCAiZiIsIDQsIDYpCgogIGxvY2FsIHBvc2l0aW9uID0gRWxlY3Ryb01ldGVyLnBvc2l0aW9uc1tzZWxmLm1vZGVdCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIi0+IiwgImIiLCAiZiIsIDI1LCBwb3NpdGlvbikKCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlsgKysgXSIsICIwIiwgcG9zaXRpb24gPT0gNCBhbmQgImIiIG9yICI4IiwgMjgsIDQpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIltyZWFkXSIsICIwIiwgcG9zaXRpb24gPT0gNSBhbmQgImIiIG9yICI3IiwgMjgsIDUpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlsgRU8gXSIsICIwIiwgcG9zaXRpb24gPT0gNiBhbmQgImIiIG9yICI4IiwgMjgsIDYpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlsgLS0gXSIsICIwIiwgcG9zaXRpb24gPT0gNyBhbmQgImIiIG9yICI3IiwgMjgsIDcpCiAgc2VsZi5tb25pdG9yOndyaXRlUG9zaXRpb24oIlsgRUkgXSIsICIwIiwgcG9zaXRpb24gPT0gOCBhbmQgImIiIG9yICI4IiwgMjgsIDgpCgogIHNlbGYubW9uaXRvcjpwdXNoKCkKZW5kCgpyZXR1cm4gRWxlY3Ryb01ldGVyCg==
library/FuelRod.lua
RnVlbFJvZCA9IHt9CkZ1ZWxSb2QuX19pbmRleCA9IEZ1ZWxSb2QKCkZ1ZWxSb2QudHlwZXMgPSB7fQpGdWVsUm9kLnR5cGVzWyJpYzI6cXVhZF91cmFuaXVtX2Z1ZWxfcm9kIl0gPSB7CiAgbmFtZSA9ICI0eCB1cmFuIGZ1ZWwgcm9kIgp9CkZ1ZWxSb2QudHlwZXNbImljMjpudWNsZWFyIl0gPSB7CiAgbmFtZSA9ICJkZXBsZXRlZCBmdWVsIgp9CgpmdW5jdGlvbiBGdWVsUm9kOmNyZWF0ZSh0eXBlLCBkYW1hZ2UpCiAgbG9jYWwgb2JqID0ge30KICBzZXRtZXRhdGFibGUob2JqLCBzZWxmKQogIG9iai50eXBlID0gdHlwZQogIG9iai5kYW1hZ2UgPSBkYW1hZ2UKICBvYmoubWF4RGFtYWdlID0gMjAwMDAKICByZXR1cm4gb2JqCmVuZAoKZnVuY3Rpb24gRnVlbFJvZDpnZXRUeXBlKCkKICByZXR1cm4gc2VsZi50eXBlCmVuZAoKZnVuY3Rpb24gRnVlbFJvZDppc0RlcGxldGVkKCkKICByZXR1cm4gc2VsZi50eXBlID09ICJpYzI6bnVjbGVhciIKZW5kCgpmdW5jdGlvbiBGdWVsUm9kOmdldERhbWFnZSgpCiAgcmV0dXJuIHNlbGYuZGFtYWdlCmVuZAoKZnVuY3Rpb24gRnVlbFJvZDpnZXRNYXhEYW1hZ2UoKQogIHJldHVybiBzZWxmLm1heERhbWFnZQplbmQKCmZ1bmN0aW9uIEZ1ZWxSb2Q6Z2V0RGFtYWdlUGVyY2VudCgpCiAgcmV0dXJuIHNlbGY6Z2V0RGFtYWdlKCkgLyBzZWxmOmdldE1heERhbWFnZSgpICogMTAwCmVuZAoKZnVuY3Rpb24gRnVlbFJvZDpnZXRSZW1haW5pbmcoKQogIHJldHVybiBzZWxmLm1heERhbWFnZSAtIHNlbGYuZGFtYWdlCmVuZAoKZnVuY3Rpb24gRnVlbFJvZDp0b0FycmF5KCkKICByZXR1cm4gewogICAgZGFtYWdlID0gc2VsZi5kYW1hZ2UsCiAgICByZW1haW5pbmcgPSBzZWxmLm1heERhbWFnZSAtIHNlbGYuZGFtYWdlLAogICAgbWF4RGFtYWdlID0gc2VsZi5tYXhEYW1hZ2UsCiAgICBkZXBsZXRlZCA9IHNlbGY6aXNEZXBsZXRlZCgpLAogICAgdHlwZSA9IHNlbGYudHlwZQogIH0KZW5kCgpyZXR1cm4gRnVlbFJvZAo=
packager-server.json
ewogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiRmlsZUxvYWRlciI6IFsiSnNvbkRlY29kZXIiXSwKICAgICJyZW5kZXJpbmcvTW9uaXRvckJ1dHRvbiI6IFsicmVuZGVyaW5nL01vbml0b3JMaW5lIiwgInJlbmRlcmluZy9SZW5kZXJIZWxwZXIiXSwKICAgICJyZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0IjogWyJyZW5kZXJpbmcvTW9uaXRvckxpbmUiXSwKICAgICJyZW5kZXJpbmcvQ2hhcnRJdGVtIjogWyJyZW5kZXJpbmcvTW9uaXRvckxpbmUiLCAicmVuZGVyaW5nL1JlbmRlckhlbHBlciIsICJVdGlscyJdLAogICAgImdlbmVyYXRvcnMvRmx1aWRHZW5lcmF0b3IiOiBbIkZsdWlkVGFuayJdLAogICAgInR1cnRsZS9UdXJ0bGUiOiBbInR1cnRsZS9UdXJ0bGVGdWVsIiwgInR1cnRsZS9UdXJ0bGVJbnZlbnRvcnkiLCAidHVydGxlL1R1cnRsZU1vdmVyIiwgInR1cnRsZS9UdXJ0bGVJbnNwZWN0b3IiLCAidHVydGxlL1R1cnRsZUhlbHBlciIsICJ0dXJ0bGUvVHVydGxlTG9nZ2VyIl0sCiAgICAiRmx1aWRUYW5rIjogWyJGbHVpZCJdCiAgfSwKICAicGFja2FnZXMiOiB7CiAgICAibWFuYWdlciI6IHsKICAgICAgImxpYnJhcnkiOiBbCiAgICAgICAgIm1hbmFnZXJQbHVnaW5zL1JlYWN0b3JQbHVnaW4iLAogICAgICAgICJtYW5hZ2VyUGx1Z2lucy9FdVN0b3JhZ2VQbHVnaW4iLAogICAgICAgICJtYW5hZ2VyUGx1Z2lucy9UdXJ0bGVQbHVnaW4iLAogICAgICAgICJSZWRuZXRDbGllbnQiLAogICAgICAgICJNYW5hZ2VyIiwKICAgICAgICAiVXRpbHMiCiAgICAgIF0sCiAgICAgICJiaW4iOiBbIm1hbmFnZXIiXQogICAgfSwKICAgICJtb25pdG9yIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAiTW9uaXRvciIsCiAgICAgICAgIk1vbml0b3JDb250cm9sIiwKICAgICAgICAiUmVkbmV0Q2xpZW50IiwKICAgICAgICAibGlzdGVuZXJzL01vbml0b3JUb3VjaExpc3RlbmVyIiwKICAgICAgICAiRmlsZUxvYWRlciIKICAgICAgXSwKICAgICAgInN0YXJ0dXAiOiAicnVuLW1vbml0b3IiLAogICAgICAiYmluIjogWyJydW4tZXZlbnQtbGlzdGVuZXIiXSwKICAgICAgImNvbmZpZyI6IFsibW9uaXRvci1jb25maWciXQogICAgfSwKICAgICJlbmVyZ3lTdG9yYWdlIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAiRW5lcmd5U3RvcmFnZSIsCiAgICAgICAgIlJlbW90ZU1vbml0b3IiLAogICAgICAgICJTdG9yYWdlQ29udHJvbCIsCiAgICAgICAgInJlbmRlcmluZy9DaGFydEl0ZW0iLAogICAgICAgICJyZW5kZXJpbmcvTW9uaXRvckZpZWxkc2V0IiwKICAgICAgICAiVXRpbHMiLAogICAgICAgICJGaWxlTG9hZGVyIgogICAgICBdLAogICAgICAic3RhcnR1cCI6ICJydW4tZW5lcmd5LXN0b3JhZ2UiLAogICAgICAiY29uZmlnIjogWyJlbmVyZ3ktc3RvcmFnZS1jb25maWciXQogICAgfSwKICAgICJlbmVyZ3lTdG9yYWdlR3JpZCI6IHsKICAgICAgImxpYnJhcnkiOiBbCiAgICAgICAgIkVuZXJneVN0b3JhZ2UiLAogICAgICAgICJGaWxlTG9hZGVyIiwKICAgICAgICAiUmVtb3RlTW9uaXRvciIsCiAgICAgICAgIlN0b3JhZ2VHcmlkQ29udHJvbCIsCiAgICAgICAgInJlbmRlcmluZy9DaGFydEl0ZW0iLAogICAgICAgICJyZW5kZXJpbmcvUmVuZGVySGVscGVyIiwKICAgICAgICAicmVuZGVyaW5nL01vbml0b3JGaWVsZHNldCIKICAgICAgXSwKICAgICAgInN0YXJ0dXAiOiAicnVuLWVuZXJneS1zdG9yYWdlLWdyaWQiLAogICAgICAiY29uZmlnIjogWyJlbmVyZ3ktc3RvcmFnZS1ncmlkLWNvbmZpZyJdCiAgICB9LAogICAgImdlbmVyYXRvckdyaWQiOiB7CiAgICAgICJsaWJyYXJ5IjogWwogICAgICAgICJyZW5kZXJpbmcvQ2hhcnRJdGVtIiwKICAgICAgICAicmVuZGVyaW5nL01vbml0b3JGaWVsZHNldCIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yQnV0dG9uIiwKICAgICAgICAiZ2VuZXJhdG9ycy9GbHVpZEdlbmVyYXRvciIsCiAgICAgICAgIkdlbmVyYXRvckdyaWRDb250cm9sIiwKICAgICAgICAiUmVtb3RlTW9uaXRvciIsCiAgICAgICAgIkZsdWlkIiwKICAgICAgICAiRmlsZUxvYWRlciIsCiAgICAgICAgIlV0aWxzIgogICAgICBdLAogICAgICAic3RhcnR1cCI6ICJydW4tZ2VuZXJhdG9yLWdyaWQiLAogICAgICAiY29uZmlnIjogWyJnZW5lcmF0b3ItZ3JpZC1jb25maWciXQogICAgfSwKICAgICJlbGVjdHJvTWV0ZXIiOiB7CiAgICAgICJsaWJyYXJ5IjogWwogICAgICAgICJFbmVyZ3lTdG9yYWdlIiwKICAgICAgICAiUmVtb3RlTW9uaXRvciIsCiAgICAgICAgIkVsZWN0cm9NZXRlciIsCiAgICAgICAgIlJlZHN0b25lSW50ZWdyYXRvciIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQiLAogICAgICAgICJVdGlscyIsCiAgICAgICAgIkZpbGVMb2FkZXIiCiAgICAgIF0sCiAgICAgICJzdGFydHVwIjogInJ1bi1lbGVjdHJvLW1ldGVyIiwKICAgICAgImNvbmZpZyI6IFsiZWxlY3Ryby1tZXRlci1jb25maWciXQogICAgfSwKICAgICJmbHVpZFRhbmsiOiB7CiAgICAgICJsaWJyYXJ5IjogWwogICAgICAgICJGbHVpZCIsCiAgICAgICAgIkZsdWlkVGFuayIsCiAgICAgICAgIlJlbW90ZU1vbml0b3IiLAogICAgICAgICJGbHVpZFRhbmtDb250cm9sIiwKICAgICAgICAicmVuZGVyaW5nL0NoYXJ0SXRlbSIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yTGluZSIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQiLAogICAgICAgICJyZW5kZXJpbmcvUmVuZGVySGVscGVyIiwKICAgICAgICAiVXRpbHMiLAogICAgICAgICJGaWxlTG9hZGVyIgogICAgICBdLAogICAgICAic3RhcnR1cCI6ICJydW4tZmx1aWQtdGFuayIsCiAgICAgICJjb25maWciOiBbImZsdWlkLXRhbmstY29uZmlnIl0KICAgIH0sCiAgICAibnVjbGVhclJlYWN0b3IiOiB7CiAgICAgICJsaWJyYXJ5IjogWwogICAgICAgICJGdWVsUm9kIiwKICAgICAgICAiUmVtb3RlTW9uaXRvciIsCiAgICAgICAgIk1vbml0b3IiLAogICAgICAgICJSZWRuZXRDbGllbnQiLAogICAgICAgICJGbHVpZFRhbmsiLAogICAgICAgICJSZWFjdG9yIiwKICAgICAgICAiUmVhY3RvckNvbnRyb2wiLAogICAgICAgICJSZWRzdG9uZUludGVncmF0b3IiLAogICAgICAgICJVdGlscyIsCiAgICAgICAgImhhbmRsZXJzL0NvbW1hbmRIYW5kbGVyIiwKICAgICAgICAibGlzdGVuZXJzL0NvbW1hbmRMaXN0ZW5lciIsCiAgICAgICAgIkZpbGVMb2FkZXIiCiAgICAgIF0sCiAgICAgICJiaW4iOiBbInRlcm1pbmF0ZS1yZWFjdG9yIiwgInJ1bi1jb21tYW5kLWxpc3RlbmVyIl0sCiAgICAgICJzdGFydHVwIjogInJ1bi1yZWFjdG9yIiwKICAgICAgImNvbmZpZyI6IFsicmVhY3Rvci1jb25maWciXQogICAgfSwKICAgICJ0dXJiaW5lIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAicmVuZGVyaW5nL0NoYXJ0SXRlbSIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yRmllbGRzZXQiLAogICAgICAgICJyZW5kZXJpbmcvTW9uaXRvckJ1dHRvbiIsCiAgICAgICAgIlJlbW90ZU1vbml0b3IiLAogICAgICAgICJGbHVpZFRhbmsiLAogICAgICAgICJGbHVpZCIsCiAgICAgICAgIlJlZG5ldENsaWVudCIsCiAgICAgICAgIkdlbmVyYXRvciIsCiAgICAgICAgIlR1cmJpbmVDb250cm9sIiwKICAgICAgICAiVXRpbHMiLAogICAgICAgICJGaWxlTG9hZGVyIgogICAgICBdLAogICAgICAic3RhcnR1cCI6ICJydW4tdHVyYmluZSIsCiAgICAgICJjb25maWciOiBbInR1cmJpbmUtY29uZmlnIl0KICAgIH0sCiAgICAidHVydGxlIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAidHVydGxlL1R1cnRsZSIsCiAgICAgICAgIkZpbGVMb2FkZXIiLAogICAgICAgICJSZWRuZXRDbGllbnQiLAogICAgICAgICJVdGlscyIKICAgICAgXSwKICAgICAgImJpbiI6IFsicnVuLXR1cnRsZSJdLAogICAgICAic3RhcnR1cCI6ICJydW4tdHVydGxlIiwKICAgICAgImNvbmZpZyI6IFsidHVydGxlLWNvbmZpZyJdCiAgICB9LAogICAgInJlYWN0b3JNb25pdG9yIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAiaGFuZGxlcnMvQ29tbWFuZEhhbmRsZXIiLAogICAgICAgICJsaXN0ZW5lcnMvQ29tbWFuZExpc3RlbmVyIiwKICAgICAgICAicmVuZGVyaW5nL0NoYXJ0SXRlbSIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yQnV0dG9uIiwKICAgICAgICAicmVuZGVyaW5nL01vbml0b3JGaWVsZHNldCIsCiAgICAgICAgInJlbmRlcmluZy9SZW5kZXJIZWxwZXIiLAogICAgICAgICJSZW1vdGVNb25pdG9yIiwKICAgICAgICAiUmVkbmV0Q2xpZW50IiwKICAgICAgICAiRmx1aWQiLAogICAgICAgICJGaWxlTG9hZGVyIiwKICAgICAgICAiUmVhY3Rvck1vbml0b3IiLAogICAgICAgICJVdGlscyIKICAgICAgXSwKICAgICAgImJpbiI6IFsicnVuLWNvbW1hbmQtbGlzdGVuZXIiXSwKICAgICAgInN0YXJ0dXAiOiAicnVuLXJlYWN0b3ItbW9uaXRvciIsCiAgICAgICJjb25maWciOiBbInJlYWN0b3ItbW9uaXRvci1jb25maWciXQogICAgfSwKICAgICJ0dXJ0bGVNb25pdG9yIjogewogICAgICAibGlicmFyeSI6IFsKICAgICAgICAicmVuZGVyaW5nL0NoYXJ0SXRlbSIsCiAgICAgICAgInJlbmRlcmluZy9Nb25pdG9yQnV0dG9uIiwKICAgICAgICAicmVuZGVyaW5nL01vbml0b3JGaWVsZHNldCIsCiAgICAgICAgInJlbmRlcmluZy9SZW5kZXJIZWxwZXIiLAogICAgICAgICJSZW1vdGVNb25pdG9yIiwKICAgICAgICAiUmVkbmV0Q2xpZW50IiwKICAgICAgICAiVHVydGxlTW9uaXRvciIsCiAgICAgICAgIkZpbGVMb2FkZXIiLAogICAgICAgICJVdGlscyIKICAgICAgXSwKICAgICAgInN0YXJ0dXAiOiAicnVuLXR1cnRsZS1tb25pdG9yIiwKICAgICAgImNvbmZpZyI6IFsidHVydGxlLW1vbml0b3ItY29uZmlnIl0KICAgIH0KICB9Cn0K
startup.lua
ZG9maWxlKCJsaWJyYXJ5L1BhY2thZ2VyU2VydmVyLmx1YSIpCmRvZmlsZSgibGlicmFyeS9SZWRuZXRDbGllbnQubHVhIikKZG9maWxlKCJsaWJyYXJ5L1V0aWxzLmx1YSIpCgpwcmludCgiUGFja2FnZXIgc2VydmVyLi4uIikKCmxvY2FsIHJlZG5ldENsaWVudCA9IFJlZG5ldENsaWVudDpjcmVhdGUoVXRpbHMuZmluZFBlcmlwaGVyYWxTaWRlKCJtb2RlbSIpKQoKbG9jYWwgc2VydmVyID0gUGFja2FnZXJTZXJ2ZXI6Y3JlYXRlKCJwYWNrYWdlcjAiLCAicGFja2FnZXItc2VydmVyLmpzb24iLCByZWRuZXRDbGllbnQpCgpzZXJ2ZXI6cnVuKCkK
